{"version":3,"sources":["admin/adminMain/orders/orderServices.js","admin/adminMain/Title.jsx","admin/orderCrud/createOrder/orderDetails.jsx","utils/validations.js","theme.js","login/loginPage.jsx","adminLogin/adminLoginPage.jsx","admin/adminMain/preferences/preferencesCarousel.jsx","admin/adminMain/preferences/preferenceTerms.jsx","admin/adminMain/preferences/tabPreferences.jsx","admin/adminMain/preferences/Preferences.jsx","admin/TestimonialsCrud/Testimonials.jsx","admin/adminMain/listItems.jsx","admin/adminMain/dashboard/chart.jsx","admin/adminMain/dashboard/deposits.jsx","admin/adminMain/dashboard/orders.jsx","admin/adminMain/dashboard/dashboard.jsx","admin/adminCrud/createAdmin.jsx","admin/adminCrud/readAdmins.jsx","admin/adminMain/adminUser/adminUser.jsx","admin/productCrud/createProduct.jsx","admin/productCrud/variants/createVariant.jsx","admin/productCrud/variants/readVariants.jsx","admin/adminMain/products/variants.jsx","admin/productCrud/updateProduct.jsx","admin/productCrud/readProducts.jsx","admin/adminMain/products/products.jsx","admin/consumerCrud/createConsumer.jsx","admin/consumerCrud/updateConsumer.jsx","admin/consumerCrud/readConsumers.jsx","admin/adminMain/consumers/consumers.jsx","admin/paymentMethodCrud/createPaymentMethod.jsx","admin/paymentMethodCrud/updatePaymentMethod.jsx","admin/paymentMethodCrud/readPaymentMethods.jsx","admin/adminMain/orders/paymentMethods.jsx","admin/orderCrud/createOrder/createOrder.jsx","admin/orderCrud/updateOrder.jsx","admin/adminMain/orders/orders.jsx","utils/utils.js","sharedComponents/prixerGrid/prixerGrid.jsx","logo.svg","admin/adminMain/prixers/prixers.jsx","admin/adminMain/adminMain.jsx","sharedComponents/Copyright/copyright.jsx","register/userRegistration.jsx","register/prixerRegistration.jsx","sharedComponents/appBar/Logotipo_Prixelart_H#2.png","sharedComponents/appBar/appBar.jsx","sharedComponents/floatingAddButton/floatingAddButton.jsx","prixerProfile/userData/userData.jsx","prixerProfile/prixerOptions/prixerOptions.jsx","sharedComponents/searchBar/searchBar.jsx","prixerProfile/grid/grid.jsx","sharedComponents/artUploader/easyCropper.jsx","utils/cropImage.js","sharedComponents/artUploader/aspectRatioSelector.jsx","sharedComponents/artUploader/artUploader.jsx","prixerProfile/prixerProfile.jsx","prixerProfile/fullscreenPhoto/fullscreenPhoto.jsx","sharedComponents/simpleDialog/simpleDialog.jsx","admin/TestimonialsCrud/TestimonialsFeed.jsx","home/home.jsx","gallery/gallery.jsx","products/productsGrid.jsx","products/productsCatalog.jsx","shoppingCart/consumerForm.jsx","shoppingCart/orderForm.jsx","shoppingCart/cartReview.jsx","shoppingCart/shoppingPage.jsx","utils/expire.js","prixerProfile/passwordChange/passwordChange.jsx","prixerProfile/passwordReset/forgotPassword.jsx","prixerProfile/passwordReset/passwordReset.jsx","App.js","serviceWorker.js","index.js","products/services.js"],"names":["state","orders","selectedOrder","undefined","nextId","admin","JSON","parse","localStorage","getItem","init","a","process","axios","post","response","data","length","Object","assign","initBlankOrder","input","o","orderId","order","consumerId","orderType","createdOn","Date","createdBy","subtotal","tax","total","shippingAddress","billingAddress","shippingPhone","internalShippingMethod","domesticShippingMethod","internationalShippingMethod","paymentMethodID","generalProductionStatus","paymentStatus","shippingStatus","observations","isSaleByPrixer","consumer","prix","product","art","arts","products","consumers","oS","updateSelectedOrder","Array","isArray","value","orderState","key","push","updateSelectedPrix","Title","props","component","variant","color","gutterBottom","children","useStyles","makeStyles","theme","seeMore","marginTop","spacing","backdrop","zIndex","drawer","palette","primary","main","paper","padding","borderTopColor","display","overflow","flexDirection","fixedHeight","height","OrderDetails","classes","useEffect","onChangeOrderDetails","orderServices","setOrderState","get","then","productsAttTemp1","map","p","iProd","pArr","getEquation","initDetailInfo","searchArt","searchValue","params","text","result","message","useState","open","setOpen","fixedHeightPaper","clsx","Fragment","noValidate","style","minWidth","container","xs","prod","iPrix","elevation","className","marginBottom","item","sm","md","required","labelId","id","autoHighlight","name","getOptionLabel","option","onChange","e","temp","filter","n","target","onChangePrixDetails","label","i","alt","maxWidth","src","thumbUrl","direction","alignItems","justify","attributes","eval","att","iAtt","attributesArr","selection","setProductAtts","pAtts","setSelectedProduct","pAtt","values","onOpen","onClose","options","title","event","newInputValue","onInputChange","renderOption","smallThumbUrl","minHeight","margin","fontSize","wordWrap","artId","prixerUsername","renderInput","InputProps","endAdornment","align","onClick","selectedProduct","slice","concat","publicPrice","prixerPrice","hasSpecialVar","autoHideDuration","snackbar","module","exports","isAValidEmail","email","test","String","toLowerCase","isAValidPassword","password","isAValidUsername","username","createMuiTheme","secondary","error","red","A400","background","default","Copyright","Typography","Link","href","getFullYear","root","image","backgroundRepeat","backgroundSize","backgroundPosition","avatar","backgroundColor","form","width","submit","Login","history","useHistory","setEmail","setPassword","showPassword","setShowPassword","setArt","emailError","setEmailError","passwordError","setPasswordError","errorMessage","setErrorMessage","snackBarError","setSnackBarError","now","imageUrl","largeThumbUrl","Grid","CssBaseline","backgroundImage","Paper","square","Avatar","onSubmit","preventDefault","error_info","error_message","token","jwt","setItem","stringify","getTime","pathname","catch","console","log","FormControl","textField","fullWidth","InputLabel","htmlFor","OutlinedInput","validations","labelWidth","type","InputAdornment","position","IconButton","onMouseDown","edge","Button","Box","mt","Snackbar","adminToken","useStyle","images","borderRadius","cursor","buttons","justifyContent","nameFile","whiteSpace","textOverflow","loaderImage","alignContent","imageLoad","objectFit","buttonImgLoader","tab","flexGrow","TabPanel","index","role","hidden","CarouselAdmin","useTheme","isDesktop","useMediaQuery","breakpoints","up","file","_id","newImage","loader","filename","imageLoader","setLoadImage","setType","setValue","newImages","update","setUpdate","setOpenI","withoutImage","setWithoutImage","maxImage","setMaxImages","create","setCreate","createF","setCreateF","loading","setLoading","closeWithoutImage","maxImageClose","createOpen","createClose","createCloseF","handleClickOpen","handleClose","closeUpdate","handleUpdate","x","URI","formData","FormData","append","put","getImagesForTheCarousel","handleSubmit","imagesDesktop","obj","imagesMobile","newFormData","deleteImage","d","delete","convertToBase64","blob","Promise","resolve","reader","FileReader","onload","readAsDataURL","loadImage","files","resizedString","fetch","res","json","imagesCarousels","err","Backdrop","CircularProgress","Tooltip","AppBar","fontWeight","boxShadow","Tabs","newValue","Tab","s","encType","marginLeft","accept","anchorOrigin","vertical","horizontal","ImageList","cols","rowHeight","img","key_id","ImageListItem","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","url","carouselImages","MultilineTextFields","handleChange","termsAndConditions","terms","newState","React","setState","textAlign","Markdown","source","SimpleTabs","Preferences","getStyles","indexOf","typography","fontWeightRegular","fontWeightMedium","cardMedia","paddingTop","down","bottom","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","Testimonials","setName","footer","setFooter","tiles","setTiles","setBackdrop","avatarObj","setAvatarObj","avatarPic","setAvatarPic","setInputChange","checkedA","updateId","setUpdateId","readTestimonial","responsev2","testimonials","sort","b","success","checked","onImageChange","URL","createObjectURL","deleteTestimonial","DeleteId","base_url","ChangeVisibility","GetId","status","ChangePosition","handleTestimonialDataEdit","saveChanges","isMobile","paddingBottom","lg","xl","paddingRight","paddingLeft","Select","MenuItem","TextField","autoComplete","autoFocus","multiline","rows","inputProps","maxLength","FormGroup","row","FormControlLabel","control","Switch","onDragEnd","destination","draggableId","droppableId","list","startIndex","endIndex","splice","removed","reorder","droppableProvided","droppableProps","ref","innerRef","tile","draggableProvided","draggableProps","dragHandleProps","placeholder","MainListItems","handleClick","ListItem","button","selected","active","ListItemIcon","ListItemText","InsertEmoticon","Divider","ListSubheader","inset","createData","time","amount","Chart","ResponsiveContainer","LineChart","top","right","left","XAxis","dataKey","stroke","YAxis","Label","angle","textAnchor","fill","Line","dot","depositContext","flex","Deposits","date","shipTo","paymentMethod","Orders","Table","size","TableHead","TableRow","TableCell","TableBody","toolbar","toolbarIcon","mixins","appBar","transition","transitions","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","marginRight","menuButtonHidden","drawerPaper","drawerPaperClose","overflowX","appBarSpacer","content","Dashboard","CreateAdmin","setUsername","firstname","setFirstname","lastname","setLastname","phone","setPhone","buttonState","setButtonState","class","disabled","ReadAdmins","setRows","isMounted","rowState","fetchMyAPI","gridTemplateColumn","fab","AdminUsers","location","useLocation","activeCrud","setActiveCrud","handleUserAction","action","split","Fab","border","borderStyle","borderColor","formHead","buttonEdit","CreateProduct","setActive","productName","setProductName","description","setDescription","category","setCategory","considerations","setConsiderations","videoUrl","setVideoUrl","videoPreview","setVideoPreview","fromPublicPrice","setFromPublicPrice","toPublicPrice","setToPublicPrice","fromPrixerPrice","setFromPrixerPrice","toPrixerPrice","setToPrixerPrice","setHasSpecialVar","specialVars","setSpecialVars","loadOpen","setLoadOpen","loaDOpen","setLoaDOpen","mustImage","setMustImages","setTimeout","replaceImage","from","to","isSpecialVarVisible","componenet","Checkbox","specialVar","preview","hideToolbar","div","document","getElementById","sti","replace","previewMp4","modifyString","innerHTML","CreateVariant","setAttributes","variantName","setVariantName","equation","publicPriceEq","setPublicPriceEq","prixerPriceEq","setPrixerPriceEq","variantImage","setImage","loadeImage","insertVariants","productData","variants","updatedVariants","v","unshift","nanoid","updatedWithVariants","sources","setVariant","ReadVariants","Variants","handleProductAction","setActiveVCrud","activeVCrud","UpdateAdmin","productId","imagesList","showVariants","setShowVariants","indexImage","removeItem","currentVideo","find","indexVideo","setProductEdit","ReadProducts","deleteSuccess","setDelete","deleteOpen","setDeleteOpen","getRows","deleteProduct","setProduct","productResult","paper2","overflowY","shadows","transform","Products","productEdit","termsAgreeVar","setTermsAgreeVar","TermsAgreeModal","Id","termsAgree","Modal","CreateConsumer","consumerType","setConsumerType","consumerFirstname","setConsumerFirstname","consumerLastname","setConsumerLastname","setBillingAddress","setShippingAddress","instagram","setInstagram","birthdate","setBirthdate","nationalIdType","setNationalIdType","nationalId","setNationalId","gender","setGender","contactedBy","defaultValue","InputLabelProps","shrink","format","UpdateConsumer","ReadConsumers","setConsumer","Consumers","consumerEdit","setConsumerEdit","handleConsumerAction","CreatePaymentMethod","instructions","setInstructions","paymentData","setPaymentData","UpdatePaymentMethod","ReadPaymentMethods","setPaymentMethod","PaymentMethods","paymentMethodEdit","setPaymentMethodEdit","handlePaymentMethodAction","isShowDetails","setIsShowDetails","modalContent","setModalContent","readOrders","handleChangeStatus","textTransform","requests","quantity","lenght","toFixed","orderPaymentMethod","generateProductMessage","generateArtMessage","lineBreak","util","generateWaMessage","waNumber","welcomeMessage","maxPrintCalc","ppi","iso","widthCm","heightCm","pxToCmConversionRate","Math","trunc","shuffle","array","temporaryValue","randomIndex","currentIndex","floor","random","generateWaProductMessage","generateWaBuyMessage","buy","flexWrap","gridList","icon","cardGrid","card","cardContent","PrixerGrid","utils","prixers","Card","CardMedia","CardContent","firstName","lastName","specialty","specialtyArt","CardActions","Prixers","readPrixers","prixerId","AdminMain","Toolbar","noWrap","Badge","badgeContent","Drawer","List","Container","pt","modal","SignUp","setFirstName","setLastName","styles","setModal","usernameError","setUsernameError","info","borderWidth","formControl","specialties","PrixerRegistration","facebook","setFacebook","twitter","setTwitter","dateOfBirth","setDateOfBirth","country","setCountry","city","setCity","isChecked","setIsChecked","setSpecialty","openModal","body","prixerData","multiple","Input","textDecoration","drawerWidth","easeOut","flexShrink","MenuAppBar","anchorEl","setAnchorEl","Boolean","open2","setAvatar","handleMain","handleBack","goBack","handlePasswordChange","handleCTLogin","handleMyAccount","handleLogout","handleGallery","handleProductCatalog","handleShoppingCart","getPrixerAvatar","user","hide","logo","anchor","drawerHeader","orientation","window","currentTarget","keepMounted","transformOrigin","extendedIcon","uwStyles","sourceBg","windowBorder","tabIcon","inactiveTabIcon","menuIcons","link","inProgress","complete","textDark","textLight","fonts","FloatingAddButton","setOpenArtFormDialog","UserData","prixerDataState","setPrixerDataState","setSpecialtyArt","setReady","prixerExists","setPrixerExists","profilePic","setProfilePic","setPrixer","handleProfileDataEdit","BasicButtonGroup","ButtonGroup","iconButton","CustomizedInputBase","URLSearchParams","search","categories","setCategories","queryValue","setQueryValue","isShowFilter","setIsShowFilter","searchPhotos","InputBase","IOSSwitch","withStyles","switchBase","common","white","opacity","thumb","track","grey","focusVisible","focusVisibleClassName","disableRipple","imagen","globalParams","setSearchValue","categoryValue","setCategoryValue","setSnackBar","setSnackBarMessage","selectedArt","setSelectedArt","setOpenV","disabledReason","setDisabledReason","visible","setVisible","handleCloseVisible","setVisibleArt","handleFullImage","Masonry","columnWidth","itemSelector","columnsCountBreakPoints","columnGap","points","setIsOpenAssociateProduct","addingToCart","squareThumbUrl","debounce","cache","EasyCropper","croppedArt","ar","setCroppedArt","setCroppedAreaPixels","aspect","crop","setCrop","zoom","setZoom","croppedArtTemp","onCropComplete","useCallback","croppedArea","croppedAreaPixels","y","onCropChange","onZoomChange","createImage","reject","Image","addEventListener","setAttribute","getRadianAngle","degreeValue","PI","getCroppedImg","imageSrc","pixelCrop","rotation","canvas","createElement","ctx","getContext","maxSize","max","safeArea","sqrt","translate","rotate","drawImage","getImageData","putImageData","round","toBlob","croppedImg","croppedImgFile","iconTabs","objectPosition","AspectRatioSelector","tabValue","setTabValue","handleCrop","thumbFile","cropped","indicatorColor","textColor","scrollButtons","photoIsos","artTypes","Transition","forwardRef","Slide","aspectRatios","ArtUploader","setTitle","artUrl","setArtUrl","tags","setTags","preTags","publicId","originalPhotoHeight","setOriginalPhotoHeight","originalPhotoWidth","setOriginalPhotoWidth","originalPhotoIso","setOriginalPhotoIso","originalPhotoPpi","setOriginalPhotoPpi","maxPrintHeightCm","setMaxPrintHeightCm","maxPrintWidthCm","setMaxPrintWidthCm","artType","setArtType","setLocation","requiredPhoto","setRequiredPhoto","uploaded","setUploaded","mimeType","setMimeType","uploadedArtMeta","setUploadedArtMeta","snackBarAction","setSnackBarAction","handleMaxPrintCalc","newArtPost","getMimeType","fileReader","onloadend","arr","Uint8Array","subarray","header","toString","readAsArrayBuffer","handleArtChange","artMeta","objectUrl","reload","openArtFormDialog","TransitionComponent","hover","startIcon","Autocomplete","freeSolo","renderTags","getTagProps","Chip","textalign","float","PrixerProfile","match","getTerms","FullscreePhoto","ready","updatedTile","setUpdatedTile","artDataState","setArtDataState","snackBar","snackBarMessage","hiddenArt","setHiddenArt","setPoints","propsRank","min","handleArtEdit","handleArtDescriptionEdit","tempTiles","descriptionEdit","handleArtTitleEdit","titleEdit","handleOriginalPhotoHeight","originalPhotoHeightEdit","handleOriginalPhotoWidth","originalPhotoWidthEdit","handleOriginalPhotoPpi","originalPhotoPpiEdit","handleOriginalPhotoIso","originalPhotoIsoEdit","handleArtLocationEdit","locationEdit","handleClickVisible","artLocation","maxPrintValues","navigateToPrixer","deleteArt","readArt","rankArt","parseInt","setInterval","scrollIntoView","behavior","block","CardActionArea","thumbnailUrl","srcSet","mediumThumbUrl","sizes","tag","onDelete","newTiles","onKeyDown","SimpleDialog","setArts","TestimonialsFeed","heroContent","heroButtons","CarouselContent","heigh","Home","isDeskTop","newImagesDesktop","newImagesMobile","setOpenModal","openPrixers","setOpenPrixers","openArts","setOpenArts","openTestimonials","setOpenTestimonials","imgsMobile","stopAutoPlayOnHover","animation","fullHeightHover","IndicatorIcon","NextIcon","PrevIcon","navButtonsProps","indicatorContainerProps","gridTemplateColumns","buyState","addItemToBuyState","isOpenAssociateProduct","selectedProductToAssociate","previous","setSelectedProductToAssociate","AssociateProduct","Gallery","selectEmpty","ProductGrid","imagesVariants","setWidth","setHeight","setOrder","getAttributes","productsArr","autoPlay","activeIndicatorIconButtonProps","needsEquation","dangerouslySetInnerHTML","__html","marginBotom","prixerEquation","parseFloat","publicEquation","w","l","h","reduce","r","setIsOpenAssociateArt","ProductsCatalog","isOpenAssociateArt","selectedArtToAssociate","setSelectedArtToAssociate","gridInput","ConsumerForm","shippingDataCheck","setShippingDataCheck","billingDataCheck","setBillingDataCheck","billingShDataCheck","setBillingShDataCheck","expanded","setExpanded","handleAccordionExpansion","panel","isExpanded","Accordion","AccordionSummary","expandIcon","AccordionDetails","setValues","UtilVals","helperText","ci","startAdornment","address","shippingName","shippingLastName","billingShName","billingShLastName","billingShPhone","billingShAddress","OrderForm","getTotalPrice","prices","getTotalCombinedItems","totalNotCompleted","getIvaCost","disablePadding","Collapse","in","timeout","unmountOnExit","setOrderPaymentMethod","CartReview","isIphone","deleteProductInItem","addItemContainer","deleteItemInBuyState","substring","changeQuantity","ShoppingPage","activeStep","setActiveStep","steps","createOrder","orderLines","valuesConsumerForm","newConsumer","setMessage","closeOp","setValuesConsumerForm","setBuyState","Stepper","Step","StepLabel","valuesConsumer","setValuesConsumer","onCreateConsumer","prevActiveStep","valueKey","expiryKey","itemStr","expiryStr","expiry","PasswordChange","newPassword","setNewPassword","showNewPassword","setShowNewPassword","currentPassword","setCurrentPassword","showCurrentPassword","setShowCurrentPassword","currentPasswordError","setCurrentPasswordError","newPasswordError","setNewPasswordError","sleep","ms","ForgotPassword","PasswordReset","App","filterState","expire","path","exact","findIndex","ResetPassword","FullscreenPhoto","hostname","defaults","withCredentials","ReactDOM","render","ThemeProvider","navigator","serviceWorker","registration","unregister","attValue","Set","flatMap","res1","structureEquation","eq","j","productArr","every","includes","filteredVars"],"mappings":"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","file":"static/js/main.baf6c283.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst state = {\r\n  orders: [],\r\n  selectedOrder: undefined,\r\n  nextId: 1,\r\n  admin: JSON.parse(localStorage.getItem(\"adminToken\")),\r\n};\r\n\r\n//INIT\r\nconst init = async () => {\r\n  const base_url = process.env.REACT_APP_BACKEND_URL + \"/order/read-all\";\r\n  const response = await axios.post(base_url);\r\n  if (response.data.length !== 0) {\r\n    return Object.assign({}, state, {\r\n      orders: response.data,\r\n      // nextId: response.data[response.data.length].orderId\r\n    });\r\n  } else {\r\n    return state;\r\n  }\r\n};\r\n\r\nconst initBlankOrder = async (input) => {\r\n  const o = {\r\n    orderId: input.order.nextId,\r\n    consumerId: \"\",\r\n    orderType: \"Venta\",\r\n    createdOn: new Date(),\r\n    createdBy: input.order.admin,\r\n    subtotal: 0,\r\n    tax: 0,\r\n    total: 0,\r\n    shippingAddress: \"\",\r\n    billingAddress: \"\",\r\n    shippingPhone: \"\",\r\n    internalShippingMethod: \"Yalo\",\r\n    domesticShippingMethod: \"No aplica\",\r\n    internationalShippingMethod: \"No aplica\",\r\n    paymentMethodID: \"\",\r\n    generalProductionStatus: \"Por solicitar\",\r\n    paymentStatus: \"Por pagar\",\r\n    shippingStatus: \"Por entregar\",\r\n    observations: \"\",\r\n    isSaleByPrixer: false,\r\n    consumer: \"\",\r\n    prix: [\r\n      {\r\n        product: \"\",\r\n        art: \"\",\r\n        arts: [],\r\n      },\r\n    ],\r\n    products: [],\r\n    consumers: [],\r\n  };\r\n\r\n  return Object.assign({}, input.order, {\r\n    selectedOrder: o,\r\n  });\r\n};\r\n\r\n//CRUD\r\n// const createOrder = ()=> {\r\n\r\n// };\r\n\r\n// const readOrder = ()=> {\r\n\r\n// };\r\n\r\n// const deleteOrder = ()=> {\r\n\r\n// };\r\n\r\nconst updateSelectedOrder = (input) => {\r\n  if (Array.isArray(input.value)) {\r\n    input.orderState.selectedOrder[input.key].push(input.value);\r\n  } else {\r\n    input.orderState.selectedOrder[input.key] = input.value;\r\n  }\r\n  return Object.assign({}, input.orderState, {\r\n    selectedOrder: input.orderState.selectedOrder,\r\n  });\r\n};\r\n\r\nconst updateSelectedPrix = (input) => {\r\n  if (Array.isArray(input.value)) {\r\n    input.prix[input.key].push(input.value[0]);\r\n  } else {\r\n    input.prix[input.key] = input.value[0];\r\n  }\r\n  return Object.assign({}, input, {\r\n    prix: input.prix,\r\n  });\r\n};\r\n\r\nconst oS = {\r\n  init,\r\n  initBlankOrder,\r\n  updateSelectedOrder,\r\n  updateSelectedPrix,\r\n};\r\n\r\nexport default oS;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function Title(props) {\r\n  return (\r\n    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTitle.propTypes = {\r\n  children: PropTypes.node,\r\n};","/* eslint no-eval: 0 */\r\nimport React from 'react';\r\nimport { useState, useEffect } from 'react';\r\n// import { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Title from '../../adminMain/Title';\r\nimport axios from 'axios';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n// import Backdrop from '@material-ui/core/Backdrop';\r\n// import CircularProgress from '@material-ui/core/CircularProgress';\r\n// import IconButton from '@material-ui/core/IconButton';\r\n// import OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n// import InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Typography from '@material-ui/core/Typography';\r\n// import Visibility from '@material-ui/icons/Visibility';\r\n// import VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport clsx from 'clsx';\r\n// import Checkbox from '@material-ui/core/Checkbox';\r\n// import { nanoid } from 'nanoid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { setProductAtts, getEquation } from '../../../products/services.js';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport orderServices from '../../adminMain/orders/orderServices';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n  paper: {\r\n    marginTop: 50,\r\n    padding: theme.spacing(2),\r\n    borderTopColor: \"rgba(102,102,102, 1)\",\r\n    display: 'flex',\r\n    overflow: 'none',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 'auto',\r\n    overflow: 'none'\r\n  },\r\n}));\r\n\r\nexport default function OrderDetails(props) {\r\n    const classes = useStyles();\r\n\r\n    useEffect(()=> {\r\n        async function onChangeOrderDetails(key, value) {\r\n            const state = await orderServices.updateSelectedOrder({ orderState: props.orderState, key: key, value: value  });\r\n          props.setOrderState(state);\r\n        };\r\n\r\n        async function initDetailInfo() {\r\n          const base_url= process.env.REACT_APP_BACKEND_URL + \"/product/read-all\";\r\n          axios.get(base_url)\r\n          .then(async (response) =>{\r\n              let productsAttTemp1 = response.data.products\r\n              await productsAttTemp1.map(async (p, iProd, pArr)=>{\r\n                  productsAttTemp1 = await getEquation(p, iProd, pArr);\r\n              });\r\n      \r\n              onChangeOrderDetails('products', productsAttTemp1);\r\n          });\r\n        }\r\n        initDetailInfo();\r\n      }, [props]);\r\n\r\n      const searchArt = async (searchValue)=> {\r\n        const artBase_url= process.env.REACT_APP_BACKEND_URL + \"/art/read-by-query\";\r\n        const params = {\r\n            text: searchValue\r\n        }\r\n        const response = await axios.get(artBase_url, {params});\r\n        if(response.data) {\r\n            return response.data.arts;\r\n        } else {\r\n            return { result: false, message: \"No arts\" };\r\n        }\r\n      }\r\n      \r\n    // const [prodTiles, setProdTiles] = useState();\r\n    // const [artTiles, setArtTiles] = useState();\r\n    // const [prixer, setPrixer] = useState();\r\n    // const [artImage, setArtImage] = useState();\r\n    // const [ width, setWidth ] = useState([]);\r\n    // const [ height, setHeight ] = useState([]);\r\n    const [ open, setOpen ] = useState([false]);\r\n    // const [load, setLoad] = useState(false);\r\n    // const [ art, setArt ] = useState([]);\r\n    // const [ props.selectedProduct, props.setSelectedProduct ] = useState(\r\n    //     [\r\n    //         {\r\n    //             art: {\r\n    //                 'artId': '',\r\n    //                 'title': '',\r\n    //                 'prixerUsername': '',\r\n    //                 'userId': '',\r\n    //             },\r\n    //             base: {\r\n    //                 'thumbUrl': '',\r\n    //                 'active' : true,\r\n    //                 'name' : '',\r\n    //                 'description' : '',\r\n    //                 'category' : '',\r\n    //                 'considerations' : '',\r\n    //                 publicPrice: {\r\n    //                     'from': '',\r\n    //                     'to': '',\r\n    //                 },\r\n    //                 prixerPrice: {\r\n    //                     'from': '',\r\n    //                     'to': '',\r\n    //                 },\r\n    //                 hasSpecialVar: ''\r\n    //             }\r\n    //         }\r\n    //     ]\r\n    // );\r\n\r\n    // const [ active, setActive ] = useState(props.variant && props.variant.active || false);\r\n    // const [ attributes, setAttributes ] = useState(props.variant && props.variant.attributes || [{ name:'', value:''}]);\r\n    // const [ variantName, setVariantName ] = useState(props.variant && props.variant.name || '');\r\n    // const [ description, setDescription ] = useState(props.variant && props.variant.description || '');\r\n    // const [ category, setCategory ] = useState(props.variant && props.variant.category || '');\r\n    // const [ considerations, setConsiderations ] = useState(props.variant && props.variant.considerations || '');\r\n    // const [publicPriceEq, setPublicPriceEq] = useState(props.variant && props.variant.publicPrice.equation || '');\r\n    // const [fromPublicPrice, setFromPublicPrice] = useState(props.variant && props.variant.publicPrice.from || '');\r\n    // const [ toPublicPrice, setToPublicPrice ] = useState(props.variant && props.variant.publicPrice.to || '');\r\n    // const [ prixerPriceEq, setPrixerPriceEq ] = useState(props.variant && props.variant.prixerPrice.equation || '');\r\n    // const [ fromPrixerPrice, setFromPrixerPrice ] = useState(props.variant && props.variant.prixerPrice.from || '');\r\n    // const [ toPrixerPrice, setToPrixerPrice ] = useState(props.variant && props.variant.prixerPrice.to || '');\r\n    // const [loading, setLoading] = useState(false);\r\n    // const [buttonState, setButtonState] = useState(false);\r\n    // const [ typedArt, setTypedArt ] = useState('');\r\n    // const history = useHistory();\r\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n    // const [ thumbUrl, setThumbUrl ] = useState(props.variant && props.variant.thumbUrl || '');\r\n\r\n    //Error states.\r\n    // const [errorMessage, setErrorMessage] = useState();\r\n    // const [snackBarError, setSnackBarError] = useState(false);\r\n\r\n    // const insertVariants = (productData, variants)=> {\r\n    //     let updatedVariants = productData;\r\n    //     updatedVariants.variants = productData.variants.filter((v)=>{ if(v._id != props.variant._id) return v});\r\n    //     variants._id = props.variant._id\r\n    //     updatedVariants.variants.unshift(variants);\r\n\r\n    //     return updatedVariants;\r\n    // }\r\n\r\n    // const handleSubmit = async (e)=> {\r\n    //   e.preventDefault();\r\n    //   if(!active && \r\n    //     !variantName && \r\n    //     !description && \r\n    //     !category && \r\n    //     !considerations && \r\n    //     !publicPriceEq &&\r\n    //     !fromPublicPrice &&\r\n    //     !toPublicPrice && \r\n    //     !prixerPriceEq &&\r\n    //     !fromPrixerPrice &&\r\n    //     !toPrixerPrice &&\r\n    //     !thumbUrl){\r\n    //     setErrorMessage('Por favor completa todos los campos requeridos.');\r\n    //     setSnackBarError(true);\r\n    //     e.preventDefault();\r\n    //   } else {\r\n    //     setLoading(true);\r\n    //     setButtonState(true);\r\n\r\n    //     const productData = props.product;\r\n\r\n    //     const variants = {\r\n    //         '_id': props.variant && props.variant._id || nanoid(),\r\n    //         'thumbUrl': thumbUrl,\r\n    //         'active' : active,\r\n    //         'name' : variantName,\r\n    //         'description' : description,\r\n    //         'category' : category,\r\n    //         'considerations' : considerations,\r\n    //         publicPrice: {\r\n    //             'from': fromPublicPrice,\r\n    //             'to': toPublicPrice,\r\n    //             'equation': publicPriceEq\r\n    //         },\r\n    //         prixerPrice: {\r\n    //             'from': fromPrixerPrice,\r\n    //             'to': toPrixerPrice,\r\n    //             'equation': prixerPriceEq\r\n    //         }\r\n    //     }\r\n\r\n    //     variants.attributes ?\r\n    //         variants.attributes.push(...attributes)\r\n    //     : variants.attributes = attributes;\r\n    //     let updatedWithVariants = {};\r\n        \r\n    //     if(props.variant) {\r\n    //         updatedWithVariants = insertVariants(productData, variants);\r\n    //     } else {\r\n    //         productData.variants.unshift(variants);\r\n    //         updatedWithVariants = productData;\r\n    //     }\r\n        \r\n    //     const base_url= process.env.REACT_APP_BACKEND_URL + \"/product/update\";\r\n    //     const response = await axios.post(base_url,updatedWithVariants)\r\n\r\n    //     if(response.data.success === false){\r\n    //       setLoading(false);\r\n    //       setButtonState(false);\r\n    //       setErrorMessage(response.data.message);\r\n    //       setSnackBarError(true);\r\n    //       props.setVariant('');\r\n    //     } else {\r\n    //       setErrorMessage('Actualización de producto exitoso.');\r\n    //       setSnackBarError(true);\r\n    //       setActive('');\r\n    //       setThumbUrl('');\r\n    //       setVariantName('');\r\n    //       setDescription('');\r\n    //       setCategory('');\r\n    //       setConsiderations('');\r\n    //       setPublicPriceEq('');\r\n    //       setFromPublicPrice('');\r\n    //       setToPublicPrice('');\r\n    //       setPrixerPriceEq('');\r\n    //       setFromPrixerPrice('');\r\n    //       setToPrixerPrice('');\r\n    //       props.setVariant('');\r\n    //       setLoading(false);\r\n    //       history.push({pathname:\"/admin/product/read\"});\r\n    //     }\r\n    //   }\r\n\r\n    // }\r\n\r\n  return (\r\n    <React.Fragment>\r\n    {/* {\r\n    <Backdrop className={classes.backdrop} open={loading}>\r\n        <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n    } */}\r\n        <form noValidate \r\n        // onSubmit={handleSubmit} \r\n        style={{minWidth: \"100%\"}}> \r\n            <Grid container spacing={2} xs={12}>\r\n                <Grid container xs={12} spacing={2} style={{padding:5}}>\r\n                    {\r\n                    // (props.selectedProduct.length != 0 && \r\n                    // props.selectedProduct != 'undefined') &&\r\n                    // props.selectedProduct.base != 'undefined' &&\r\n                    // props.selectedProduct.art != 'undefined' &&\r\n\r\n\r\n                    props.orderState.selectedOrder.prix.map((prod, iPrix, pArr)=>(\r\n                        <Paper elevation={3} className={fixedHeightPaper} style={{minWidth: \"100%\"}} >\r\n                        <Grid container xs={12}>\r\n                        <Grid container xs={11}>\r\n                            <Grid container spacing={2} xs={12} style={{marginBottom: 10, marginTop: 10}}>\r\n                                <Grid xs={12}><Title>Producto {iPrix+1}</Title></Grid>\r\n                                <Grid item xs={12} sm={12} md={4}>\r\n                                    <FormControl variant=\"outlined\" style={{minWidth: \"100%\"}}>\r\n                                        <InputLabel required>Productos</InputLabel>\r\n                                        <Select\r\n                                        labelId=\"artTypeLabel\"\r\n                                        id=\"artType\"\r\n                                        autoHighlight\r\n                                        value={prod.product.name || ''}\r\n                                        getOptionLabel={\r\n                                           (option) => {\r\n                                             if(typeof option === 'string') {\r\n                                              return option;\r\n                                             } else {\r\n                                               return \"\";\r\n                                             }\r\n                                            }\r\n                                        }\r\n                                        onChange={\r\n                                            (e)=>{\r\n                                                    const temp = props.orderState.selectedOrder\r\n                                                    temp.prix[iPrix].product = props.orderState.selectedOrder.products.filter(n=> n.name === e.target.value);\r\n                                                    onChangePrixDetails('product',[...temp.prix[iPrix].product], iPrix);\r\n                                            }\r\n                                        } \r\n                                        label={prod.product.name || ''}\r\n                                        >\r\n                                        {\r\n                                        props.orderState.selectedOrder.products &&\r\n                                        props.orderState.selectedOrder.products.map((n, i, pArr) => (\r\n                                                            <MenuItem key={i} value={n.name}>\r\n                                                            <Paper elevation={3} style={{minWidth: \"100%\"}} >\r\n                                                                <Grid container spacing={2}  xs={12}>\r\n                                                                    <Grid item xs={4} style={{padding:15}}>\r\n                                                                        <img alt=\"img-thumb\" style={{maxWidth: \"100%\"}} src={n.thumbUrl}/>\r\n                                                                    </Grid>\r\n                                                                    <Grid container xs={8}\r\n                                                                        spacing={0}\r\n                                                                        direction=\"column\"\r\n                                                                        alignItems=\"center\"\r\n                                                                        justify=\"center\">\r\n                                                                        {n.name}\r\n                                                                        </Grid>\r\n                                                                    </Grid>\r\n                                                                </Paper>\r\n                                                            </MenuItem>\r\n                                            ))\r\n                                        }\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n                                <Grid item spacing={2} xs={12} md={6}>\r\n                                <Grid container spacing={2} xs={12} md={12}>\r\n                                    {\r\n                                    prod.product.attributes && prod.product.attributes[0] && eval(prod.product.attributes[0]).length !== 0 &&\r\n                                    eval(prod.product.attributes[0]).map((att,iAtt, attributesArr) => (\r\n                                    <Grid item md={6/(attributesArr.length-1)} xs={12}>\r\n                                        <FormControl variant=\"outlined\" style={{minWidth: \"100%\"}}>\r\n                                            \r\n                                            <InputLabel required id=\"att.name\">{att.name}</InputLabel>\r\n                                            <Select\r\n                                            labelId=\"artTypeLabel\"\r\n                                            id=\"artType\"\r\n                                            value={prod.product.selection && prod.product.selection[iAtt]}\r\n                                            onChange={\r\n                                                async (e)=>{\r\n                                                    const pAtts = await setProductAtts(e.target.value, iPrix, iAtt, pArr, 0, 0);\r\n                                                    if (pAtts) {\r\n                                                        props.setSelectedProduct(pAtts.pAtt ? [...pAtts.pAtt] : [...pAtts.att]);\r\n                                                    }\r\n                                                }\r\n                                            } \r\n                                            label={att.selection}\r\n                                            >\r\n                                            <MenuItem value=\"\">\r\n                                                <em></em>\r\n                                            </MenuItem>\r\n                                            {\r\n                                            att.values &&\r\n                                            att.values.map((n, i) => (\r\n                                                <MenuItem key={n.name} value={n}>{n}</MenuItem>\r\n                                            ))\r\n                                            }\r\n                                            </Select>\r\n                                        </FormControl>\r\n                                    </Grid>\r\n                                    ))\r\n                                    }\r\n                                </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid container spacing={2} xs={12} style={{marginBottom: 10, marginTop: 10}}>\r\n                            <Grid xs={12}><Title>Arte {iPrix+1}</Title></Grid>\r\n                            <Grid item xs={12} md={12}>\r\n                                <FormControl variant=\"outlined\" style={{minWidth: \"100%\"}} xs={12} sm={12} md={12}>\r\n                                    <Autocomplete\r\n                                    id=\"asynchronous-demo\"\r\n                                    open={open[iPrix]}\r\n                                    onOpen={() => {\r\n                                        const temp = open;\r\n                                        temp[iPrix] = true;\r\n                                        setOpen(temp);\r\n                                    }}\r\n                                    onClose={() => {\r\n                                        const temp = open;\r\n                                        temp[iPrix] = false;\r\n                                        setOpen(temp);\r\n                                    }}\r\n                                    value={props.orderState.selectedOrder.prix[iPrix].art}\r\n                                    options={props.orderState.selectedOrder.prix[iPrix].arts}\r\n                                    getOptionLabel={\r\n                                        (option) => {\r\n                                            if(typeof option === 'object') {\r\n                                                return option.title;\r\n                                            } else {\r\n                                                return \"\";\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    onChange={async (event, newInputValue) => {\r\n                                        \r\n                                        const temp = props.orderState.selectedOrder.prix[iPrix];\r\n                                        temp.art = newInputValue;\r\n\r\n                                        onChangePrixDetails('art', [newInputValue], iPrix);\r\n\r\n                                    }}\r\n                                    onInputChange={async (event, newInputValue) => {\r\n                                        let temp = props.orderState.selectedOrder.prix[iPrix].arts;\r\n                                        // let temp1 = props.orderState.selectedOrder.prix[iPrix].art;\r\n                                        \r\n                                        if(temp.length < iPrix) {\r\n                                            temp.push(await searchArt(newInputValue));\r\n                                        } else {\r\n                                            temp[iPrix] = await searchArt(newInputValue);\r\n                                        }\r\n    \r\n                                        // if(temp1.length < iPrix) {\r\n                                        //     temp1.push(temp[iPrix]);\r\n                                        //     // temp.push(await searchArt(newInputValue));\r\n                                        // } else {\r\n                                        //     temp1[iPrix] = temp[iPrix];\r\n                                        //     // temp[iPrix] = await searchArt(newInputValue);\r\n                                        // }\r\n    \r\n                                        onChangePrixDetails('arts', temp, iPrix);\r\n                                        // onChangePrixDetails('art', temp1);\r\n                                        // props.setOptions(temp);\r\n                                        // props.setSelectedArt(temp1);\r\n                                    }}\r\n                                    renderOption={(option) => (\r\n                                      <React.Fragment>\r\n                                        <Paper elevation={3} style={{minWidth: \"100%\"}} >\r\n                                          <Grid container spacing={2}  xs={12}>\r\n                                            <Grid item xs={12} md={4}>\r\n                                                <img alt=\"thumb\" style={{maxWidth: \"100%\"}} src={option.smallThumbUrl}/>\r\n                                            </Grid>\r\n                                            <Grid container xs={12} md={8}\r\n                                                spacing={0}\r\n                                                style={{minHeight:30, margin:0, padding: 0}}\r\n                                                direction=\"column\"\r\n                                                alignItems=\"center\"\r\n                                                justify=\"center\">\r\n                                                <Typography variant=\"h3\" style={{fontSize:\"65%\", wordWrap: \"break-word\"}}>{option.artId} | {option.title} - {option.prixerUsername}</Typography>\r\n                                            </Grid>\r\n                                          </Grid>\r\n                                        </Paper>\r\n                                      </React.Fragment>\r\n                                    )}\r\n                                    renderInput={(params) => (\r\n                                        <TextField\r\n                                        {...params}\r\n                                        label=\"Arte\"\r\n                                        variant=\"outlined\"\r\n                                        InputProps={{\r\n                                            ...params.InputProps,\r\n                                            endAdornment: (\r\n                                            <React.Fragment>\r\n                                                {/* {loading ? <CircularProgress color=\"inherit\" size={20} /> : null} */}\r\n                                                {params.InputProps.endAdornment}\r\n                                            </React.Fragment>\r\n                                            ),\r\n                                        }}\r\n                                        />\r\n                                    )}\r\n                                    />\r\n                                </FormControl>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid>\r\n                                {/* <Typography>{getPVP(props.order.selectedOrder.prix)}</Typography> */}\r\n                            </Grid>\r\n                            </Grid>\r\n                            <Grid container xs={12} md={1}>\r\n                                <Button variant=\"contained\" color=\"primary\" align=\"right\" onClick={()=>{ props.setSelectedProduct(props.selectedProduct.slice(0, iPrix).concat(props.selectedProduct.slice(iPrix+1,)))}} \r\n                                > \r\n                                {/* disabled={buttonState}> */}\r\n                                    -\r\n                                </Button>\r\n                            </Grid>\r\n                            </Grid>\r\n                        </Paper>\r\n                            ))\r\n                    \r\n                    // props.selectedProduct.map((prod, iProd, pArr)=>(\r\n                    // <Paper elevation={3} className={fixedHeightPaper} style={{minWidth: \"100%\"}} >\r\n                    // <Grid container xs={12}>\r\n                    // <Grid container xs={11}>\r\n                    //     <Grid container spacing={2} xs={12} style={{marginBottom: 10, marginTop: 10}}>\r\n                    //         <Grid xs={12}><Title>Producto {iProd+1}</Title></Grid>\r\n                    //         <Grid item xs={12} sm={12} md={4}>\r\n                    //             <FormControl variant=\"outlined\" style={{minWidth: \"100%\"}}>\r\n                    //                 <InputLabel required>Productos</InputLabel>\r\n                    //                 <Select\r\n                    //                 labelId=\"artTypeLabel\"\r\n                    //                 id=\"artType\"\r\n                    //                 autoHighlight\r\n                    //                 value={prod.base.name}\r\n                    //                 onChange={\r\n                    //                     (e)=>{\r\n                    //                             const sel = props.selectedProduct;\r\n                    //                             const temp = prodTiles.filter(n=> n.name == e.target.value);\r\n                    //                                 sel[iProd].base = temp[0];\r\n                    //                             props.setSelectedProduct([...sel]);\r\n                    //                     }\r\n                    //                 } \r\n                    //                 label={prod.base.name}\r\n                    //                 >\r\n                    //                 {\r\n                    //                 prodTiles &&\r\n                    //                     prodTiles.map((n, i, pArr) => (\r\n                    //                                     <MenuItem key={i} value={n.name}>\r\n                    //                                     <Paper elevation={3} style={{minWidth: \"100%\"}} >\r\n                    //                                         <Grid container spacing={2}  xs={12}>\r\n                    //                                             <Grid item xs={4} style={{padding:15}}>\r\n                    //                                                 <img style={{maxWidth: \"100%\"}} src={n.thumbUrl}/>\r\n                    //                                             </Grid>\r\n                    //                                             <Grid container xs={8}\r\n                    //                                                 spacing={0}\r\n                    //                                                 direction=\"column\"\r\n                    //                                                 alignItems=\"center\"\r\n                    //                                                 justify=\"center\">\r\n                    //                                                 {n.name}\r\n                    //                                                 </Grid>\r\n                    //                                             </Grid>\r\n                    //                                         </Paper>\r\n                    //                                     </MenuItem>\r\n                    //                     ))\r\n                    //                 }\r\n                    //                 </Select>\r\n                    //             </FormControl>\r\n                    //         </Grid>\r\n                    //         <Grid item spacing={2} xs={12} md={6}>\r\n                    //         <Grid container spacing={2} xs={12} md={12}>\r\n                    //             {\r\n                    //             prod.base.attributes && prod.base.attributes.length != 0 &&\r\n                    //             prod.base.attributes.map((att,iAtt, attributesArr) => (\r\n                    //             <Grid item md={6/(attributesArr.length-1)} xs={12}>\r\n                    //                 <FormControl variant=\"outlined\" style={{minWidth: \"100%\"}}>\r\n                                        \r\n                    //                     <InputLabel required id=\"att.name\">{att.name}</InputLabel>\r\n                    //                     <Select\r\n                    //                     labelId=\"artTypeLabel\"\r\n                    //                     id=\"artType\"\r\n                    //                     value={prod.base.selection && prod.base.selection[iAtt]}\r\n                    //                     onChange={\r\n                    //                         async (e)=>{\r\n                    //                             const pAtts = await setProductAtts(e.target.value, iProd, iAtt, pArr, width, height);\r\n                    //                             if (pAtts) {\r\n                    //                                 props.setSelectedProduct(pAtts.pAtt ? [...pAtts.pAtt] : [...pAtts.att]);\r\n                    //                             }\r\n                    //                         }\r\n                    //                     } \r\n                    //                     label={att.selection}\r\n                    //                     >\r\n                    //                     <MenuItem value=\"\">\r\n                    //                         <em></em>\r\n                    //                     </MenuItem>\r\n                    //                     {\r\n                    //                     att.value &&\r\n                    //                     att.value.map((n, i) => (\r\n                    //                         <MenuItem key={n.name} value={n}>{n}</MenuItem>\r\n                    //                     ))\r\n                    //                     }\r\n                    //                     </Select>\r\n                    //                 </FormControl>\r\n                    //             </Grid>\r\n                    //             ))\r\n                    //             }\r\n                    //         </Grid>\r\n                    //         </Grid>\r\n                    //     </Grid>\r\n                    //     <Grid container spacing={2} xs={12} style={{marginBottom: 10, marginTop: 10}}>\r\n                    //     <Grid xs={12}><Title>Arte {iProd+1}</Title></Grid>\r\n                    //     <Grid item xs={12} md={12}>\r\n                    //         <FormControl variant=\"outlined\" style={{minWidth: \"100%\"}} xs={12} sm={12} md={12}>\r\n                    //             <Autocomplete\r\n                    //             id=\"asynchronous-demo\"\r\n                    //             open={open[iProd]}\r\n                    //             onOpen={() => {\r\n                    //                 const temp = open;\r\n                    //                 temp[iProd] = true;\r\n                    //                 setOpen(temp);\r\n                    //             }}\r\n                    //             onClose={() => {\r\n                    //                 const temp = open;\r\n                    //                 temp[iProd] = false;\r\n                    //                 setOpen(temp);\r\n                    //             }}\r\n                    //             value={props.selectedArt[iProd]}\r\n                    //             options={props.options[iProd]}\r\n                    //             getOptionLabel={\r\n                    //                (option) => {\r\n                    //                     return option.title;\r\n                    //                 }\r\n                    //             }\r\n                    //             onChange={async (event, newInputValue) => {\r\n                    //                 let temp = props.selectedArt;\r\n                                    \r\n                    //                 if(temp.length < iProd) {\r\n                    //                     temp.push(newInputValue);\r\n                    //                     // temp.push(await searchArt(newInputValue));\r\n                    //                 } else {\r\n                    //                     temp[iProd] = newInputValue;\r\n                    //                     // temp[iProd] = await searchArt(newInputValue);\r\n                    //                 }\r\n\r\n                    //                 props.setSelectedArt(temp);\r\n                    //             }}\r\n                    //             onInputChange={async (event, newInputValue) => {\r\n                    //                 setTypedArt(newInputValue);\r\n                    //                 let temp = props.options;\r\n                    //                     let temp1 = props.selectedArt;\r\n                                    \r\n                    //                 if(temp.length < iProd) {\r\n                    //                     temp.push(await searchArt(newInputValue));\r\n                    //                 } else {\r\n                    //                     temp[iProd] = await searchArt(newInputValue);\r\n                    //                 }\r\n\r\n                    //                 if(temp1.length < iProd) {\r\n                    //                     temp1.push(temp[iProd]);\r\n                    //                     // temp.push(await searchArt(newInputValue));\r\n                    //                 } else {\r\n                    //                     temp1[iProd] = temp[iProd];\r\n                    //                     // temp[iProd] = await searchArt(newInputValue);\r\n                    //                 }\r\n\r\n                    //                 props.setOptions(temp);\r\n                    //                 props.setSelectedArt(temp1);\r\n                    //             }}\r\n                    //             renderOption={(option) => (\r\n                    //               <React.Fragment>\r\n                    //                 <Paper elevation={3} style={{minWidth: \"100%\"}} >\r\n                    //                   <Grid container spacing={2}  xs={12}>\r\n                    //                     <Grid item xs={12} md={4}>\r\n                    //                         <img style={{maxWidth: \"100%\"}} src={option.smallThumbUrl}/>\r\n                    //                     </Grid>\r\n                    //                     <Grid container xs={12} md={8}\r\n                    //                         spacing={0}\r\n                    //                         style={{minHeight:30, margin:0, padding: 0}}\r\n                    //                         direction=\"column\"\r\n                    //                         alignItems=\"center\"\r\n                    //                         justify=\"center\">\r\n                    //                         <Typography variant=\"h3\" style={{fontSize:\"65%\", wordWrap: \"break-word\"}}>{option.artId} | {option.title} - {option.username}</Typography>\r\n                    //                     </Grid>\r\n                    //                   </Grid>\r\n                    //                 </Paper>\r\n                    //               </React.Fragment>\r\n                    //             )}\r\n                    //             renderInput={(params) => (\r\n                    //                 <TextField\r\n                    //                 {...params}\r\n                    //                 label=\"Arte\"\r\n                    //                 variant=\"outlined\"\r\n                    //                 InputProps={{\r\n                    //                     ...params.InputProps,\r\n                    //                     endAdornment: (\r\n                    //                     <React.Fragment>\r\n                    //                         {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\r\n                    //                         {params.InputProps.endAdornment}\r\n                    //                     </React.Fragment>\r\n                    //                     ),\r\n                    //                 }}\r\n                    //                 />\r\n                    //             )}\r\n                    //             />\r\n                    //         </FormControl>\r\n                    //         </Grid>\r\n                    //     </Grid>\r\n                    //     </Grid>\r\n                    //     <Grid container xs={12} md={1}>\r\n                    //         <Button variant=\"contained\" color=\"primary\" align=\"right\" onClick={()=>{ props.setSelectedProduct(props.selectedProduct.slice(0, iProd).concat(props.selectedProduct.slice(iProd+1,)))}} disabled={buttonState}>\r\n                    //             -\r\n                    //         </Button>\r\n                    //     </Grid>\r\n                    //     </Grid>\r\n                    // </Paper>\r\n                    //     ))\r\n                    }\r\n                    <Grid item xs={12} align=\"center\">\r\n                    <Button variant=\"contained\" color=\"default\" onClick={()=>{\r\n\r\n                        let temp = props.orderState.selectedOrder.prix;\r\n                        \r\n                        temp.push({\r\n                            art: {\r\n                                'artId': '',\r\n                                'tittle': '',\r\n                                'prixerUsername': '',\r\n                                'userId': '',\r\n                            },\r\n                            product: {\r\n                                'thumbUrl': '',\r\n                                'active' : true,\r\n                                'name' : '',\r\n                                'description' : '',\r\n                                'category' : '',\r\n                                'considerations' : '',\r\n                                publicPrice: {\r\n                                    'from': '',\r\n                                    'to': '',\r\n                                },\r\n                                prixerPrice: {\r\n                                    'from': '',\r\n                                    'to': '',\r\n                                },\r\n                                hasSpecialVar: ''\r\n                            },\r\n                            arts: []\r\n                        }\r\n                    );\r\n                    props.setSelectedProduct([...temp]);\r\n                    }} \r\n                    // disabled={buttonState} \r\n                    style={{ marginTop: 20}}>\r\n                        +\r\n                    </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </form>\r\n        <Snackbar\r\n        //   open={snackBarError}\r\n          autoHideDuration={1000}\r\n        //   message={errorMessage}\r\n          className={classes.snackbar}\r\n        />\r\n    </React.Fragment>\r\n  );\r\n\r\n  async function onChangePrixDetails(key, value, iPrix) {\r\n    const { prix } = await orderServices.updateSelectedPrix({ prix: props.orderState.selectedOrder.prix[iPrix], key: key, value: value  });\r\n    const state = await orderServices.updateSelectedOrder({ orderState: props.orderState, key: 'prix', value: [prix]  });\r\n    props.setOrderState(state);\r\n  };\r\n\r\n}","function isAValidEmail(email) {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction isAValidPassword(password) {\r\n    const re = /^(?=.*[\\d])(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^.&*])[\\w!@.#$%^&*]{8,}$/;\r\n    return re.test(String(password));\r\n}\r\n\r\nfunction isAValidUsername(username) {\r\n    const re = /^[a-z0-9]*$/;\r\n    return re.test(String(username));\r\n}\r\nmodule.exports = {isAValidEmail, isAValidPassword, isAValidUsername}","import { red } from '@material-ui/core/colors';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\n\r\n// A custom theme for this app\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#d33f49',\r\n    },\r\n    secondary: {\r\n      main: '#404e5c',\r\n    },\r\n    error: {\r\n      main: red.A400,\r\n    },\r\n    background: {\r\n      default: '#fff',\r\n    },\r\n  },\r\n});\r\n\r\nexport default theme;\r\n","\r\n//Programar el Recuérdame.\r\n//Llevar el Password a un componente propio.\r\n\r\nimport React, { useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport axios from 'axios';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useState } from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport validations from '../utils/validations';\r\nimport jwt from 'jwt-decode';\r\n\r\n\r\nimport clsx from 'clsx';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://prixelart.com/\">\r\n        prixelart.com\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    backgroundRepeat: 'no-repeat',\r\n    // backgroundColor: '#404e5c',\r\n    // theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Login() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [art, setArt] = useState(false);\r\n\r\n  //Error states.\r\n  const [emailError, setEmailError] = useState();\r\n  const [passwordError, setPasswordError] = useState();\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n  const now = new Date();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if ((!email) || (!password)) {\r\n      setErrorMessage('Por favor completa todos los campos requeridos.');\r\n      setSnackBarError(true);\r\n    } else {\r\n      const base_url = process.env.REACT_APP_BACKEND_URL + \"/login\";\r\n      const data = {\r\n        'email': email,\r\n        'password': password\r\n      };\r\n      axios.post(base_url, data)\r\n        .then(response => {\r\n          if (response.data.error_info === 'error_pw') {\r\n            setPassword('');\r\n            setPasswordError(true);\r\n            setErrorMessage(response.data.error_message);\r\n            setSnackBarError(true);\r\n          } else if (response.data.error_info === 'error_email') {\r\n            setPassword('');\r\n            setEmailError(true);\r\n            setErrorMessage(response.data.error_message);\r\n            setSnackBarError(true);\r\n          } else {\r\n            setPasswordError(true);\r\n            setErrorMessage('Inicio de sesión completado.');\r\n            setSnackBarError(true);\r\n            const token = jwt(response.data.token);\r\n            localStorage.setItem('token', JSON.stringify(token));\r\n            localStorage.setItem('tokenExpire', JSON.stringify(now.getTime() + 21600000));\r\n            history.push({ pathname: \"/\" + response.data.username });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        })\r\n    }\r\n  }\r\n\r\n  useEffect(()=> {\r\n    const base_url= process.env.REACT_APP_BACKEND_URL + \"/art/random\";\r\n  \r\n     axios.get(base_url)\r\n      .then(response =>{\r\n        if(response.data.arts){\r\n          response.data.arts.imageUrl &&\r\n            setArt(response.data.arts.largeThumbUrl);\r\n        }\r\n      });\r\n  }, []);\r\n\r\n\r\n  const handleEmailChange = (e) => {\r\n    if (validations.isAValidEmail(e.target.value)) {\r\n      setEmail(e.target.value);\r\n      setEmailError(false);\r\n      setSnackBarError(false);\r\n    } else {\r\n      setEmail(e.target.value);\r\n      setErrorMessage('Por favor introduce un correo electrónico válido.');\r\n      setSnackBarError(true);\r\n      setEmailError(true);\r\n    }\r\n  }\r\n\r\n\r\n  //Password\r\n  const handlePasswordChange = (e) => {\r\n    if (validations.isAValidPassword(e.target.value)) {\r\n      setPassword(e.target.value);\r\n      setPasswordError(false);\r\n      setSnackBarError(false);\r\n    } else {\r\n      setPassword(e.target.value);\r\n      setPasswordError(true);\r\n      setErrorMessage('Disculpa, tu contraseña debe tener entre 8 y 15 caracteres, incluyendo al menos: una minúscula, una mayúscula, un número y un caracter especial.');\r\n      setSnackBarError(true);\r\n    }\r\n  }\r\n\r\n  const handleClickShowPassword = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n  //END Password\r\n\r\n\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid item xs={false} sm={4} md={7} className={classes.image} style={{backgroundImage: 'url('+art+')'}} />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Iniciar sesión\r\n          </Typography>\r\n          <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                  <InputLabel htmlFor=\"email\">Correo electrónico</InputLabel>\r\n                  <OutlinedInput\r\n                    id=\"email\"\r\n                    value={email}\r\n                    label=\"Correo electrónico\"\r\n                    error={emailError}\r\n                    onChange={handleEmailChange}\r\n                    labelWidth={100}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                  <InputLabel htmlFor=\"outlined-adornment-password\">Contraseña</InputLabel>\r\n                  <OutlinedInput\r\n                    id=\"outlined-adornment-password\"\r\n                    type={showPassword ? 'text' : 'password'}\r\n                    value={password}\r\n                    label=\"Contraseña\"\r\n                    error={passwordError}\r\n                    onChange={handlePasswordChange}\r\n                    endAdornment={\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton\r\n                          aria-label=\"toggle password visibility\"\r\n                          onClick={handleClickShowPassword}\r\n                          onMouseDown={handleMouseDownPassword}\r\n                          edge=\"end\"\r\n                        >\r\n                          {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                    }\r\n                    labelWidth={100}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              {/* <FormControlLabel\r\n                control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                label=\"Recuérdame\"\r\n              /> */}\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Inicia sesión\r\n            </Button>\r\n              <Grid container justify={\"space-between\"}>\r\n                {/* <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\">\r\n                    ¿Olvidaste tu contraseña?\r\n                </Link>\r\n                </Grid> */}\r\n                <Grid item>\r\n                  <Link href=\"#\" onClick={()=>{history.push({pathname:\"/registrar\"})}} variant=\"body2\">\r\n                    {\"¿No tienes cuenta? Regístrate\"}\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link href=\"#\" onClick={()=>{history.push({pathname:\"/olvido-contraseña\"})}} variant=\"body2\">\r\n                    {\"¿Olvidaste tu contraseña? Recupérala\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n              <Box mt={5}>\r\n                <Copyright />\r\n              </Box>\r\n              <Snackbar\r\n                open={snackBarError}\r\n                autoHideDuration={6000}\r\n                message={errorMessage}\r\n                className={classes.snackbar}\r\n              />\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}","\r\n//Programar el Recuérdame.\r\n//Llevar el Password a un componente propio.\r\n\r\nimport React, { useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport axios from 'axios';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useState } from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport validations from '../utils/validations';\r\nimport jwt from 'jwt-decode';\r\n\r\n\r\nimport clsx from 'clsx';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://prixelart.com/\">\r\n        prixelart.com\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    backgroundRepeat: 'no-repeat',\r\n    // backgroundColor: '#404e5c',\r\n    // theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Login() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [art, setArt] = useState(false);\r\n\r\n  //Error states.\r\n  const [emailError, setEmailError] = useState();\r\n  const [passwordError, setPasswordError] = useState();\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n  const now = new Date();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if ((!email) || (!password)) {\r\n      setErrorMessage('Por favor completa todos los campos requeridos.');\r\n      setSnackBarError(true);\r\n    } else {\r\n      const base_url = process.env.REACT_APP_BACKEND_URL + \"/admin/login\";\r\n      const data = {\r\n        'email': email,\r\n        'password': password\r\n      };\r\n      axios.post(base_url, data)\r\n        .then(response => {\r\n          if (response.data.error_info === 'error_pw') {\r\n            setPassword('');\r\n            setPasswordError(true);\r\n            setErrorMessage(response.data.error_message);\r\n            setSnackBarError(true);\r\n          } else if (response.data.error_info === 'error_email') {\r\n            setPassword('');\r\n            setEmailError(true);\r\n            setErrorMessage(response.data.error_message);\r\n            setSnackBarError(true);\r\n          } else {\r\n            setPasswordError(true);\r\n            setErrorMessage('Inicio de sesión completado.');\r\n            setSnackBarError(true);\r\n            const token = jwt(response.data.adminToken);\r\n            localStorage.setItem('adminToken', JSON.stringify(token));\r\n            localStorage.setItem('adminTokenExpire', JSON.stringify(now.getTime() + 21600000));\r\n            history.push({ pathname: \"/admin/dashboard\" });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        })\r\n    }\r\n  }\r\n\r\n  useEffect(()=> {\r\n    const base_url= process.env.REACT_APP_BACKEND_URL + \"/art/random\";\r\n\r\n     axios.get(base_url)\r\n      .then(response =>{\r\n        if(response.data.arts){\r\n          response.data.arts.imageUrl &&\r\n            setArt(response.data.arts.largeThumbUrl);\r\n        }\r\n      });\r\n  }, []);\r\n\r\n\r\n  const handleEmailChange = (e) => {\r\n    if (validations.isAValidEmail(e.target.value)) {\r\n      setEmail(e.target.value);\r\n      setEmailError(false);\r\n      setSnackBarError(false);\r\n    } else {\r\n      setEmail(e.target.value);\r\n      setErrorMessage('Por favor introduce un correo electrónico válido.');\r\n      setSnackBarError(true);\r\n      setEmailError(true);\r\n    }\r\n  }\r\n\r\n\r\n  //Password\r\n  const handlePasswordChange = (e) => {\r\n    if (validations.isAValidPassword(e.target.value)) {\r\n      setPassword(e.target.value);\r\n      setPasswordError(false);\r\n      setSnackBarError(false);\r\n    } else {\r\n      setPassword(e.target.value);\r\n      setPasswordError(true);\r\n      setErrorMessage('Disculpa, tu contraseña debe tener entre 8 y 15 caracteres, incluyendo al menos: una minúscula, una mayúscula, un número y un caracter especial.');\r\n      setSnackBarError(true);\r\n    }\r\n  }\r\n\r\n  const handleClickShowPassword = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n  //END Password\r\n\r\n\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid item xs={false} sm={4} md={7} className={classes.image} style={{backgroundImage: 'url('+art+')'}} />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Iniciar sesión : Admin\r\n          </Typography>\r\n          <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                  <InputLabel htmlFor=\"email\">Correo electrónico</InputLabel>\r\n                  <OutlinedInput\r\n                    id=\"email\"\r\n                    value={email}\r\n                    label=\"Correo electrónico\"\r\n                    error={emailError}\r\n                    onChange={handleEmailChange}\r\n                    labelWidth={100}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                  <InputLabel htmlFor=\"outlined-adornment-password\">Contraseña</InputLabel>\r\n                  <OutlinedInput\r\n                    id=\"outlined-adornment-password\"\r\n                    type={showPassword ? 'text' : 'password'}\r\n                    value={password}\r\n                    label=\"Contraseña\"\r\n                    error={passwordError}\r\n                    onChange={handlePasswordChange}\r\n                    endAdornment={\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton\r\n                          aria-label=\"toggle password visibility\"\r\n                          onClick={handleClickShowPassword}\r\n                          onMouseDown={handleMouseDownPassword}\r\n                          edge=\"end\"\r\n                        >\r\n                          {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                    }\r\n                    labelWidth={100}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              {/* <FormControlLabel\r\n                control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                label=\"Recuérdame\"\r\n              /> */}\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Inicia sesión\r\n            </Button>\r\n              <Box mt={5}>\r\n                <Copyright />\r\n              </Box>\r\n              <Snackbar\r\n                open={snackBarError}\r\n                autoHideDuration={6000}\r\n                message={errorMessage}\r\n                className={classes.snackbar}\r\n              />\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","import { React, useState, useEffect } from \"react\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport ViewCarouselIcon from \"@material-ui/icons/ViewCarousel\";\r\nimport { Button, InputLabel, Typography } from \"@material-ui/core\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {\r\n  FormControl,\r\n  FormGroup,\r\n  FilledInput,\r\n  Input,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport ImageListItem from \"@material-ui/core/ImageListItem\";\r\nimport ImageList from \"@material-ui/core/ImageList\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport HighlightOffOutlinedIcon from \"@material-ui/icons/HighlightOffOutlined\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport axios from \"axios\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  images: {\r\n    width: \"500px\",\r\n    height: \"300px\",\r\n    borderRadius: \"10px\",\r\n    cursor: \"pointer\",\r\n  },\r\n  buttons: {\r\n    position: \"absolute\",\r\n    color: \"#ccc\",\r\n    display: \"flex\",\r\n    cursor: \"pointer\",\r\n    padding: \"10px\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    width: \"90%\",\r\n  },\r\n  nameFile: {\r\n    width: \"300px\",\r\n    whiteSpace: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\",\r\n    padding: \"10px\",\r\n    fontSize: \"1rem\",\r\n    margin: \"0\",\r\n    background: \"#cccc\",\r\n  },\r\n  loaderImage: {\r\n    height: \"80vh\",\r\n    backgroundColor: \"#cccc\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  imageLoad: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    objectFit: \"contain\",\r\n  },\r\n  buttonImgLoader: {\r\n    color: \"#d33f49\",\r\n    cursor: \"pointer\",\r\n    position: \"absolute\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n  tab: {\r\n    flexGrow: 1,\r\n    backgroundColor: \"transparent\",\r\n  },\r\n}));\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index } = props;\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CarouselAdmin(props) {\r\n  const theme = useTheme();\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n  const isDeskTop = useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n  const [image, newImage] = useState({ file: \"\", _id: \"\" }); //enviar\r\n  const [imageLoader, setLoadImage] = useState({\r\n    loader: \"\",\r\n    filename: \"Subir imagenes\",\r\n  }); //loader de imagenes\r\n  const [type, setType] = useState(\"\");\r\n  const [value, setValue] = useState(0);\r\n  const [images, newImages] = useState({ images: [] }); // lista de imagenes para renderizar\r\n  const [update, setUpdate] = useState(0); // modal de update\r\n  const [open, setOpen] = useState(false); //modal de eliminar -> confirm\r\n  const [Open, setOpenI] = useState(false); // Toast para imagen eliminada exitosamente\r\n  const [withoutImage, setWithoutImage] = useState(false);\r\n  const [maxImage, setMaxImages] = useState(false); //Toast para maximo de 6 imagenes\r\n  const [create, setCreate] = useState(false); // toast para imagen creada y listada\r\n  const [createF, setCreateF] = useState(false);\r\n  const [loading, setLoading] = useState(false); // Loading\r\n\r\n  const classes = useStyle();\r\n\r\n  const openWithoutImage = () => {\r\n    setWithoutImage(true);\r\n  };\r\n\r\n  const closeWithoutImage = () => {\r\n    setWithoutImage(false);\r\n  };\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const maxImageOpen = () => {\r\n    setMaxImages(true);\r\n  };\r\n\r\n  const maxImageClose = () => {\r\n    setMaxImages(false);\r\n  };\r\n\r\n  const createOpen = () => {\r\n    setCreate(true);\r\n  };\r\n\r\n  const createClose = () => {\r\n    setCreate(false);\r\n  };\r\n\r\n  const createOpenF = () => {\r\n    setCreateF(true);\r\n  };\r\n\r\n  const createCloseF = () => {\r\n    setCreateF(false);\r\n  };\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleClickOpenI = () => {\r\n    setOpenI(true);\r\n  };\r\n\r\n  const handleCloseI = () => {\r\n    setOpenI(false);\r\n  };\r\n\r\n  const openUpdate = () => {\r\n    setUpdate(true);\r\n  };\r\n\r\n  const closeUpdate = () => {\r\n    setUpdate(false);\r\n  };\r\n\r\n  // CRUD\r\n  //Editar imagen:\r\n  const handleUpdate = async (x) => {\r\n    x.preventDefault();\r\n    setLoading(true);\r\n    const URI =\r\n      process.env.REACT_APP_BACKEND_URL +\r\n      \"/admin/preferences/carousel/\" +\r\n      image._id;\r\n    const formData = new FormData();\r\n    type === \"bannerImagesDesktop\"\r\n      ? formData.append(\"bannerImagesDesktop\", image.file)\r\n      : formData.append(\"bannerImagesMobile\", image.file);\r\n    let res = await axios.put(URI, formData);\r\n    setLoadImage({\r\n      loader: \"\",\r\n      filename: \"Subir imagenes\",\r\n    });\r\n    setType(\"\");\r\n    newImage({\r\n      _id: \"\",\r\n      file: \"\",\r\n    });\r\n    setLoadImage(false);\r\n    openUpdate();\r\n    getImagesForTheCarousel();\r\n    closeUpdate();\r\n  };\r\n\r\n  // Crear imagen:\r\n  const handleSubmit = async (a) => {\r\n    a.preventDefault();\r\n    const imagesDesktop = images.images.filter(\r\n      (obj) => obj.images?.type === \"desktop\"\r\n    );\r\n    const imagesMobile = images.images.filter(\r\n      (obj) => obj.images?.type === \"mobile\"\r\n    );\r\n    if (\r\n      imagesDesktop.length + imagesMobile.length === 12 ||\r\n      (imagesDesktop.length === 6 && imagesMobile.length === 6)\r\n    ) {\r\n      maxImageOpen();\r\n      setLoadImage({\r\n        loader: \"\",\r\n        filename: \"Subir imagenes\",\r\n      });\r\n    } else {\r\n      setLoading(true);\r\n      setLoadImage({\r\n        loader: \"\",\r\n        filename: \"Subir imagenes\",\r\n      });\r\n\r\n      const URI =\r\n        process.env.REACT_APP_BACKEND_URL + \"/admin/preferences/carousel\";\r\n      const newFormData = new FormData();\r\n      type === \"bannerImagesDesktop\"\r\n        ? newFormData.append(\"bannerImagesDesktop\", image.file)\r\n        : newFormData.append(\"bannerImagesMobile\", image.file);\r\n      let res = await axios.post(URI, newFormData);\r\n      createOpen();\r\n      setType(\"\");\r\n      newImage({\r\n        _id: \"\",\r\n        file: \"\",\r\n      });\r\n      setLoadImage(false);\r\n      createOpen();\r\n      getImagesForTheCarousel();\r\n    }\r\n  };\r\n\r\n  const deleteImage = async (d) => {\r\n    d.preventDefault();\r\n    const imagesDesktop = images.images.filter(\r\n      (obj) => obj?.images?.type === \"desktop\"\r\n    );\r\n    const imagesMobile = images.images.filter(\r\n      (obj) => obj?.images?.type === \"mobile\"\r\n    );\r\n    if (imagesDesktop.length + imagesMobile.length === 2) {\r\n      openWithoutImage();\r\n    } else {\r\n      handleClose();\r\n      setLoading(true);\r\n      const URI =\r\n        process.env.REACT_APP_BACKEND_URL +\r\n        \"/admin/preferences/carousel/\" +\r\n        image._id;\r\n      let res = await axios.delete(URI);\r\n      getImagesForTheCarousel();\r\n      handleClickOpenI();\r\n      setLoading(false);\r\n      handleCloseI();\r\n    }\r\n  };\r\n  //Preview de imagen antes de enviar\r\n  const convertToBase64 = (blob) => {\r\n    return new Promise((resolve) => {\r\n      var reader = new FileReader();\r\n      reader.onload = function () {\r\n        resolve(reader.result);\r\n      };\r\n      reader.readAsDataURL(blob);\r\n    });\r\n  };\r\n  // Actualizacion del estado para preview de imagen\r\n  const loadImage = async (e) => {\r\n    setType(e.target.name);\r\n    const file = e.target.files[0];\r\n    const resizedString = await convertToBase64(file);\r\n    setLoadImage({ loader: resizedString, filename: file.name });\r\n  };\r\n\r\n  //Cancelar subida de imagen\r\n  const cancelUploadImage = () => {\r\n    setLoadImage({ loader: \"\", filename: \"Subir imagenes\" });\r\n    newImage({ _id: \"\", file: \"\" });\r\n  };\r\n  //Tomar imagenes en array para ser listadas y renderizadas\r\n  const getImagesForTheCarousel = () => {\r\n    setLoading(true);\r\n    const URI =\r\n      process.env.REACT_APP_BACKEND_URL + \"/admin/preferences/carousel\";\r\n    fetch(URI)\r\n      .then((res) =>\r\n        res\r\n          .json()\r\n          .then((data) => {\r\n            newImages({ images: data.imagesCarousels });\r\n            console.log(data);\r\n          })\r\n          .catch((err) => console.error(`Your request is wrong: ${err}`))\r\n      )\r\n      .catch((err) => console.error(err));\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getImagesForTheCarousel();\r\n  }, []);\r\n\r\n  console.log(images);\r\n\r\n  return (\r\n    <>\r\n      <Backdrop className={classes.backdrop} open={loading}>\r\n        <CircularProgress value={loading} style={{ marginTop: \"-250px\" }} />\r\n      </Backdrop>\r\n      <Grid>\r\n        <Grid\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            color: \"#bababa\",\r\n          }}\r\n        >\r\n          <ViewCarouselIcon />\r\n          <Typography style={{ fontSize: \"1.5rem\", padding: \"10px\" }}>\r\n            Edit carousel\r\n          </Typography>\r\n        </Grid>\r\n        <Grid>\r\n          {imageLoader.loader && (\r\n            <div style={{ height: \"80vh\" }}>\r\n              <Tooltip className={classes.buttonImgLoader}>\r\n                <HighlightOffOutlinedIcon\r\n                  style={{ width: \"2rem\" }}\r\n                  onClick={cancelUploadImage}\r\n                />\r\n              </Tooltip>\r\n              <img\r\n                className={classes.imageLoad}\r\n                src={imageLoader.loader}\r\n                alt=\"+\"\r\n              ></img>\r\n            </div>\r\n          )}\r\n        </Grid>\r\n        <div className={classes.tab}>\r\n          <AppBar\r\n            position=\"static\"\r\n            style={{\r\n              backgroundColor: \"transparent\",\r\n              color: \"#d33f49\",\r\n              fontWeight: 400,\r\n              boxShadow: \"none\",\r\n            }}\r\n          >\r\n            <Tabs value={value} onChange={handleChange}>\r\n              <Tab label=\"Desktop\" />\r\n              <Tab label=\"Mobile\" />\r\n            </Tabs>\r\n          </AppBar>\r\n          <TabPanel value={value} index={0}>\r\n            <Box style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n              <FormControl>\r\n                <form\r\n                  onSubmit={(s) => {\r\n                    if (image._id !== \"\") {\r\n                      handleUpdate(s);\r\n                    } else {\r\n                      handleSubmit(s);\r\n                    }\r\n                  }}\r\n                  encType=\"multipart/form-data\"\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    flexDirection: isDesktop ? \"row\" : \"column\",\r\n                    alignItems: isDesktop ? \"center\" : \"stretch\",\r\n                    padding: isDesktop ? \"15px\" : \"20px\",\r\n                    height: isDesktop ? \"\" : \"30vh\",\r\n                    width: isDesktop ? \"150%\" : \"auto\",\r\n                    marginLeft: isDesktop ? \"-20%\" : \"\",\r\n                  }}\r\n                >\r\n                  <Typography\r\n                    className={classes.nameFile}\r\n                    style={{ width: \"auto\" }}\r\n                    id=\"uploadImage\"\r\n                  >\r\n                    {imageLoader.filename}\r\n                  </Typography>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    style={{ width: \"auto\" }}\r\n                    component=\"label\"\r\n                  >\r\n                    Upload File\r\n                    <input\r\n                      name=\"bannerImagesDesktop\"\r\n                      style={{ width: \"auto\" }}\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      hidden\r\n                      onChange={(a) => {\r\n                        a.preventDefault();\r\n                        loadImage(a);\r\n                        newImage({\r\n                          _id: image._id,\r\n                          file: a.target.files[0],\r\n                        });\r\n                      }}\r\n                    />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    style={{ width: \"auto\" }}\r\n                    color=\"primary\"\r\n                    type=\"submit\"\r\n                  >\r\n                    Enviar\r\n                  </Button>\r\n                </form>\r\n                <Typography style={{ color: \"gray\", marginBottom: 10 }}>\r\n                  Te recomendamos usar imágenes de proporción 16:9, o al menos\r\n                  4:3\r\n                </Typography>\r\n              </FormControl>\r\n\r\n              <Snackbar\r\n                anchorOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\",\r\n                }}\r\n                open={create}\r\n                onClose={createClose}\r\n                autoHideDuration={5000}\r\n                message=\"Process sucessfull\"\r\n              />\r\n\r\n              <Snackbar\r\n                anchorOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\",\r\n                }}\r\n                open={create}\r\n                onClose={createClose}\r\n                autoHideDuration={5000}\r\n                message=\"Process sucessfull\"\r\n              />\r\n\r\n              <Snackbar\r\n                anchorOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\",\r\n                }}\r\n                open={createF}\r\n                onClose={createCloseF}\r\n                autoHideDuration={5000}\r\n                message=\"You must send a image\"\r\n              />\r\n\r\n              <Snackbar\r\n                anchorOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\",\r\n                }}\r\n                open={update}\r\n                onClose={closeUpdate}\r\n                autoHideDuration={5000}\r\n                message=\"Process sucessfull\"\r\n              />\r\n            </Box>\r\n\r\n            <ImageList cols={isDesktop ? 2 : 1} rowHeight={300}>\r\n              {images.images ? (\r\n                images.images.map((img, key_id) =>\r\n                  img.images ? (\r\n                    img.images.type === \"desktop\" && (\r\n                      <ImageListItem key={key_id}>\r\n                        <Box>\r\n                          <Box className={classes.buttons}>\r\n                            <Button\r\n                              variant=\"text\"\r\n                              style={{ color: \"white\" }}\r\n                              component=\"label\"\r\n                            >\r\n                              <input\r\n                                type=\"file\"\r\n                                name=\"bannerImagesDesktop\"\r\n                                hidden\r\n                                onChange={(a) => {\r\n                                  a.preventDefault();\r\n                                  loadImage(a);\r\n                                  newImage({\r\n                                    _id: img._id,\r\n                                    file: a.target.files[0],\r\n                                  });\r\n                                }}\r\n                              />\r\n                              <EditIcon />\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"text\"\r\n                              style={{ color: \"white\" }}\r\n                              onClick={handleClickOpen}\r\n                            >\r\n                              <HighlightOffOutlinedIcon\r\n                                onClick={() => {\r\n                                  newImage({\r\n                                    _id: img._id,\r\n                                    file: image.file,\r\n                                  });\r\n                                }}\r\n                              />\r\n                            </Button>\r\n                            <Dialog\r\n                              open={open}\r\n                              onClose={handleClose}\r\n                              aria-labelledby=\"alert-dialog-title\"\r\n                              aria-describedby=\"alert-dialog-description\"\r\n                            >\r\n                              <DialogTitle id=\"alert-dialog-title\">\r\n                                {\r\n                                  \"¿Estás seguro de eliminar esta imagen del carrusel?\"\r\n                                }\r\n                              </DialogTitle>\r\n                              <DialogContent>\r\n                                <DialogContentText id=\"alert-dialog-description\">\r\n                                  Ésta imagen ya no se verá en el carrusel del\r\n                                  banner principal\r\n                                </DialogContentText>\r\n                              </DialogContent>\r\n                              <DialogActions>\r\n                                <Button onClick={handleClose} color=\"primary\">\r\n                                  Cancelar\r\n                                </Button>\r\n                                <Button\r\n                                  onClick={(d) => {\r\n                                    deleteImage(d);\r\n                                  }}\r\n                                  color=\"primary\"\r\n                                >\r\n                                  Aceptar\r\n                                </Button>\r\n                              </DialogActions>\r\n                            </Dialog>\r\n\r\n                            <Snackbar\r\n                              anchorOrigin={{\r\n                                vertical: \"top\",\r\n                                horizontal: \"right\",\r\n                              }}\r\n                              open={update}\r\n                              onClose={closeUpdate}\r\n                              autoHideDuration={5000}\r\n                              message=\"Imagen borrada exitosamente\"\r\n                            />\r\n                          </Box>\r\n                          <a href={img.images.url} target=\"_BLANK\">\r\n                            <img\r\n                              className={classes.images}\r\n                              title={img.images.url}\r\n                              src={img.images.url}\r\n                            ></img>\r\n                          </a>\r\n                        </Box>\r\n                      </ImageListItem>\r\n                    )\r\n                  ) : (\r\n                    <ImageListItem key={key_id}>\r\n                      <Box>\r\n                        <Box className={classes.buttons}>\r\n                          <Button\r\n                            variant=\"text\"\r\n                            style={{ color: \"white\" }}\r\n                            component=\"label\"\r\n                          >\r\n                            <input\r\n                              type=\"file\"\r\n                              name=\"bannerImagesDesktop\"\r\n                              hidden\r\n                              onChange={(a) => {\r\n                                a.preventDefault();\r\n                                loadImage(a);\r\n                                newImage({\r\n                                  _id: img._id,\r\n                                  file: a.target.files[0],\r\n                                });\r\n                              }}\r\n                            />\r\n                            <EditIcon />\r\n                          </Button>\r\n                          <Button\r\n                            variant=\"text\"\r\n                            style={{ color: \"white\" }}\r\n                            onClick={handleClickOpen}\r\n                          >\r\n                            <HighlightOffOutlinedIcon\r\n                              onClick={() => {\r\n                                newImage({\r\n                                  _id: img._id,\r\n                                  file: image.file,\r\n                                });\r\n                              }}\r\n                            />\r\n                          </Button>\r\n                          <Dialog\r\n                            open={open}\r\n                            onClose={handleClose}\r\n                            aria-labelledby=\"alert-dialog-title\"\r\n                            aria-describedby=\"alert-dialog-description\"\r\n                          >\r\n                            <DialogTitle id=\"alert-dialog-title\">\r\n                              {\r\n                                \"¿Estás seguro de eliminar esta imagen del carrusel?\"\r\n                              }\r\n                            </DialogTitle>\r\n                            <DialogContent>\r\n                              <DialogContentText id=\"alert-dialog-description\">\r\n                                Ésta imagen ya no se verá en el carrusel del\r\n                                banner principal\r\n                              </DialogContentText>\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                              <Button onClick={handleClose} color=\"primary\">\r\n                                Cancelar\r\n                              </Button>\r\n                              <Button\r\n                                onClick={(d) => {\r\n                                  deleteImage(d);\r\n                                }}\r\n                                color=\"primary\"\r\n                              >\r\n                                Aceptar\r\n                              </Button>\r\n                            </DialogActions>\r\n                          </Dialog>\r\n\r\n                          <Snackbar\r\n                            anchorOrigin={{\r\n                              vertical: \"top\",\r\n                              horizontal: \"right\",\r\n                            }}\r\n                            open={update}\r\n                            onClose={closeUpdate}\r\n                            autoHideDuration={5000}\r\n                            message=\"Imagen borrada exitosamente\"\r\n                          />\r\n                        </Box>\r\n                        <a href={img?.carouselImages} target=\"_BLANK\">\r\n                          <img\r\n                            className={classes.images}\r\n                            title={img?.carouselImages}\r\n                            src={img?.carouselImages}\r\n                          ></img>\r\n                        </a>\r\n                      </Box>\r\n                    </ImageListItem>\r\n                  )\r\n                )\r\n              ) : (\r\n                <Typography>\r\n                  Que mal, parece que no tienes imagenes en el carrusel\r\n                </Typography>\r\n              )}\r\n            </ImageList>\r\n          </TabPanel>\r\n          <TabPanel value={value} index={1}>\r\n            <Box style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n              <FormControl>\r\n                <form\r\n                  onSubmit={(s) => {\r\n                    if (image._id != \"\") {\r\n                      handleUpdate(s);\r\n                    } else {\r\n                      handleSubmit(s);\r\n                    }\r\n                  }}\r\n                  encType=\"multipart/form-data\"\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    flexDirection: isDesktop ? \"row\" : \"column\",\r\n                    alignItems: isDesktop ? \"center\" : \"stretch\",\r\n                    padding: isDesktop ? \"15px\" : \"20px\",\r\n                    height: isDesktop ? \"\" : \"30vh\",\r\n                    width: isDesktop ? \"150%\" : \"auto\",\r\n                    marginLeft: isDesktop ? \"-20%\" : \"\",\r\n                  }}\r\n                >\r\n                  <Typography\r\n                    className={classes.nameFile}\r\n                    style={{ width: \"auto\" }}\r\n                    id=\"uploadImage\"\r\n                  >\r\n                    {imageLoader.filename}\r\n                  </Typography>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    style={{ width: \"auto\" }}\r\n                    component=\"label\"\r\n                  >\r\n                    Upload File\r\n                    <input\r\n                      name=\"bannerImagesMobile\"\r\n                      style={{ width: \"auto\" }}\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      hidden\r\n                      onChange={(a) => {\r\n                        a.preventDefault();\r\n                        loadImage(a);\r\n                        newImage({\r\n                          _id: image._id,\r\n                          file: a.target.files[0],\r\n                        });\r\n                      }}\r\n                    />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    style={{ width: \"auto\" }}\r\n                    color=\"primary\"\r\n                    type=\"submit\"\r\n                  >\r\n                    Enviar\r\n                  </Button>\r\n                </form>\r\n                <Typography style={{ color: \"gray\", marginBottom: 10 }}>\r\n                  Te recomendamos usar imágenes de proporción 9:16, o al menos\r\n                  4:3\r\n                </Typography>\r\n              </FormControl>\r\n\r\n              <Snackbar\r\n                anchorOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\",\r\n                }}\r\n                open={create}\r\n                onClose={createClose}\r\n                autoHideDuration={5000}\r\n                message=\"Process sucessfull\"\r\n              />\r\n\r\n              <Snackbar\r\n                anchorOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\",\r\n                }}\r\n                open={create}\r\n                onClose={createClose}\r\n                autoHideDuration={5000}\r\n                message=\"Process sucessfull\"\r\n              />\r\n\r\n              <Snackbar\r\n                anchorOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\",\r\n                }}\r\n                open={createF}\r\n                onClose={createCloseF}\r\n                autoHideDuration={5000}\r\n                message=\"You must send a image\"\r\n              />\r\n\r\n              <Snackbar\r\n                anchorOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\",\r\n                }}\r\n                open={update}\r\n                onClose={closeUpdate}\r\n                autoHideDuration={5000}\r\n                message=\"Process sucessfull\"\r\n              />\r\n            </Box>\r\n\r\n            <ImageList cols={isDesktop ? 2 : 1} rowHeight={300}>\r\n              {images.images ? (\r\n                images.images.map(\r\n                  (img, key_id) =>\r\n                    img.images?.type === \"mobile\" && (\r\n                      <ImageListItem\r\n                        key={key_id}\r\n                        style={{ height: \"\", width: \"\" }}\r\n                      >\r\n                        <Box>\r\n                          <Box\r\n                            className={classes.buttons}\r\n                            style={{ width: \"\" }}\r\n                          >\r\n                            <Button\r\n                              variant=\"text\"\r\n                              style={{ color: \"white\" }}\r\n                              component=\"label\"\r\n                            >\r\n                              <input\r\n                                type=\"file\"\r\n                                name=\"bannerImagesMobile\"\r\n                                hidden\r\n                                onChange={(a) => {\r\n                                  a.preventDefault();\r\n                                  loadImage(a);\r\n                                  newImage({\r\n                                    _id: img._id,\r\n                                    file: a.target.files[0],\r\n                                  });\r\n                                }}\r\n                              />\r\n                              <EditIcon />\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"text\"\r\n                              style={{ color: \"white\" }}\r\n                              onClick={handleClickOpen}\r\n                            >\r\n                              <HighlightOffOutlinedIcon\r\n                                onClick={() => {\r\n                                  newImage({\r\n                                    _id: img._id,\r\n                                    file: image.file,\r\n                                  });\r\n                                }}\r\n                              />\r\n                            </Button>\r\n                            <Dialog\r\n                              open={open}\r\n                              onClose={handleClose}\r\n                              aria-labelledby=\"alert-dialog-title\"\r\n                              aria-describedby=\"alert-dialog-description\"\r\n                            >\r\n                              <DialogTitle id=\"alert-dialog-title\">\r\n                                {\r\n                                  \"¿Estás seguro de eliminar esta imagen del carrusel?\"\r\n                                }\r\n                              </DialogTitle>\r\n                              <DialogContent>\r\n                                <DialogContentText id=\"alert-dialog-description\">\r\n                                  Ésta imagen ya no se verá en el carrusel del\r\n                                  banner principal\r\n                                </DialogContentText>\r\n                              </DialogContent>\r\n                              <DialogActions>\r\n                                <Button onClick={handleClose} color=\"primary\">\r\n                                  Cancelar\r\n                                </Button>\r\n                                <Button\r\n                                  onClick={(d) => {\r\n                                    deleteImage(d);\r\n                                  }}\r\n                                  color=\"primary\"\r\n                                >\r\n                                  Aceptar\r\n                                </Button>\r\n                              </DialogActions>\r\n                            </Dialog>\r\n\r\n                            <Snackbar\r\n                              anchorOrigin={{\r\n                                vertical: \"top\",\r\n                                horizontal: \"right\",\r\n                              }}\r\n                              open={update}\r\n                              onClose={closeUpdate}\r\n                              autoHideDuration={5000}\r\n                              message=\"Imagen borrada exitosamente\"\r\n                            />\r\n                          </Box>\r\n                          <a href={img.images.url} target=\"_BLANK\">\r\n                            <img\r\n                              style={{ height: \"80vh\", width: \"25vw\" }}\r\n                              className={classes.images}\r\n                              title={img.images.url}\r\n                              src={img.images.url}\r\n                            ></img>\r\n                          </a>\r\n                        </Box>\r\n                      </ImageListItem>\r\n                    )\r\n                )\r\n              ) : (\r\n                <Typography>\r\n                  Que mal, parece que no tienes imagenes en el carrusel\r\n                </Typography>\r\n              )}\r\n            </ImageList>\r\n          </TabPanel>\r\n        </div>\r\n      </Grid>\r\n      <Dialog\r\n        open={maxImage}\r\n        onClose={maxImageClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{\"Limite alcanzado\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            Solo puedes agregar 6 imagenes al carrusel, procura eliminar algunas\r\n            imagenes o reemplazar\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={maxImageClose}>Aceptar</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Dialog\r\n        open={withoutImage}\r\n        onClose={closeWithoutImage}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{\"⚠ Alerta ⚠\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            No puedes dejar el carrusel sin imágenes 😢\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={closeWithoutImage}>Aceptar</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\nexport default CarouselAdmin;\r\n","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n  root: {\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n    },\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    margin: \"auto\",\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nexport default function MultilineTextFields(props) {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const handleChange = async () => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/termsAndConditions/update\";\r\n    const response = await axios.put(base_url, {\r\n      termsAndConditions: value,\r\n    });\r\n    // changeTermsAgree();\r\n  };\r\n\r\n  const changeTermsAgree = async () => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/prixer/read-all-full\";\r\n    let prixersIds = [];\r\n    const response = await axios.get(base_url).then((response) => {\r\n      for (const { prixerId: prixerId } of response.data.prixers) {\r\n        prixersIds.push(prixerId);\r\n      }\r\n    });\r\n    const base_url2 =\r\n      process.env.REACT_APP_BACKEND_URL +\r\n      \"/prixer/update-home/updateTermsAgree\" +\r\n      prixersIds;\r\n    const response2 = await axios.put(base_url2, { termsAgree: false });\r\n    console.log(response2.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/termsAndConditions/read\";\r\n    axios\r\n      .get(base_url)\r\n      .then((response) => {\r\n        const result = response.data.terms.termsAndConditions;\r\n        setValue(result);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  const [state, setState] = React.useState({\r\n    open: false,\r\n    vertical: \"top\",\r\n    horizontal: \"center\",\r\n  });\r\n\r\n  const { vertical, horizontal, open } = state;\r\n\r\n  const handleClick = (newState) => () => {\r\n    setState({ open: true, ...newState });\r\n    handleChange();\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setState({ ...state, open: false });\r\n  };\r\n\r\n  const buttons = (\r\n    <React.Fragment>\r\n      <Button\r\n        variant=\"outlined\"\r\n        color=\"primary\"\r\n        style={{ margin: \"14px 30px\" }}\r\n        onClick={handleClick({ vertical: \"bottom\", horizontal: \"right\" })}\r\n      >\r\n        Actualizar\r\n      </Button>\r\n    </React.Fragment>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Backdrop className={classes.backdrop}>\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n      <Paper className={classes.paper}>\r\n        {\r\n          <Grid container spacing={2}>\r\n            {buttons}\r\n            <Grid item xs={12}>\r\n              <div\r\n                style={{\r\n                  width: \"100%\",\r\n                  padding: \"15px\",\r\n                  textAlign: \"justify\",\r\n                  padding: \"2px\",\r\n                  minHeight: \"400px\",\r\n                }}\r\n                data-color-mode=\"light\"\r\n              >\r\n                <MDEditor\r\n                  value={value}\r\n                  onChange={setValue}\r\n                  style={{ minHeight: \"600px\", height: \"600px\" }}\r\n                />\r\n                <MDEditor.Markdown\r\n                  source={value}\r\n                  style={{ whiteSpace: \"pre-wrap\" }}\r\n                />\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n          //)\r\n        }\r\n      </Paper>\r\n\r\n      <Snackbar\r\n        anchorOrigin={{ vertical, horizontal }}\r\n        open={open}\r\n        onClose={handleClose}\r\n        message=\"Los términos y condiciones fueron actualizados!\"\r\n        key={vertical + horizontal}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { React, useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport CarouselAdmin from \"./preferencesCarousel\";\r\nimport TermsAndConditions from \"./preferenceTerms\";\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index } = props;\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n    \"margin-left\": \"60px\",\r\n  },\r\n}));\r\n\r\nexport default function SimpleTabs() {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Tabs value={value} onChange={handleChange}>\r\n          <Tab label=\"Carrusel\" />\r\n          <Tab label=\"Términos y condiciones\" />\r\n        </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n        <CarouselAdmin />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <TermsAndConditions />\r\n      </TabPanel>\r\n    </div>\r\n  );\r\n}\r\n","import { React, useState, useEffect} from 'react'\r\nimport SimpleTabs from './tabPreferences'\r\n\r\n\r\nexport default function Preferences(props)\r\n{\r\n    return(\r\n    <>\r\n        <SimpleTabs />\r\n    </>\r\n    )\r\n}","import { React, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport { Backdrop } from \"@material-ui/core\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\n\r\nfunction getStyles(type, theme) {\r\n  return {\r\n    fontWeight:\r\n      type.indexOf(type) === -1\r\n        ? theme.typography.fontWeightRegular\r\n        : theme.typography.fontWeightMedium,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  cardMedia: {\r\n    paddingTop: \"81.25%\",\r\n    borderRadius: \"50%\",\r\n    margin: \"28px\",\r\n  },\r\n  loading: {\r\n    display: \"flex\",\r\n    \"& > * + *\": {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n    marginLeft: \"50vw\",\r\n    marginTop: \"50vh\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    margin: \"15px\",\r\n  },\r\n  input: {\r\n    padding: \"2\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  avatar: {\r\n    width: 80,\r\n    height: 80,\r\n  },\r\n  snackbar: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      bottom: 90,\r\n    },\r\n    margin: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    withoutLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    textField: {\r\n      width: \"25ch\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\n\r\nexport default function Testimonials() {\r\n  const classes = useStyles();\r\n  const [avatar, setAvatar] = useState({ file: \"\", _id: \"\" });\r\n  const [type, setType] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [value, setValue] = useState(\"\");\r\n  const [footer, setFooter] = useState(\"\");\r\n  const [tiles, setTiles] = useState([]);\r\n  const [backdrop, setBackdrop] = useState(true); // borrar\r\n  const theme = useTheme();\r\n  const [avatarObj, setAvatarObj] = useState(\"\");\r\n  const [avatarPic, setAvatarPic] = useState(\"\");\r\n  const [inputChange, setInputChange] = useState(false);\r\n  const [state, setState] = useState({\r\n    checkedA: true,\r\n  });\r\n  const [updateId, setUpdateId] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const handleChangeType = (event) => {\r\n    setType(event.target.value);\r\n  };\r\n  // const [position, setPosition] = useState(tiles);\r\n\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n\r\n  const readTestimonial = async () => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/testimonial/read-all\";\r\n    const res = await axios\r\n      .get(base_url)\r\n      .then((response) => {\r\n        const responsev2 = response.data.testimonials.sort(function (a, b) {\r\n          return a.position - b.position;\r\n        });\r\n\r\n        setTiles(responsev2);\r\n        setBackdrop(false);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  useEffect(() => {\r\n    readTestimonial();\r\n  }, []);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!type || !name || !value || !avatar || !state) {\r\n      setErrorMessage(\"Por favor completa todos los campos requeridos.\");\r\n      setSnackBarError(true);\r\n    } else {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append(\"avatar\", avatarPic);\r\n      formData.append(\"type\", type);\r\n      formData.append(\"name\", name);\r\n      formData.append(\"value\", value);\r\n      formData.append(\"footer\", footer);\r\n      formData.append(\"status\", state.checkedA);\r\n\r\n      const base_url =\r\n        process.env.REACT_APP_BACKEND_URL + \"/testimonial/create\";\r\n\r\n      const response = axios\r\n        .post(base_url, formData, {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        })\r\n        .then((response) => {\r\n          if (response.data.success === false) {\r\n            setLoading(false);\r\n            setErrorMessage(response.data.message);\r\n            setSnackBarError(true);\r\n          } else {\r\n            setErrorMessage(\"Creación de testimonio exitoso\");\r\n            setSnackBarError(true);\r\n            setName(\"\");\r\n            setAvatarObj(\"\");\r\n            setType(\"\");\r\n            setValue(\"\");\r\n            setFooter(\"\");\r\n            setState({ checkedA: false });\r\n            setUpdateId(undefined);\r\n            setLoading(false);\r\n            readTestimonial();\r\n          }\r\n        })\r\n\r\n        .catch((error) => {\r\n          setLoading(false);\r\n          console.log(error.response);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setState({ ...state, [event.target.name]: event.target.checked });\r\n  }; //Switch\r\n\r\n  const onImageChange = async (e) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      setInputChange(true);\r\n      setAvatarObj(URL.createObjectURL(e.target.files[0]));\r\n      setAvatarPic(e.target.files[0]);\r\n    } //Avatar\r\n  };\r\n  const deleteTestimonial = async (DeleteId) => {\r\n    setLoading(true);\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/testimonial/read/\" + DeleteId;\r\n    let res = await axios.delete(base_url);\r\n    setErrorMessage(\"Testimonio eliminado exitosamente\");\r\n    setSnackBarError(true);\r\n    setLoading(false);\r\n    readTestimonial();\r\n  };\r\n\r\n  const ChangeVisibility = async (e, GetId) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    handleChange(e);\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/testimonial/update-home/\" + GetId;\r\n    const response = await axios.put(\r\n      base_url,\r\n      { status: e.target.checked },\r\n      {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      }\r\n    );\r\n    readTestimonial();\r\n    setLoading(false);\r\n  };\r\n\r\n  const ChangePosition = async (index, GetId) => {\r\n    // e.preventDefault();\r\n    setLoading(true);\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL +\r\n      \"/testimonial/update-position/\" +\r\n      GetId;\r\n    const response = await axios.put(\r\n      base_url,\r\n      { position: index },\r\n      {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      }\r\n    );\r\n    readTestimonial();\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleTestimonialDataEdit = async (GetId) => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/testimonial/\" + GetId;\r\n    const response = await axios.get(base_url);\r\n    setName(response.data.name);\r\n    setAvatarObj(response.data.avatar);\r\n    setType(response.data.type);\r\n    setValue(response.data.value);\r\n    setFooter(response.data.footer);\r\n    setState({ checkedA: response.data.status });\r\n    setUpdateId(GetId);\r\n  };\r\n\r\n  const saveChanges = async (e, GetId) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/testimonial/update/\" + GetId;\r\n    const formData = new FormData();\r\n    formData.append(\"avatar\", avatarPic || avatarObj);\r\n    formData.append(\"type\", type);\r\n    formData.append(\"name\", name);\r\n    formData.append(\"value\", value);\r\n    formData.append(\"footer\", footer);\r\n    formData.append(\"status\", state.checkedA);\r\n\r\n    const response = await axios.put(base_url, formData, {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    });\r\n    setName(\"\");\r\n    setAvatarObj(\"\");\r\n    setType(\"\");\r\n    setValue(\"\");\r\n    setFooter(\"\");\r\n    setState({ checkedA: false });\r\n    setUpdateId(undefined);\r\n    setLoading(false);\r\n    readTestimonial();\r\n  };\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  const reorder = (list, startIndex, endIndex) => {\r\n    const result = [...list];\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n    return result;\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Backdrop className={classes.backdrop} open={loading}>\r\n        <CircularProgress />\r\n      </Backdrop>\r\n      <Paper className={classes.paper}>\r\n        <AppBar position=\"static\">\r\n          <Typography\r\n            style={{\r\n              display: \"flex\",\r\n              alignContent: \"center\",\r\n              padding: \"10px 40px\",\r\n            }}\r\n            variant=\"h6\"\r\n            className={classes.title}\r\n          >\r\n            Testimonios\r\n          </Typography>\r\n        </AppBar>\r\n\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          xs={12}\r\n          style={{\r\n            width: \"100%\",\r\n            padding: isMobile ? \"0px\" : \"18px\",\r\n            display: \"flex\",\r\n            textAlign: \"start\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <Grid\r\n            style={{\r\n              padding: isMobile ? \"0px\" : \"24px\",\r\n              paddingBottom: \"15px\",\r\n              margin: isMobile ? \"0px\" : \"15px\",\r\n            }}\r\n            className={classes.paper}\r\n            item\r\n            xs={12}\r\n            sm={12}\r\n            md={12}\r\n            lg={10}\r\n            xl={10}\r\n          >\r\n            <Paper\r\n              style={{ padding: isMobile ? \"8px\" : \"24px\" }}\r\n              className={classes.paper}\r\n              xs={12}\r\n              sm={12}\r\n            >\r\n              <form\r\n                encType=\"multipart/form-data\"\r\n                onSubmit={handleSubmit}\r\n                className={classes.form}\r\n                margin={6}\r\n              >\r\n                <Grid\r\n                  container\r\n                  spacing={1}\r\n                  style={{\r\n                    paddingBottom: \"10px\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                  }}\r\n                >\r\n                  {loading && (\r\n                    <div className={classes.loading}>\r\n                      <CircularProgress />\r\n                    </div>\r\n                  )}\r\n                  <Box\r\n                    padding={\"4px\"}\r\n                    paddingRight={4}\r\n                    paddingLeft={2}\r\n                    style={{\r\n                      width: \"30%\",\r\n                      display: \"flex\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    {avatarObj ? (\r\n                      <Avatar className={classes.avatar}>\r\n                        <label htmlFor=\"file-input\">\r\n                          <img\r\n                            src={avatarObj}\r\n                            alt=\"testimonial avatar\"\r\n                            style={{\r\n                              maxHeight: 80,\r\n                            }}\r\n                          />\r\n                        </label>\r\n                        <input\r\n                          style={{ display: \"none\" }}\r\n                          accept=\"image/*\"\r\n                          id=\"file-input\"\r\n                          type=\"file\"\r\n                          onChange={onImageChange}\r\n                          required\r\n                          name=\"avatar\"\r\n                        />\r\n                      </Avatar>\r\n                    ) : (\r\n                      <Avatar className={classes.avatar}>\r\n                        <label htmlFor=\"file-input\">\r\n                          <AddIcon\r\n                            style={{\r\n                              width: 40,\r\n                              height: 40,\r\n                              color: \"#d33f49\",\r\n                              objectFit: \"cover\",\r\n                            }}\r\n                          />\r\n                        </label>\r\n                        <input\r\n                          style={{ display: \"none\" }}\r\n                          accept=\"image/*\"\r\n                          id=\"file-input\"\r\n                          type=\"file\"\r\n                          onChange={onImageChange}\r\n                          name=\"avatar\"\r\n                        />\r\n                      </Avatar>\r\n                    )}\r\n                  </Box>\r\n                  <Grid item xs={8} sm={8} md={8} lg={8} xl={8} padding={10}>\r\n                    <InputLabel style={{ fontSize: \".85em\" }}>Tipo</InputLabel>\r\n                    <Select\r\n                      style={{ width: \"100%\" }}\r\n                      labelId=\"tipo\"\r\n                      id=\"tipo\"\r\n                      value={type}\r\n                      onChange={(e) => handleChangeType(e)}\r\n                      MenuProps={MenuProps}\r\n                    >\r\n                      {[\"Prixer\", \"Compañía\", \"Cliente\"].map((type) => (\r\n                        <MenuItem\r\n                          key={type}\r\n                          value={type}\r\n                          style={getStyles(type, theme)}\r\n                        >\r\n                          {type}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} sm={12}>\r\n                    <TextField\r\n                      autoComplete=\"fname\"\r\n                      name=\"name\"\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      type=\"text\"\r\n                      value={name}\r\n                      id=\"name\"\r\n                      label=\"Nombre\"\r\n                      autoFocus\r\n                      onChange={(e) => {\r\n                        setName(e.target.value);\r\n                      }}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={12}>\r\n                    <TextField\r\n                      autoComplete=\"fname\"\r\n                      name=\"value\"\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      type=\"text\"\r\n                      value={value}\r\n                      // inputProps={{ maxLength: 160 }}\r\n                      id=\"value\"\r\n                      label=\"Body\"\r\n                      autoFocus\r\n                      multiline\r\n                      rows={3}\r\n                      onChange={(e) => {\r\n                        setValue(e.target.value);\r\n                      }}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      name=\"footer\"\r\n                      label=\"Footer\"\r\n                      type=\"text\"\r\n                      value={footer}\r\n                      inputProps={{ maxLength: 60 }}\r\n                      id=\"footer\"\r\n                      autoComplete=\"fname\"\r\n                      onChange={(e) => {\r\n                        setFooter(e.target.value);\r\n                      }}\r\n                      multiline\r\n                    />\r\n                  </Grid>\r\n                  <Grid\r\n                    item\r\n                    xs={12}\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                    }}\r\n                  >\r\n                    <FormGroup row>\r\n                      <FormControlLabel\r\n                        label=\"Mostrar en la página de inicio\"\r\n                        style={{ color: \"secondary\" }}\r\n                        control={\r\n                          <Switch\r\n                            color=\"primary\"\r\n                            checked={state.checkedA}\r\n                            onChange={(e) => {\r\n                              handleChange(e);\r\n                            }}\r\n                            name=\"checkedA\"\r\n                          />\r\n                        }\r\n                      />\r\n                    </FormGroup>\r\n                  </Grid>\r\n                </Grid>\r\n                <Button\r\n                  type=\"submit\"\r\n                  width={\"100px\"}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                  value=\"submit\"\r\n                  paddingTop=\"4\"\r\n                  onClick={(event) =>\r\n                    updateId\r\n                      ? saveChanges(event, updateId)\r\n                      : handleSubmit(event)\r\n                  }\r\n                >\r\n                  {updateId ? \"Actualizar testimonio\" : \"Crear testimonio\"}\r\n                </Button>\r\n              </form>\r\n            </Paper>\r\n          </Grid>\r\n\r\n          <DragDropContext\r\n            onDragEnd={(result) => {\r\n              const { source, destination, draggableId } = result;\r\n              if (!destination) {\r\n                return;\r\n              }\r\n              if (\r\n                source.index === destination.index &&\r\n                source.droppableId === destination.droppableId\r\n              ) {\r\n                return;\r\n              }\r\n              setTiles((tiles) =>\r\n                reorder(tiles, source.index, destination.index)\r\n              );\r\n              ChangePosition(destination.index, draggableId);\r\n            }}\r\n          >\r\n            <Grid\r\n              container\r\n              style={{ display: \"flex\", justifyContent: \"center\" }}\r\n            >\r\n              <Grid item xs={12} sm={8}>\r\n                <Droppable droppableId=\"testimonials\">\r\n                  {(droppableProvided) => (\r\n                    <div\r\n                      {...droppableProvided.droppableProps}\r\n                      ref={droppableProvided.innerRef}\r\n                    >\r\n                      {tiles.map((tile, index) => (\r\n                        <Draggable\r\n                          key={tile._id}\r\n                          draggableId={tile._id}\r\n                          index={index}\r\n                        >\r\n                          {(draggableProvided) => (\r\n                            <Grid\r\n                              item\r\n                              {...draggableProvided.draggableProps}\r\n                              ref={draggableProvided.innerRef}\r\n                              {...draggableProvided.dragHandleProps}\r\n                            >\r\n                              <Paper\r\n                                className={classes.paper}\r\n                                style={{\r\n                                  padding: \"15px\",\r\n                                }}\r\n                              >\r\n                                <Grid key={tile._id} style={{ width: \"100%\" }}>\r\n                                  <Grid container spacing={1}>\r\n                                    {loading && (\r\n                                      <div className={classes.loading}>\r\n                                        <CircularProgress />\r\n                                      </div>\r\n                                    )}\r\n                                    <Grid\r\n                                      marginBottom={2}\r\n                                      style={{ width: \"100%\" }}\r\n                                    >\r\n                                      <Box\r\n                                        style={{\r\n                                          display: \"flex\",\r\n                                          justifyContent: \"end\",\r\n                                        }}\r\n                                      >\r\n                                        <IconButton\r\n                                          style={{ marginLeft: \"10px\" }}\r\n                                          onClick={() =>\r\n                                            handleTestimonialDataEdit(tile._id)\r\n                                          }\r\n                                        >\r\n                                          <EditIcon color={\"secondary\"} />\r\n                                        </IconButton>\r\n                                        <IconButton\r\n                                          onClick={() =>\r\n                                            deleteTestimonial(tile._id)\r\n                                          }\r\n                                        >\r\n                                          <DeleteIcon color={\"secondary\"} />\r\n                                        </IconButton>\r\n                                      </Box>\r\n                                      <Box\r\n                                        style={{\r\n                                          display: \"flex\",\r\n                                          paddingLeft: \"20px\",\r\n                                        }}\r\n                                      >\r\n                                        <Avatar\r\n                                          className={classes.avatar}\r\n                                          src={tile.avatar}\r\n                                        />\r\n                                        <Box\r\n                                          style={{\r\n                                            paddingLeft: \"30px\",\r\n                                          }}\r\n                                        >\r\n                                          <Typography>{tile.name}</Typography>\r\n                                          <Typography\r\n                                            variant={\"p\"}\r\n                                            color={\"secondary\"}\r\n                                          >\r\n                                            {tile.type}\r\n                                          </Typography>\r\n                                        </Box>\r\n                                      </Box>\r\n                                      <Box\r\n                                        style={{\r\n                                          paddingTop: \"10px\",\r\n                                        }}\r\n                                      >\r\n                                        <Typography\r\n                                          variant={\"body2\"}\r\n                                          style={{\r\n                                            display: \"flex\",\r\n                                            textAlign: \"center\",\r\n                                            justifyContent: \"center\",\r\n                                            // height: \"60px\",\r\n                                          }}\r\n                                        >\r\n                                          {tile.value}\r\n                                        </Typography>\r\n                                      </Box>\r\n                                      <Box\r\n                                        style={{\r\n                                          paddingTop: \"8px\",\r\n                                          height: \"35px\",\r\n                                        }}\r\n                                      >\r\n                                        <Typography\r\n                                          variant={\"body2\"}\r\n                                          color=\"secondary\"\r\n                                          style={{\r\n                                            display: \"flex\",\r\n                                            textAlign: \"center\",\r\n                                            justifyContent: \"center\",\r\n                                          }}\r\n                                        >\r\n                                          {tile.footer}\r\n                                        </Typography>\r\n                                      </Box>\r\n                                      <Box\r\n                                        style={{\r\n                                          paddingTop: \"10px\",\r\n                                          display: \"flex\",\r\n                                          justifyContent: \"end\",\r\n                                        }}\r\n                                        label=\"Mostrar en la página de inicio\"\r\n                                      >\r\n                                        <Typography\r\n                                          color=\"secondary\"\r\n                                          style={{\r\n                                            display: \"flex\",\r\n                                            alignItems: \"center\",\r\n                                          }}\r\n                                        >\r\n                                          {\" \"}\r\n                                          Mostrar en la página de inicio\r\n                                        </Typography>\r\n                                        <Switch\r\n                                          checked={tile.status}\r\n                                          color=\"primary\"\r\n                                          onChange={(event) =>\r\n                                            ChangeVisibility(event, tile._id)\r\n                                          }\r\n                                          name=\"checkedA\"\r\n                                          inputProps={{\r\n                                            \"aria-label\": \"secondary checkbox\",\r\n                                          }}\r\n                                        />\r\n                                      </Box>\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Paper>\r\n                            </Grid>\r\n                          )}\r\n                        </Draggable>\r\n                      ))}\r\n                      {droppableProvided.placeholder}\r\n                    </div>\r\n                  )}\r\n                </Droppable>\r\n              </Grid>\r\n            </Grid>\r\n          </DragDropContext>\r\n          <Snackbar\r\n            open={snackBarError}\r\n            autoHideDuration={4000}\r\n            onClose={() => {\r\n              setSnackBarError(false);\r\n            }}\r\n            message={errorMessage}\r\n            className={classes.snackbar}\r\n          />\r\n        </Grid>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\r\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport BarChartIcon from \"@material-ui/icons/BarChart\";\r\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport PaletteIcon from \"@material-ui/icons/Palette\";\r\nimport LoyaltyIcon from \"@material-ui/icons/Loyalty\";\r\nimport LocalMallIcon from \"@material-ui/icons/LocalMall\";\r\nimport PaymentIcon from \"@material-ui/icons/Payment\";\r\nimport ReceiptIcon from \"@material-ui/icons/Receipt\";\r\nimport WebAssetIcon from \"@material-ui/icons/WebAsset\";\r\nimport Preferences from \"./preferences/Preferences\";\r\nimport Testimonials from \"../TestimonialsCrud/Testimonials\";\r\nimport { InsertEmoticon } from \"@material-ui/icons\";\r\n\r\nexport default function MainListItems(props) {\r\n  const history = useHistory();\r\n\r\n  const handleClick = (value) => {\r\n    history.push({ pathname: \"/admin/\" + value + \"/read\" });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <ListItem\r\n          button\r\n          selected={props.active === \"dashboard\"}\r\n          style={{ color: \"gray\" }}\r\n        >\r\n          <ListItemIcon>\r\n            <DashboardIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Tablero General\" />\r\n          {/* onClick={(e)=>{handleClick('dashboard')}} /> */}\r\n        </ListItem>\r\n        <ListItem button selected={props.active === \"product\"}>\r\n          <ListItemIcon>\r\n            <LocalMallIcon />\r\n          </ListItemIcon>\r\n          <ListItemText\r\n            primary=\"Productos\"\r\n            onClick={(e) => {\r\n              handleClick(\"product\");\r\n            }}\r\n          />\r\n        </ListItem>\r\n        <ListItem\r\n          button\r\n          selected={props.active === \"consumer\"}\r\n          style={{ color: \"gray\" }}\r\n        >\r\n          <ListItemIcon>\r\n            <PeopleIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Consumidores\" />\r\n          {/* <ListItemText primary=\"Consumidores\" onClick={(e)=>{handleClick('consumer')}}  /> */}\r\n        </ListItem>\r\n        <ListItem\r\n          button\r\n          selected={props.active === \"payment-method\"}\r\n          style={{ color: \"gray\" }}\r\n        >\r\n          <ListItemIcon>\r\n            <PaymentIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Métodos de pago\" />\r\n          {/* <ListItemText primary=\"Métodos de pago\" onClick={(e)=>{handleClick('payment-method')}}  /> */}\r\n        </ListItem>\r\n        <ListItem\r\n          button\r\n          selected={props.active === \"order\"}\r\n          // style={{ color: \"gray\" }}\r\n        >\r\n          <ListItemIcon>\r\n            <ReceiptIcon />\r\n          </ListItemIcon>\r\n          <ListItemText\r\n            primary=\"Pedidos\"\r\n            onClick={(e) => {\r\n              handleClick(\"order\");\r\n            }}\r\n          />\r\n          {/* <ListItemText primary=\"Pedidos\"  /> */}\r\n        </ListItem>\r\n        <ListItem\r\n          button\r\n          selected={props.active === \"prixer\"}\r\n          // style={{ color: \"gray\" }}\r\n        >\r\n          <ListItemIcon>\r\n            <PaletteIcon />\r\n          </ListItemIcon>\r\n          <ListItemText\r\n            primary=\"Prixers\"\r\n            onClick={(e) => {\r\n              handleClick(\"prixer\");\r\n            }}\r\n          />\r\n        </ListItem>\r\n        <ListItem\r\n          button\r\n          selected={props.active === \"parameters\"}\r\n          style={{ color: \"gray\" }}\r\n        >\r\n          <ListItemIcon>\r\n            <BarChartIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Parámetros\" />\r\n          {/* onClick={(e)=>{handleClick('parameters')}}  /> */}\r\n        </ListItem>\r\n        <ListItem\r\n          button\r\n          selected={props.active === \"testimonials\"}\r\n          // style={{ color: \"gray\" }}\r\n        >\r\n          <ListItemIcon>\r\n            <InsertEmoticon />\r\n          </ListItemIcon>\r\n          <ListItemText\r\n            primary=\"Testimonios\"\r\n            onClick={(e) => {\r\n              handleClick(\"testimonials\");\r\n            }}\r\n          />\r\n        </ListItem>\r\n      </div>\r\n      <Divider />\r\n      <div>\r\n        <ListSubheader inset>Configuración</ListSubheader>\r\n        <ListItem button selected={props.active === \"user\"}>\r\n          <ListItemIcon>\r\n            <AssignmentIcon />\r\n          </ListItemIcon>\r\n          <ListItemText\r\n            primary=\"Usuarios\"\r\n            onClick={(e) => {\r\n              handleClick(\"user\");\r\n            }}\r\n          />\r\n        </ListItem>\r\n        <ListItem button selected={props.active === \"preferences\"}>\r\n          <ListItemIcon>\r\n            <WebAssetIcon />\r\n          </ListItemIcon>\r\n          <ListItemText\r\n            primary=\"Preferencias\"\r\n            onClick={(e) => {\r\n              handleClick(\"preferences\");\r\n            }}\r\n          />\r\n        </ListItem>\r\n        <ListItem\r\n          button\r\n          selected={props.active === \"role\"}\r\n          style={{ color: \"gray\" }}\r\n        >\r\n          <ListItemIcon>\r\n            <AssignmentIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Roles\" />\r\n          {/* onClick={(e)=>{handleClick('role')}}  /> */}\r\n        </ListItem>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport { LineChart, Line, XAxis, YAxis, Label, ResponsiveContainer } from 'recharts';\r\nimport Title from '../Title';\r\n\r\n// Generate Sales Data\r\nfunction createData(time, amount) {\r\n  return { time, amount };\r\n}\r\n\r\nconst data = [\r\n  createData('00:00', 0),\r\n  createData('03:00', 300),\r\n  createData('06:00', 600),\r\n  createData('09:00', 800),\r\n  createData('12:00', 1500),\r\n  createData('15:00', 2000),\r\n  createData('18:00', 2400),\r\n  createData('21:00', 2400),\r\n  createData('24:00', undefined),\r\n];\r\n\r\nexport default function Chart() {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Today</Title>\r\n      <ResponsiveContainer>\r\n        <LineChart\r\n          data={data}\r\n          margin={{\r\n            top: 16,\r\n            right: 16,\r\n            bottom: 0,\r\n            left: 24,\r\n          }}\r\n        >\r\n          <XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\r\n          <YAxis stroke={theme.palette.text.secondary}>\r\n            <Label\r\n              angle={270}\r\n              position=\"left\"\r\n              style={{ textAnchor: 'middle', fill: theme.palette.text.primary }}\r\n            >\r\n              Sales ($)\r\n            </Label>\r\n          </YAxis>\r\n          <Line type=\"monotone\" dataKey=\"amount\" stroke={theme.palette.primary.main} dot={false} />\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Title from '../Title';\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  depositContext: {\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nexport default function Deposits() {\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Recent Deposits</Title>\r\n      <Typography component=\"p\" variant=\"h4\">\r\n        $3,024.00\r\n      </Typography>\r\n      <Typography color=\"textSecondary\" className={classes.depositContext}>\r\n        on 15 March, 2019\r\n      </Typography>\r\n      <div>\r\n        <Link color=\"primary\" href=\"#\" onClick={preventDefault}>\r\n          View balance\r\n        </Link>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Title from '../Title';\r\n\r\n// Generate Order Data\r\nfunction createData(id, date, name, shipTo, paymentMethod, amount) {\r\n  return { id, date, name, shipTo, paymentMethod, amount };\r\n}\r\n\r\nconst rows = [\r\n  createData(0, '16 Mar, 2019', 'Elvis Presley', 'Tupelo, MS', 'VISA ⠀•••• 3719', 312.44),\r\n  createData(1, '16 Mar, 2019', 'Paul McCartney', 'London, UK', 'VISA ⠀•••• 2574', 866.99),\r\n  createData(2, '16 Mar, 2019', 'Tom Scholz', 'Boston, MA', 'MC ⠀•••• 1253', 100.81),\r\n  createData(3, '16 Mar, 2019', 'Michael Jackson', 'Gary, IN', 'AMEX ⠀•••• 2000', 654.39),\r\n  createData(4, '15 Mar, 2019', 'Bruce Springsteen', 'Long Branch, NJ', 'VISA ⠀•••• 5919', 212.79),\r\n];\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nexport default function Orders() {\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Recent Orders</Title>\r\n      <Table size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Date</TableCell>\r\n            <TableCell>Name</TableCell>\r\n            <TableCell>Ship To</TableCell>\r\n            <TableCell>Payment Method</TableCell>\r\n            <TableCell align=\"right\">Sale Amount</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {rows.map((row) => (\r\n            <TableRow key={row.id}>\r\n              <TableCell>{row.date}</TableCell>\r\n              <TableCell>{row.name}</TableCell>\r\n              <TableCell>{row.shipTo}</TableCell>\r\n              <TableCell>{row.paymentMethod}</TableCell>\r\n              <TableCell align=\"right\">{row.amount}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n      <div className={classes.seeMore}>\r\n        <Link color=\"primary\" href=\"#\" onClick={preventDefault}>\r\n          See more orders\r\n        </Link>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Chart from './chart';\r\nimport Deposits from './deposits';\r\nimport Orders from './orders';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n    },\r\n    toolbar: {\r\n      paddingRight: 24, // keep right padding when drawer closed\r\n    },\r\n    toolbarIcon: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'flex-end',\r\n      padding: '0 8px',\r\n      ...theme.mixins.toolbar,\r\n    },\r\n    appBar: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      transition: theme.transitions.create(['width', 'margin'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n    },\r\n    appBarShift: {\r\n      marginLeft: drawerWidth,\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      transition: theme.transitions.create(['width', 'margin'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    menuButton: {\r\n      marginRight: 36,\r\n    },\r\n    menuButtonHidden: {\r\n      display: 'none',\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    drawerPaper: {\r\n      position: 'relative',\r\n      whiteSpace: 'nowrap',\r\n      width: drawerWidth,\r\n      transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    drawerPaperClose: {\r\n      overflowX: 'hidden',\r\n      transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      width: theme.spacing(7),\r\n      [theme.breakpoints.up('sm')]: {\r\n        width: theme.spacing(9),\r\n      },\r\n    },\r\n    appBarSpacer: theme.mixins.toolbar,\r\n    content: {\r\n      flexGrow: 1,\r\n      height: '100vh',\r\n      overflow: 'auto',\r\n    },\r\n    container: {\r\n      paddingTop: theme.spacing(4),\r\n      paddingBottom: theme.spacing(4),\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'auto',\r\n      flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n      height: 'auto',\r\n    },\r\n  }));\r\n\r\nexport default function Dashboard() {\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n\r\n    return (\r\n        <Grid container spacing={3}>\r\n            {/* Chart */}\r\n            <Grid item xs={12} md={8} lg={9}>\r\n                <Paper className={fixedHeightPaper}>\r\n                    <Chart />\r\n                </Paper>\r\n            </Grid>\r\n            {/* Recent Deposits */}\r\n            <Grid item xs={12} md={4} lg={3}>\r\n                <Paper className={fixedHeightPaper}>\r\n                    <Deposits />\r\n                </Paper>\r\n            </Grid>\r\n            {/* Recent Orders */}\r\n            <Grid item xs={12}>\r\n                <Paper className={classes.paper}>\r\n                    <Orders />\r\n                </Paper>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Title from \"../adminMain/Title\";\r\nimport axios from \"axios\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport clsx from \"clsx\";\r\nimport validations from \"../../utils/validations\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nexport default function CreateAdmin() {\r\n  const classes = useStyles();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [firstname, setFirstname] = useState(\"\");\r\n  const [lastname, setLastname] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [buttonState, setButtonState] = useState(false);\r\n\r\n  //Error states.\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n  const [passwordError, setPasswordError] = useState();\r\n\r\n  //Password\r\n  const handlePasswordChange = (e) => {\r\n    if (validations.isAValidPassword(e.target.value)) {\r\n      setPassword(e.target.value);\r\n      setPasswordError(false);\r\n      setSnackBarError(false);\r\n    } else {\r\n      setPassword(e.target.value);\r\n      setPasswordError(true);\r\n      setErrorMessage(\r\n        \"Disculpa, tu contraseña debe tener entre 8 y 15 caracteres, incluyendo al menos: una minúscula, una mayúscula, un número y un caracter especial.\"\r\n      );\r\n      setSnackBarError(true);\r\n    }\r\n  };\r\n\r\n  const handleClickShowPassword = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n  //END Password\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!username && !firstname && !lastname && !phone && !email && !password) {\r\n      setErrorMessage(\"Por favor completa todos los campos requeridos.\");\r\n      setSnackBarError(true);\r\n      e.preventDefault();\r\n    } else {\r\n      setLoading(true);\r\n      setButtonState(true);\r\n      const data = {\r\n        username: username,\r\n        firstname: firstname,\r\n        lastname: lastname,\r\n        email: email.toLowerCase(),\r\n        phone: phone,\r\n        password: password,\r\n      };\r\n\r\n      const base_url = process.env.REACT_APP_BACKEND_URL + \"/admin/create\";\r\n      const response = await axios.post(base_url, data);\r\n      if (response.data.success === false) {\r\n        setLoading(false);\r\n        setButtonState(false);\r\n        setErrorMessage(response.data.message);\r\n        setSnackBarError(true);\r\n      } else {\r\n        setErrorMessage(\"Registro de Admin exitoso.\");\r\n        setSnackBarError(true);\r\n        setUsername(\"\");\r\n        setFirstname(\"\");\r\n        setLastname(\"\");\r\n        setEmail(\"\");\r\n        setPhone(\"\");\r\n        setPassword(\"\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {loading && (\r\n        <div class={classes.loading}>\r\n          <CircularProgress />\r\n        </div>\r\n      )}\r\n      <Title>Administradores</Title>\r\n      <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12}>\r\n            <FormControl\r\n              className={clsx(classes.margin, classes.textField)}\r\n              variant=\"outlined\"\r\n              xs={12}\r\n              fullWidth={true}\r\n            >\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Nombre de usuario\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                value={username}\r\n                onChange={(e) => {\r\n                  setUsername(e.target.value);\r\n                }}\r\n              />\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <FormControl\r\n              className={clsx(classes.margin, classes.textField)}\r\n              variant=\"outlined\"\r\n              xs={12}\r\n              fullWidth={true}\r\n            >\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstname\"\r\n                label=\"Nombre\"\r\n                name=\"firstname\"\r\n                autoComplete=\"firstname\"\r\n                value={firstname}\r\n                onChange={(e) => {\r\n                  setFirstname(e.target.value);\r\n                }}\r\n              />\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <FormControl\r\n              className={clsx(classes.margin, classes.textField)}\r\n              variant=\"outlined\"\r\n              xs={12}\r\n              fullWidth={true}\r\n            >\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastname\"\r\n                label=\"Apellido\"\r\n                name=\"lastname\"\r\n                autoComplete=\"lastname\"\r\n                value={lastname}\r\n                onChange={(e) => {\r\n                  setLastname(e.target.value);\r\n                }}\r\n              />\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <FormControl\r\n              className={clsx(classes.margin, classes.textField)}\r\n              variant=\"outlined\"\r\n              xs={12}\r\n              fullWidth={true}\r\n            >\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Correo electrónico\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                value={email}\r\n                onChange={(e) => {\r\n                  setEmail(e.target.value).toLowerCase();\r\n                }}\r\n              />\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <FormControl\r\n              className={clsx(classes.margin, classes.textField)}\r\n              variant=\"outlined\"\r\n              xs={12}\r\n              fullWidth={true}\r\n            >\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"phone\"\r\n                label=\"Teléfono\"\r\n                name=\"phone\"\r\n                autoComplete=\"phone\"\r\n                value={phone}\r\n                onChange={(e) => {\r\n                  setPhone(e.target.value);\r\n                }}\r\n              />\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <FormControl\r\n              className={clsx(classes.margin, classes.textField)}\r\n              variant=\"outlined\"\r\n              xs={12}\r\n              fullWidth={true}\r\n            >\r\n              <InputLabel htmlFor=\"outlined-adornment-password\">\r\n                Contraseña\r\n              </InputLabel>\r\n              <OutlinedInput\r\n                id=\"outlined-adornment-password\"\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                value={password}\r\n                label=\"Contraseña\"\r\n                error={passwordError}\r\n                onChange={handlePasswordChange}\r\n                endAdornment={\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"toggle password visibility\"\r\n                      onClick={handleClickShowPassword}\r\n                      onMouseDown={handleMouseDownPassword}\r\n                      edge=\"end\"\r\n                    >\r\n                      {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                }\r\n                labelWidth={100}\r\n              />\r\n            </FormControl>\r\n          </Grid>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            disabled={buttonState}\r\n          >\r\n            Crear\r\n          </Button>\r\n        </Grid>\r\n      </form>\r\n      <Snackbar\r\n        open={snackBarError}\r\n        autoHideDuration={1000}\r\n        message={errorMessage}\r\n        className={classes.snackbar}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {useEffect, useState} from 'react';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Title from '../adminMain/Title';\r\nimport axios from 'axios';\r\n\r\n\r\nexport default function ReadAdmins() {\r\n    const [rows, setRows] = useState();\r\n\r\n//AQUIIIII\r\nuseEffect(()=> {\r\n  let isMounted = true\r\n  const base_url= process.env.REACT_APP_BACKEND_URL + \"/admin/read-all\";\r\n  async function fetchMyAPI() {\r\n    try {\r\n      const rowState = await axios.post(base_url);\r\n    \r\n      if(rowState.data && isMounted) {\r\n        setRows(rowState.data);\r\n      }\r\n      return () => { isMounted = false };\r\n    } catch(e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  fetchMyAPI()\r\n},[]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Administradores</Title>\r\n      <Table size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"center\">Nombre</TableCell>\r\n            <TableCell align=\"center\">Apellido</TableCell>\r\n            <TableCell align=\"center\">Correo</TableCell>\r\n            <TableCell align=\"center\">Usuario</TableCell>\r\n            <TableCell align=\"center\">Teléfono</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n        {\r\n        rows &&\r\n          rows.map((row) => (\r\n            <TableRow key={row.username}>\r\n              <TableCell align=\"center\">{row.firstname}</TableCell>\r\n              <TableCell align=\"center\">{row.lastname}</TableCell>\r\n              <TableCell align=\"center\">{row.email}</TableCell>\r\n              <TableCell align=\"center\">{row.username}</TableCell>\r\n              <TableCell align=\"center\">{row.phone}</TableCell>\r\n            </TableRow>\r\n          ))\r\n        }\r\n        </TableBody>\r\n      </Table>\r\n      {/* <div className={classes.seeMore}>\r\n        <Link color=\"primary\" href=\"#\" onClick={preventDefault}>\r\n          See more orders\r\n        </Link>\r\n      </div> */}\r\n    </React.Fragment>\r\n  );\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport ViewListIcon from '@material-ui/icons/ViewList';\r\nimport CreateAdmin from '../../adminCrud/createAdmin';\r\nimport ReadAdmins from '../../adminCrud/readAdmins';\r\nimport UpdateAdmin from '../../adminCrud/updateAdmin';\r\nimport DisableAdmin from '../../adminCrud/disableAdmin';\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'grid',\r\n      gridTemplateColumn: '4'\r\n    },\r\n    toolbar: {\r\n      paddingRight: 24, // keep right padding when drawer closed\r\n    },\r\n    toolbarIcon: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'flex-end',\r\n      padding: '0 8px',\r\n      ...theme.mixins.toolbar,\r\n    },\r\n    appBar: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      transition: theme.transitions.create(['width', 'margin'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n    },\r\n    appBarShift: {\r\n      marginLeft: drawerWidth,\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      transition: theme.transitions.create(['width', 'margin'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    menuButton: {\r\n      marginRight: 36,\r\n    },\r\n    menuButtonHidden: {\r\n      display: 'none',\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    drawerPaper: {\r\n      position: 'relative',\r\n      whiteSpace: 'nowrap',\r\n      width: drawerWidth,\r\n      transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    drawerPaperClose: {\r\n      overflowX: 'hidden',\r\n      transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      width: theme.spacing(7),\r\n      [theme.breakpoints.up('sm')]: {\r\n        width: theme.spacing(9),\r\n      },\r\n    },\r\n    appBarSpacer: theme.mixins.toolbar,\r\n    content: {\r\n      flexGrow: 1,\r\n      height: '100vh',\r\n      overflow: 'auto',\r\n    },\r\n    container: {\r\n      paddingTop: theme.spacing(4),\r\n      paddingBottom: theme.spacing(4),\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'auto',\r\n      flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n      height: 700,\r\n    },\r\n    fab: {\r\n      right: 0,\r\n      position: 'absolute'\r\n    },\r\n  }));\r\n\r\nexport default function AdminUsers() {\r\n  const classes = useStyles();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const [ activeCrud, setActiveCrud ] = useState('read');\r\n\r\n  const handleUserAction = (action)=> {\r\n    history.push('/admin/user/'+action);\r\n    setActiveCrud(action);\r\n  }\r\n\r\n  useEffect(()=>{\r\n    location.pathname.split('/').length === 5 ?\r\n      setActiveCrud(location.pathname.split('/')[location.pathname.split('/').length-2])\r\n    : location.pathname.split('/').length === 4 &&\r\n      setActiveCrud(location.pathname.split('/')[location.pathname.split('/').length-1])\r\n  },[location.pathname]);\r\n\r\n  return (\r\n    <div style={{position:'relative'}}>\r\n      <div style={{position:'absolute', right:0}}>\r\n        <Fab color=\"default\" aria-label=\"edit\" onClick={()=>{handleUserAction('read')}}>\r\n          <ViewListIcon />\r\n        </Fab>\r\n        <Fab color=\"primary\" aria-label=\"add\" onClick={()=>{handleUserAction('create')}}>\r\n          <AddIcon />\r\n        </Fab>\r\n      </div>\r\n      <Grid container spacing={3}>\r\n          {/* Chart */}\r\n          <Grid item xs={12} md={12} lg={12}>\r\n              <Paper className={fixedHeightPaper}>\r\n                {\r\n                  activeCrud === 'create' ?\r\n                    <CreateAdmin />\r\n                  : activeCrud === 'read' ?\r\n                    <ReadAdmins />\r\n                  : activeCrud === 'update' ?\r\n                    <UpdateAdmin />\r\n                  :\r\n                    <DisableAdmin />\r\n                }\r\n              </Paper>\r\n          </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n    ","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Title from \"../adminMain/Title\";\r\nimport axios from \"axios\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n// import IconButton from '@material-ui/core/IconButton';\r\n// import OutlinedInput from '@material-ui/core/OutlinedInput';\r\n// import InputLabel from '@material-ui/core/InputLabel';\r\n// import InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\n// import Visibility from '@material-ui/icons/Visibility';\r\n// import VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport clsx from \"clsx\";\r\n// import validations from '../../utils/validations';\r\nimport HighlightOffOutlinedIcon from \"@material-ui/icons/HighlightOffOutlined\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n  loaderImage: {\r\n    width: \"120%\",\r\n    border: \"2px\",\r\n    height: \"30vh\",\r\n    borderStyle: \"groove\",\r\n    borderColor: \"#d33f49\",\r\n    backgroundColor: \"#ededed\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  imageLoad: {\r\n    maxWidth: \"100%\",\r\n    maxHeight: \"100%\",\r\n    padding: \"5px\",\r\n    marginTop: \"5px\",\r\n  },\r\n  formHead: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignContent: \"center\",\r\n    justifyContent: \"space-evenly\",\r\n    alignItems: \"center\",\r\n  },\r\n  buttonImgLoader: {\r\n    cursor: \"pointer\",\r\n    padding: \"5px\",\r\n  },\r\n  buttonEdit: {\r\n    cursor: \"pointer\",\r\n    padding: \"5px\",\r\n  },\r\n}));\r\n\r\nexport default function CreateProduct() {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n  const isDeskTop = useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n  const [active, setActive] = useState(false);\r\n  const [productName, setProductName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [considerations, setConsiderations] = useState(\"\");\r\n  const [images, newImages] = useState({ images: [] });\r\n  const [videoUrl, setVideoUrl] = useState(\"\");\r\n  const [videoPreview, setVideoPreview] = useState(\"\");\r\n  const [fromPublicPrice, setFromPublicPrice] = useState(\"\");\r\n  const [toPublicPrice, setToPublicPrice] = useState(\"\");\r\n  const [fromPrixerPrice, setFromPrixerPrice] = useState(\"\");\r\n  const [toPrixerPrice, setToPrixerPrice] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [buttonState, setButtonState] = useState(false);\r\n  const [hasSpecialVar, setHasSpecialVar] = useState(false);\r\n  const [specialVars, setSpecialVars] = useState(false);\r\n  const [imageLoader, setLoadImage] = useState({\r\n    loader: [],\r\n    filename: \"Subir imagenes\",\r\n  });\r\n  const history = useHistory();\r\n\r\n  //Error states.\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const [loadOpen, setLoadOpen] = useState(false);\r\n  const [loaDOpen, setLoaDOpen] = useState(false);\r\n  const [mustImage, setMustImages] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  //Preview de imagen antes de enviar\r\n  const convertToBase64 = (blob) => {\r\n    return new Promise((resolve) => {\r\n      var reader = new FileReader();\r\n      reader.onload = function () {\r\n        resolve(reader.result);\r\n      };\r\n      reader.readAsDataURL(blob);\r\n    });\r\n  };\r\n\r\n  const loadImage = async (e) => {\r\n    e.preventDefault();\r\n    if (imageLoader.loader.length > 4) {\r\n      setLoadOpen(true);\r\n      setTimeout(() => {\r\n        setLoadOpen(false);\r\n      }, 3000);\r\n    } else {\r\n      const file = e.target.files[0];\r\n      const resizedString = await convertToBase64(file);\r\n      if (imageLoader.loader.length >= 4) {\r\n        return null;\r\n      } else {\r\n        imageLoader.loader.push(resizedString);\r\n        if (images.images.length >= 4) {\r\n          return null;\r\n        } else {\r\n          images.images.push(file);\r\n        }\r\n      }\r\n      setLoadImage({ loader: imageLoader.loader, filename: file.name });\r\n    }\r\n  };\r\n\r\n  const replaceImage = async (e, index) => {\r\n    e.preventDefault();\r\n    const file = e.target.files[0];\r\n    const resizedString = await convertToBase64(file);\r\n    imageLoader.loader[index] = resizedString;\r\n    images.images[index] = file;\r\n    setLoadImage({ loader: imageLoader.loader, filename: file.name });\r\n  };\r\n\r\n  const modifyString = (a, sti) => {\r\n    const url = sti.split(\" \");\r\n    const width = sti.replace(\"560\", \"326\").replace(\"315\", \"326\");\r\n    const previewMp4 = sti.replace(\"1350\", \"510\").replace(\"494\", \"350\");\r\n    setVideoUrl(width);\r\n    setVideoPreview(previewMp4);\r\n    // const index = url[3].indexOf()\r\n    // sti.replace(index, '?controls=0\\\"')\r\n    //sti[79]\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (images.images.length > 4) {\r\n      setLoaDOpen(true);\r\n      setTimeout(() => {\r\n        setLoaDOpen(false);\r\n      }, 3000);\r\n    } else {\r\n      if (images.images.length <= 0 && videoUrl == \"\") {\r\n        setMustImages(true);\r\n        setTimeout(() => {\r\n          setMustImages(false);\r\n        }, 3000);\r\n      } else {\r\n        if (\r\n          !active &&\r\n          !productName &&\r\n          !description &&\r\n          !category &&\r\n          !considerations &&\r\n          // !fixedPublicPrice &&\r\n          !fromPublicPrice &&\r\n          !toPublicPrice &&\r\n          // !fixedPrixerPrice &&\r\n          !fromPrixerPrice &&\r\n          !toPrixerPrice &&\r\n          !images\r\n        ) {\r\n          setErrorMessage(\"Por favor completa todos los campos requeridos.\");\r\n          setSnackBarError(true);\r\n          e.preventDefault();\r\n        } else {\r\n          setLoading(true);\r\n          setButtonState(true);\r\n          const formData = new FormData();\r\n          const data = {\r\n            publicPrice: {\r\n              from: fromPublicPrice,\r\n              to: toPublicPrice,\r\n            },\r\n            prixerPrice: {\r\n              from: fromPrixerPrice,\r\n              to: toPrixerPrice,\r\n            },\r\n            specialVars: [\r\n              {\r\n                name: \"\",\r\n                isSpecialVarVisible: \"\",\r\n              },\r\n            ],\r\n          };\r\n          formData.append(\"active\", active);\r\n          formData.append(\"name\", productName);\r\n          formData.append(\"description\", description);\r\n          formData.append(\"category\", category);\r\n          formData.append(\"considerations\", considerations);\r\n          formData.append(\"publicPriceFrom\", data.publicPrice.from);\r\n          formData.append(\"publicPriceTo\", data.publicPrice.to);\r\n          formData.append(\"prixerPriceFrom\", data.prixerPrice.from);\r\n          formData.append(\"prixerPriceTo\", data.prixerPrice.to);\r\n          formData.append(\"hasSpecialVar\", hasSpecialVar);\r\n          formData.append(\"video\", videoUrl);\r\n          images.images.map((file) => formData.append(\"productImages\", file));\r\n          const base_url =\r\n            process.env.REACT_APP_BACKEND_URL + \"/product/create\";\r\n          const response = await axios.post(base_url, formData);\r\n          if (response.data.success === false) {\r\n            setLoading(false);\r\n            setButtonState(false);\r\n            setErrorMessage(response.data.message);\r\n            setSnackBarError(true);\r\n          } else {\r\n            setErrorMessage(\"Registro de producto exitoso.\");\r\n            setSnackBarError(true);\r\n            setActive(\"\");\r\n            setProductName(\"\");\r\n            setDescription(\"\");\r\n            setCategory(\"\");\r\n            setConsiderations(\"\");\r\n            //   setFixedPublicPrice('');\r\n            setFromPublicPrice(\"\");\r\n            setToPublicPrice(\"\");\r\n            //   setFixedPrixerPrice('');\r\n            setFromPrixerPrice(\"\");\r\n            setToPrixerPrice(\"\");\r\n            history.push(\"/admin/product/read\");\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {\r\n        <Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress />\r\n        </Backdrop>\r\n      }\r\n      <Title>Productos</Title>\r\n      <form\r\n        className={classes.form}\r\n        encType=\"multipart/form-data\"\r\n        noValidate\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <Grid container spacing={2}>\r\n          <Grid container spacing={2}>\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              sm={12}\r\n              md={4}\r\n              lg={4}\r\n              xl={4}\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <FormControl variant=\"outlined\">\r\n                <Button variant=\"contained\" component=\"label\">\r\n                  Upload File\r\n                  <input\r\n                    name=\"productImages\"\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    hidden\r\n                    onChange={(a) => {\r\n                      a.preventDefault();\r\n                      loadImage(a);\r\n                    }}\r\n                  />\r\n                </Button>\r\n                - O -\r\n                <Button\r\n                  variant=\"contained\"\r\n                  componenet=\"label\"\r\n                  onClick={handleClickOpen}\r\n                >\r\n                  Upload video\r\n                </Button>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              sm={12}\r\n              md={8}\r\n              lg={8}\r\n              xl={8}\r\n              style={{ display: \"flex\" }}\r\n            >\r\n              {imageLoader.loader &&\r\n                imageLoader.loader.map((img, key_id) => {\r\n                  return (\r\n                    <div\r\n                      style={{\r\n                        width: \"25%\",\r\n                        // maxHeight: \"200px\",\r\n                        marginRight: \"4px\",\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          // marginBottom: \"-32px\",\r\n                          textAlign: \"right\",\r\n                        }}\r\n                      >\r\n                        <IconButton\r\n                          variant=\"text\"\r\n                          className={classes.buttonImgLoader}\r\n                          style={{ color: \"#d33f49\" }}\r\n                          component=\"label\"\r\n                        >\r\n                          <input\r\n                            name=\"productImages\"\r\n                            type=\"file\"\r\n                            accept=\"image/*\"\r\n                            hidden\r\n                            onChange={(a) => {\r\n                              const i = imageLoader.loader.indexOf(img);\r\n                              replaceImage(a, i);\r\n                            }}\r\n                          />\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          variant=\"text\"\r\n                          className={classes.buttonImgLoader}\r\n                          style={{ color: \"#d33f49\" }}\r\n                          onClick={(d) => {\r\n                            imageLoader.loader.splice(key_id, 1);\r\n                            images.images.splice(key_id, 1);\r\n                            setLoadImage({\r\n                              loader: imageLoader.loader,\r\n                              filename: \"Subir Imagenes\",\r\n                            });\r\n                            newImages({ images: images.images });\r\n                          }}\r\n                        >\r\n                          <HighlightOffOutlinedIcon />\r\n                        </IconButton>\r\n                      </div>\r\n\r\n                      <img\r\n                        style={{\r\n                          width: \"100%\",\r\n                          // height: \"200px\",\r\n                          objectFit: \"contain\",\r\n                        }}\r\n                        src={img}\r\n                        alt=\"+\"\r\n                      />\r\n                    </div>\r\n                  );\r\n                })}\r\n            </Grid>\r\n            <Grid container xs={isDesktop ? 12 : 12}>\r\n              <Grid item xs={12} md={6}>\r\n                <Checkbox\r\n                  checked={active}\r\n                  color=\"primary\"\r\n                  inputProps={{ \"aria-label\": \"secondary checkbox\" }}\r\n                  onChange={() => {\r\n                    active ? setActive(false) : setActive(true);\r\n                  }}\r\n                />{\" \"}\r\n                Habilitado / Visible\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Checkbox\r\n                  checked={hasSpecialVar}\r\n                  color=\"primary\"\r\n                  inputProps={{ \"aria-label\": \"secondary checkbox\" }}\r\n                  onChange={() => {\r\n                    hasSpecialVar\r\n                      ? setHasSpecialVar(false)\r\n                      : setHasSpecialVar(true);\r\n                  }}\r\n                />{\" \"}\r\n                ¿Tiene variables especiales?\r\n              </Grid>\r\n            </Grid>\r\n            {hasSpecialVar && (\r\n              <Grid container xs={12} spacing={2}>\r\n                <Grid container style={{ marginTop: 20 }}>\r\n                  <h3>Variables especiales</h3>\r\n                </Grid>\r\n                <>\r\n                  {specialVars &&\r\n                    specialVars.map((specialVar, i) => (\r\n                      <Grid\r\n                        container\r\n                        spacing={2}\r\n                        xs={12}\r\n                        style={{ marginBottom: 10 }}\r\n                      >\r\n                        <Grid item xs={12} md={5}>\r\n                          <FormControl\r\n                            className={clsx(classes.margin, classes.textField)}\r\n                            variant=\"outlined\"\r\n                            xs={12}\r\n                            fullWidth={true}\r\n                          >\r\n                            <TextField\r\n                              variant=\"outlined\"\r\n                              required\r\n                              fullWidth\r\n                              id={specialVar}\r\n                              label=\"Nombre\"\r\n                              name=\"specialVar\"\r\n                              autoComplete=\"specialVar\"\r\n                              value={specialVar.name}\r\n                              onChange={(e) => {\r\n                                setSpecialVars(\r\n                                  specialVar\r\n                                    .slice(0, i)\r\n                                    .concat({\r\n                                      name: e.target.value,\r\n                                      isSpecialVarVisible:\r\n                                        specialVars.isSpecialVarVisible,\r\n                                    })\r\n                                    .concat(specialVars.slice(i + 1))\r\n                                );\r\n                              }}\r\n                            />\r\n                          </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={5}>\r\n                          <FormControl\r\n                            className={clsx(classes.margin, classes.textField)}\r\n                            variant=\"outlined\"\r\n                            xs={12}\r\n                            fullWidth={true}\r\n                          >\r\n                            <Checkbox\r\n                              variant=\"outlined\"\r\n                              required\r\n                              fullWidth\r\n                              id=\"isSpecialVarVisible\"\r\n                              label=\"Visible\"\r\n                              name=\"isSpecialVarVisible\"\r\n                              autoComplete=\"isSpecialVarVisible\"\r\n                              value={specialVar.isSpecialVarVisible}\r\n                              onChange={(e) => {\r\n                                setSpecialVars(\r\n                                  specialVars\r\n                                    .slice(0, i)\r\n                                    .concat({\r\n                                      name: specialVars.name,\r\n                                      isSpecialVarVisible: e.target.value,\r\n                                    })\r\n                                    .concat(specialVars.slice(i + 1))\r\n                                );\r\n                              }}\r\n                            />\r\n                          </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={2}>\r\n                          <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                              setSpecialVars(\r\n                                specialVars\r\n                                  .slice(0, i)\r\n                                  .concat(specialVars.slice(i + 1))\r\n                              );\r\n                            }}\r\n                            disabled={buttonState}\r\n                            style={{ marginTop: 20 }}\r\n                          >\r\n                            -\r\n                          </Button>\r\n                        </Grid>\r\n                      </Grid>\r\n                    ))}\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"default\"\r\n                    onClick={() => {\r\n                      setSpecialVars(\r\n                        specialVars.concat({\r\n                          name: \"\",\r\n                          isSpecialVarVisible: \"\",\r\n                        })\r\n                      );\r\n                    }}\r\n                    disabled={buttonState}\r\n                    style={{ marginTop: 20 }}\r\n                  >\r\n                    +\r\n                  </Button>\r\n                </>\r\n              </Grid>\r\n            )}\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl variant=\"outlined\" xs={12} fullWidth={true}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  display=\"inline\"\r\n                  id=\"productName\"\r\n                  label=\"Nombre\"\r\n                  name=\"productName\"\r\n                  autoComplete=\"productName\"\r\n                  value={productName}\r\n                  onChange={(e) => {\r\n                    setProductName(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  display=\"inline\"\r\n                  fullWidth\r\n                  id=\"category\"\r\n                  label=\"Categoría\"\r\n                  name=\"category\"\r\n                  autoComplete=\"category\"\r\n                  value={category}\r\n                  onChange={(e) => {\r\n                    setCategory(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                data-color-mode=\"light\"\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <InputLabel style={{ marginTop: \"-5%\" }}>\r\n                  Descripción\r\n                </InputLabel>\r\n                <MDEditor\r\n                  value={description}\r\n                  onChange={setDescription}\r\n                  preview=\"edit\"\r\n                  hideToolbar={false}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  multiline\r\n                  rows={2}\r\n                  id=\"considerations\"\r\n                  label=\"Consideraciones\"\r\n                  name=\"considerations\"\r\n                  autoComplete=\"considerations\"\r\n                  value={considerations}\r\n                  onChange={(e) => {\r\n                    setConsiderations(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container style={{ marginTop: 20 }}>\r\n            <Title>PVP</Title>\r\n          </Grid>\r\n          <Grid container spacing={2}>\r\n            {/* <Grid item xs={4} md={4}>\r\n                    <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"fixedPublicPrice\"\r\n                        label=\"Fijo\"\r\n                        name=\"fixedPublicPrice\"\r\n                        autoComplete=\"fixedPublicPrice\"\r\n                        value={fixedPublicPrice}\r\n                        onChange={(e) => {setFixedPublicPrice(e.target.value);}}\r\n                    />\r\n                    </FormControl>\r\n                </Grid> */}\r\n            <Grid item xs={4} md={5}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"fromPublicPrice\"\r\n                  label=\"Desde\"\r\n                  name=\"fromPublicPrice\"\r\n                  autoComplete=\"fromPublicPrice\"\r\n                  value={fromPublicPrice}\r\n                  onChange={(e) => {\r\n                    setFromPublicPrice(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={4} md={5}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"toPublicPrice\"\r\n                  label=\"Hasta\"\r\n                  name=\"toPublicPrice\"\r\n                  autoComplete=\"toPublicPrice\"\r\n                  value={toPublicPrice}\r\n                  onChange={(e) => {\r\n                    setToPublicPrice(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container style={{ marginTop: 20 }}>\r\n            <Title>PVM</Title>\r\n          </Grid>\r\n          <Grid container spacing={2}>\r\n            {/* <Grid item xs={4} md={4}>\r\n                    <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"fixedPrixerPrice\"\r\n                        label=\"Fijo\"\r\n                        name=\"fixedPrixerPrice\"\r\n                        autoComplete=\"fixedPrixerPrice\"\r\n                        value={fixedPrixerPrice}\r\n                        onChange={(e) => {setFixedPrixerPrice(e.target.value);}}\r\n                    />\r\n                    </FormControl>\r\n                </Grid> */}\r\n            <Grid item xs={4} md={5}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"fromPrixerPrice\"\r\n                  label=\"Desde\"\r\n                  name=\"fromPrixerPrice\"\r\n                  autoComplete=\"fromPrixerPrice\"\r\n                  value={fromPrixerPrice}\r\n                  onChange={(e) => {\r\n                    setFromPrixerPrice(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={4} md={5}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"toPrixerPrice\"\r\n                  label=\"Hasta\"\r\n                  name=\"toPrixerPrice\"\r\n                  autoComplete=\"toPrixerPrice\"\r\n                  value={toPrixerPrice}\r\n                  onChange={(e) => {\r\n                    setToPrixerPrice(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            disabled={buttonState}\r\n            style={{ marginTop: 20 }}\r\n          >\r\n            Crear\r\n          </Button>\r\n        </Grid>\r\n      </form>\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <DialogTitle>Youtube Url</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Copia y pega la url que quieres mostrar en el carrusel de imagenes\r\n          </DialogContentText>\r\n          <div id=\"ll\"></div>\r\n          <TextField\r\n            onChange={(a) => {\r\n              const div = document.getElementById(\"ll\");\r\n              modifyString(a, a.target.value);\r\n              div.innerHTML = videoPreview;\r\n            }}\r\n            value={videoUrl}\r\n            autoFocus\r\n            label=\"Url\"\r\n            type=\"text\"\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Aceptar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Snackbar\r\n        open={snackBarError}\r\n        autoHideDuration={1000}\r\n        message={errorMessage}\r\n        className={classes.snackbar}\r\n      />\r\n      <Snackbar\r\n        open={loadOpen}\r\n        autoHideDuration={1000}\r\n        message={\"No puedes colocar mas de 4 fotos\"}\r\n        className={classes.snackbar}\r\n      />\r\n      <Snackbar\r\n        open={loaDOpen}\r\n        autoHideDuration={1000}\r\n        message={\"No puedes enviar mas de 4 fotos\"}\r\n        className={classes.snackbar}\r\n      />\r\n      <Snackbar\r\n        open={mustImage}\r\n        autoHideDuration={1000}\r\n        message={\"No puedes crear un producto sin foto. Agrega 1 o mas\"}\r\n        className={classes.snackbar}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Title from '../../adminMain/Title';\r\nimport axios from 'axios';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport HighlightOffOutlinedIcon from \"@material-ui/icons/HighlightOffOutlined\";\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport clsx from 'clsx';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { nanoid } from 'nanoid';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nexport default function CreateVariant(props) {\r\n    const classes = useStyles();\r\n    const [ active, setActive ] = useState(props.variant && props.variant.active || false);\r\n    const [ attributes, setAttributes ] = useState(props.variant && props.variant.attributes || [{ name:'', value:''}]);\r\n    const [ buttonAttState, setButtonAttState] = useState();\r\n    const [ variantName, setVariantName ] = useState(props.variant && props.variant.name || '');\r\n    const [ description, setDescription ] = useState(props.variant && props.variant.description || '');\r\n    const [ category, setCategory ] = useState(props.variant && props.variant.category || '');\r\n    const [ considerations, setConsiderations ] = useState(props.variant && props.variant.considerations || '');\r\n    const [publicPriceEq, setPublicPriceEq] = useState(props.variant && props.variant.publicPrice.equation || '');\r\n    const [fromPublicPrice, setFromPublicPrice] = useState(props.variant && props.variant.publicPrice.from || '');\r\n    const [ toPublicPrice, setToPublicPrice ] = useState(props.variant && props.variant.publicPrice.to || '');\r\n    const [ prixerPriceEq, setPrixerPriceEq ] = useState(props.variant && props.variant.prixerPrice.equation || '');\r\n    const [ fromPrixerPrice, setFromPrixerPrice ] = useState(props.variant && props.variant.prixerPrice.from || '');\r\n    const [ toPrixerPrice, setToPrixerPrice ] = useState(props.variant && props.variant.prixerPrice.to || '');\r\n    const [loading, setLoading] = useState(false);\r\n    const [buttonState, setButtonState] = useState(false);\r\n    const history = useHistory();\r\n    const [ image , setImage ] = useState(props.variant && props.variant.variantImage || []);\r\n    const [ newFile, setNewFile ] =  useState();\r\n    const [ videoUrl, setVideoUrl ] = useState('')\r\n    const [ videoPreview, setVideoPreview ] = useState('')\r\n    const [ loadeImage, setLoadImage ] = useState({ loader: [] }) //props.variant && props.variant.variantImage ||\r\n    //Error states.\r\n    const [errorMessage, setErrorMessage] = useState();\r\n    const [open, setOpen] = useState(false);\r\n      const [loadOpen, setLoadOpen] = useState(false);\r\n    const [snackBarError, setSnackBarError] = useState(false);\r\n    const [passwordError, setPasswordError] = useState();\r\n    const [emailError, setEmailError] = useState();\r\n    const [mustImage, setMustImages] = useState(false);\r\n\r\n    useEffect(() => {\r\n      image.map((url) => {\r\n        url.type === 'images' ?\r\n        loadeImage.loader.push(url.url)\r\n        :\r\n        setVideoUrl(url.url)\r\n    })\r\n\r\n  }, [])\r\n\r\n    const handleClickOpen = () => {\r\n          setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const convertToBase64 = (blob) => {\r\n      return new Promise((resolve) => {\r\n        var reader = new FileReader();\r\n        reader.onload = function () {\r\n          resolve(reader.result);\r\n        };\r\n        reader.readAsDataURL(blob);\r\n      });\r\n    };\r\n\r\n    const replaceImage = async (e, index) => {\r\n      e.preventDefault();\r\n      const file = e.target.files[0];\r\n      const resizedString = await convertToBase64(file);\r\n      loadeImage.loader[index] = resizedString;\r\n      image[index] = file;\r\n      setImage(image)\r\n      setLoadImage({loader: loadeImage.loader})\r\n    };\r\n\r\n    const loadImage = async (e) => {\r\n      e.preventDefault();\r\n      if (loadeImage.loader.length >= 4 || image?.length >= 5) {\r\n        setLoadOpen(true);\r\n        setTimeout(() => {\r\n          setLoadOpen(false);\r\n        }, 3000);\r\n      } else {\r\n        const file = e.target.files[0];\r\n        const resizedString = await convertToBase64(file);\r\n        loadeImage.loader.push(resizedString);\r\n        image.push(file);\r\n        setImage(image)\r\n        setLoadImage({loader: loadeImage.loader})\r\n      }\r\n    };\r\n\r\n    const modifyString = (a, sti) => {\r\n        const url = sti.split(' ')\r\n        const width = sti.replace('560', '326').replace('315', '326');\r\n        const previewMp4 = sti.replace('1350', '510').replace('494', '350');\r\n        setVideoUrl(width)\r\n        setVideoPreview(previewMp4)\r\n        // const index = url[3].indexOf()\r\n        // sti.replace(index, '?controls=0\\\"')\r\n      //sti[79]\r\n    }\r\n\r\n    const insertVariants = (productData, variants)=> {\r\n        let updatedVariants = productData;\r\n        updatedVariants.variants = productData.variants.filter((v)=>{ if(v._id != props.variant._id) return v});\r\n        variants._id = props.variant._id\r\n        updatedVariants.variants.unshift(variants);\r\n\r\n        return updatedVariants;\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n      if (image.length === 0) {\r\n        setMustImages(true);\r\n        setTimeout(() => {\r\n          setMustImages(false);\r\n        }, 3000);\r\n      }else{\r\n      if(!active &&\r\n        !variantName &&\r\n        !description &&\r\n        !category &&\r\n        !considerations &&\r\n        !publicPriceEq &&\r\n        !fromPublicPrice &&\r\n        !toPublicPrice &&\r\n        !prixerPriceEq &&\r\n        !fromPrixerPrice &&\r\n        !toPrixerPrice &&\r\n        !image){\r\n        setErrorMessage('Por favor completa todos los campos requeridos.');\r\n        setSnackBarError(true);\r\n        e.preventDefault();\r\n      } else {\r\n        setLoading(true);\r\n        setButtonState(true);\r\n\r\n        const productData = props.product;\r\n        const formData = new FormData();\r\n        const variants = {\r\n            '_id': props.variant && props.variant._id || nanoid(),\r\n            'image': image,\r\n            'active' : active,\r\n            'name' : variantName,\r\n            'description' : description,\r\n            'category' : category,\r\n            'considerations' : considerations,\r\n            publicPrice: {\r\n                'from': fromPublicPrice,\r\n                'to': toPublicPrice,\r\n                'equation': publicPriceEq\r\n            },\r\n            prixerPrice: {\r\n                'from': fromPrixerPrice,\r\n                'to': toPrixerPrice,\r\n                'equation': prixerPriceEq\r\n            }\r\n        }\r\n\r\n        variants.attributes ?\r\n        variants.attributes.push(...attributes)\r\n        : variants.attributes = attributes;\r\n        let updatedWithVariants = {}\r\n\r\n        if(props.variant) {\r\n            updatedWithVariants = insertVariants(productData, variants);\r\n        } else {\r\n            productData.variants.unshift(variants);\r\n            updatedWithVariants = productData;\r\n        }\r\n\r\n        formData.append('productActive', updatedWithVariants.active)\r\n        formData.append('productCategory', updatedWithVariants.category)\r\n        formData.append('productConsiderations', updatedWithVariants.considerations)\r\n        formData.append('productDescription', updatedWithVariants.description)\r\n        formData.append('productHasSpecialVar', updatedWithVariants.hasSpecialVar)\r\n        formData.append('productName', updatedWithVariants.name)\r\n        variants.attributes.map(obj => {\r\n          if(obj.name){\r\n          formData.append('attributesName', obj.name)\r\n          }\r\n          if(obj.value){\r\n          formData.append('attributesValue', obj.value)\r\n          }\r\n        })\r\n        updatedWithVariants.sources.images.map(img => formData.append('productImages', img.url))\r\n        formData.append('variants', JSON.stringify(updatedWithVariants.variants))\r\n        formData.append('productPublicPriceFrom', updatedWithVariants.publicPrice.from)\r\n        formData.append('productPublicPriceTo', updatedWithVariants.publicPrice.to)\r\n        formData.append('productPrixerPriceFrom', updatedWithVariants.prixerPrice.from)\r\n        formData.append('productPrixerPriceTo', updatedWithVariants.prixerPrice.to)\r\n        formData.append('variant_id', variants._id)\r\n        formData.append('video', videoUrl)\r\n        image.map(file => {\r\n          if(file.url === undefined){\r\n              formData.append('variantImage', file)\r\n          }\r\n          if(typeof file.url === 'string'){\r\n            formData.append('images', file.url)\r\n          }\r\n        })\r\n        formData.append('variantActive', variants.active)\r\n        formData.append('variantName', variants.name)\r\n        formData.append('variantDescription', variants.description)\r\n        formData.append('variantCategory', variants.category)\r\n        formData.append('variantConsiderations', variants.considerations)\r\n        formData.append('variantPublicPriceFrom', variants.publicPrice.from)\r\n        formData.append('variantPublicPriceTo', variants.publicPrice.to)\r\n        formData.append('variantPublicPriceEq', variants.publicPrice.equation)\r\n        formData.append('variantPrixerPriceFrom', variants.prixerPrice.from)\r\n        formData.append('variantPrixerPriceTo', variants.prixerPrice.to)\r\n        formData.append('variantPrixerPriceEq', variants.prixerPrice.equation)\r\n        const base_url= process.env.REACT_APP_BACKEND_URL + \"/product/update/\" + props.product._id;\r\n        // await axios.put(base_url, formData)\r\n        const response = await axios.put(base_url, formData)\r\n\r\n        if(response.data.success === false){\r\n          setLoading(false);\r\n          setButtonState(false);\r\n          setErrorMessage(response.data.message);\r\n          setSnackBarError(true);\r\n          props.setVariant('');\r\n        } else {\r\n          setErrorMessage('Actualización de producto exitoso.');\r\n          setSnackBarError(true);\r\n          setActive('');\r\n          setImage('');\r\n          setVariantName('');\r\n          setDescription('');\r\n          setCategory('');\r\n          setConsiderations('');\r\n          setPublicPriceEq('');\r\n          setFromPublicPrice('');\r\n          setToPublicPrice('');\r\n          setPrixerPriceEq('');\r\n          setFromPrixerPrice('');\r\n          setToPrixerPrice('');\r\n          props.setVariant('');\r\n          setLoading(false);\r\n          history.push({pathname:\"/admin/product/read\"});\r\n        }\r\n      }\r\n    }\r\n}\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n    {\r\n    <Backdrop className={classes.backdrop} open={loading}>\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n    }\r\n      <Title>Variantes</Title>\r\n        <form noValidate encType=\"multipart/form-data\" onSubmit={handleSubmit}>\r\n            <Grid container spacing={2}>\r\n                <Grid container spacing={2}>\r\n                <Grid container spacing={2}>\r\n                  <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={4}\r\n                    lg={4}\r\n                    xl={4}\r\n                    style={{\r\n                      display: \"flex\",\r\n                      justifyContent: \"center\",\r\n                      alignItems: \"center\",\r\n                    }}\r\n                  >\r\n                    <FormControl variant=\"outlined\">\r\n                      <Button variant=\"contained\" component=\"label\">\r\n                        Upload File\r\n                        <input\r\n                          name=\"productImages\"\r\n                          type=\"file\"\r\n                          accept=\"image/*\"\r\n                          hidden\r\n                          onChange={(a) => {\r\n                            loadImage(a);\r\n                          }}\r\n                        />\r\n                      </Button>\r\n                          - O -\r\n                      <Button variant=\"contained\" componenet=\"label\" onClick={handleClickOpen}>\r\n                       Upload video\r\n                      </Button>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={8}\r\n                    lg={8}\r\n                    xl={8}\r\n                    style={{ display: \"flex\" }}\r\n                  >\r\n                    {loadeImage.loader &&\r\n                      loadeImage.loader.map((img, key_id) => {\r\n                        return (\r\n                          <div\r\n                            style={{\r\n                              width: \"25%\",\r\n                              // maxHeight: \"200px\",\r\n                              marginRight: \"4px\",\r\n                            }}\r\n                          >\r\n                            <div\r\n                              style={{\r\n                                // marginBottom: \"-32px\",\r\n                                textAlign: \"right\",\r\n                              }}\r\n                            >\r\n                              <IconButton\r\n                                variant=\"text\"\r\n                                className={classes.buttonImgLoader}\r\n                                style={{ color: \"#d33f49\" }}\r\n                                component=\"label\"\r\n                              >\r\n                                <input\r\n                                  name=\"productImages\"\r\n                                  type=\"file\"\r\n                                  accept=\"image/*\"\r\n                                  hidden\r\n                                  onChange={(a) => {\r\n                                    const i = loadeImage.loader.indexOf(img);\r\n                                    replaceImage(a, i);\r\n                                  }}\r\n                                />\r\n                                <EditIcon />\r\n                              </IconButton>\r\n                              <IconButton\r\n                                variant=\"text\"\r\n                                className={classes.buttonImgLoader}\r\n                                style={{ color: \"#d33f49\" }}\r\n                                onClick={(d) => {\r\n                                  loadeImage.loader.splice(key_id, 1);\r\n                                  image.splice(key_id, 1);\r\n                                    setImage(image)\r\n                                    setLoadImage({loader: loadeImage.loader})\r\n                                }}\r\n                              >\r\n                                <HighlightOffOutlinedIcon />\r\n                              </IconButton>\r\n                            </div>\r\n\r\n                            <img\r\n                              style={{\r\n                                width: \"100%\",\r\n                                // height: \"200px\",\r\n                                objectFit: \"contain\",\r\n                              }}\r\n                              src={img}\r\n                              alt=\"+\"\r\n                            />\r\n                          </div>\r\n                        );\r\n                      })}\r\n                  </Grid>\r\n                        <Checkbox\r\n                            checked={active}\r\n                            color=\"primary\"\r\n                            inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                            onChange={()=>{active?setActive(false):setActive(true)}}\r\n                        /> Habilitado / Visible\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                        <FormControl variant=\"outlined\" xs={12} fullWidth={true}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            required\r\n                            fullWidth\r\n                            display=\"inline\"\r\n                            id=\"variantName\"\r\n                            label=\"Nombre\"\r\n                            name=\"variantName\"\r\n                            autoComplete=\"variantName\"\r\n                            value={variantName}\r\n                            onChange={(e) => {setVariantName(e.target.value);}}\r\n                        />\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                        <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            required\r\n                            multiline\r\n                            fullWidth\r\n                            rows={2}\r\n                            id=\"description\"\r\n                            label=\"Descripción\"\r\n                            name=\"description\"\r\n                            autoComplete=\"description\"\r\n                            value={description}\r\n                            onChange={(e) => {setDescription(e.target.value);}}\r\n                        />\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                        <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            required\r\n                            fullWidth\r\n                            multiline\r\n                            rows={2}\r\n                            id=\"considerations\"\r\n                            label=\"Consideraciones\"\r\n                            name=\"considerations\"\r\n                            autoComplete=\"considerations\"\r\n                            value={considerations}\r\n                            onChange={(e) => {setConsiderations(e.target.value);}}\r\n                        />\r\n                        </FormControl>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid container style={{marginTop: 20}}>\r\n                    <h3>Precios Público</h3>\r\n                </Grid>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={12} md={12}>\r\n                        <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"publicPriceEquation\"\r\n                            label=\"Ecuación\"\r\n                            name=\"publicPriceEquation\"\r\n                            autoComplete=\"publicPriceEquation\"\r\n                            value={publicPriceEq}\r\n                            onChange={(e) => {setPublicPriceEq(e.target.value);}}\r\n                        />\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid container xs={12} md={12} spacing={2} style={{margin:0}}>\r\n                        <Grid item xs={6} md={6}>\r\n                            <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"fromPublicPrice\"\r\n                                label=\"Desde\"\r\n                                name=\"fromPublicPrice\"\r\n                                autoComplete=\"fromPublicPrice\"\r\n                                value={fromPublicPrice}\r\n                                onChange={(e) => {setFromPublicPrice(e.target.value);}}\r\n                            />\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={6} md={6}>\r\n                            <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"toPublicPrice\"\r\n                                label=\"Hasta\"\r\n                                name=\"toPublicPrice\"\r\n                                autoComplete=\"toPublicPrice\"\r\n                                value={toPublicPrice}\r\n                                onChange={(e) => {setToPublicPrice(e.target.value);}}\r\n                            />\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid container style={{marginTop: 20}}>\r\n                    <h3>Precios Prixers</h3>\r\n                </Grid>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={4} md={4}>\r\n                        <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"prixerPriceEq\"\r\n                            label=\"Ecuación\"\r\n                            name=\"prixerPriceEq\"\r\n                            autoComplete=\"prixerPriceEq\"\r\n                            value={prixerPriceEq}\r\n                            onChange={(e) => {setPrixerPriceEq(e.target.value);}}\r\n                        />\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={4} md={5}>\r\n                        <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"fromPrixerPrice\"\r\n                            label=\"Desde\"\r\n                            name=\"fromPrixerPrice\"\r\n                            autoComplete=\"fromPrixerPrice\"\r\n                            value={fromPrixerPrice}\r\n                            onChange={(e) => {setFromPrixerPrice(e.target.value);}}\r\n                        />\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={4} md={5}>\r\n                        <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"toPrixerPrice\"\r\n                            label=\"Hasta\"\r\n                            name=\"toPrixerPrice\"\r\n                            autoComplete=\"toPrixerPrice\"\r\n                            value={toPrixerPrice}\r\n                            onChange={(e) => {setToPrixerPrice(e.target.value);}}\r\n                        />\r\n                        </FormControl>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid container xs={12} spacing={2}>\r\n                    <Grid container style={{marginTop: 20}}>\r\n                        <h3>Atributos</h3>\r\n                    </Grid>\r\n                        {\r\n                        attributes &&\r\n                            attributes.map((att, i)=>(\r\n                            <Grid container spacing={2} xs={12} style={{marginBottom: 10}}>\r\n                                <Grid item xs={12} md={5}>\r\n                                    <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                                    <TextField\r\n                                        variant=\"outlined\"\r\n                                        required\r\n                                        fullWidth\r\n                                        id=\"attribute\"\r\n                                        label=\"Nombre\"\r\n                                        name=\"attribute\"\r\n                                        autoComplete=\"attribute\"\r\n                                        value={att.name}\r\n                                        onChange={(e) => {\r\n                                            setAttributes(attributes.slice(0,i).concat({'name': e.target.value, 'value': att.value}).concat(attributes.slice(i+1,)));\r\n                                        }}\r\n                                    />\r\n                                    </FormControl>\r\n                                </Grid>\r\n                                <Grid item xs={12} md={5}>\r\n                                    <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                                    <TextField\r\n                                        variant=\"outlined\"\r\n                                        required\r\n                                        fullWidth\r\n                                        id=\"attributeValue\"\r\n                                        label=\"Valor\"\r\n                                        name=\"attributeValue\"\r\n                                        autoComplete=\"attributeValue\"\r\n                                        value={att.value}\r\n                                        onChange={(e) => {\r\n                                            setAttributes(attributes.slice(0,i).concat({'name': att.name, 'value': e.target.value}).concat(attributes.slice(i+1,)));\r\n                                        }}\r\n                                    />\r\n                                    </FormControl>\r\n                                </Grid>\r\n                                <Grid item xs={2}>\r\n                                <Button variant=\"contained\" color=\"primary\" onClick={()=>{ setAttributes(attributes.slice(0, i).concat(attributes.slice(i+1,)))}} disabled={buttonState} style={{ marginTop: 20}}>\r\n                                    -\r\n                                </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                            ))\r\n                        }\r\n                    <Grid item xs={12} align=\"center\">\r\n                    <Button variant=\"contained\" color=\"default\" onClick={()=>{setAttributes(attributes.concat({ name:'', value:'' }))}} disabled={buttonState} style={{ marginTop: 20}}>\r\n                        +\r\n                    </Button>\r\n                    </Grid>\r\n                </Grid>\r\n                <Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={buttonState} style={{ marginTop: 20}}>\r\n                    {props.variant && \"Actualizar\" || \"Crear\"}\r\n                </Button>\r\n            </Grid>\r\n        </form>\r\n        <Dialog open={open} onClose={handleClose}>\r\n        <DialogTitle>Youtube Url</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Copia y pega la url que quieres mostrar en el carrusel de imagenes\r\n          </DialogContentText>\r\n          <div id='ll'>\r\n          </div>\r\n          <TextField\r\n          onChange={(a)=>{\r\n            const div = document.getElementById('ll');\r\n            modifyString(a, a.target.value)\r\n            div.innerHTML = videoPreview;\r\n          }}\r\n          value={videoUrl}\r\n            autoFocus\r\n            label=\"Url\"\r\n            type=\"text\"\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Aceptar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n        <Snackbar\r\n          open={snackBarError}\r\n          autoHideDuration={1000}\r\n          message={errorMessage}\r\n          className={classes.snackbar}\r\n        />\r\n        <Snackbar\r\n          open={loadOpen}\r\n          autoHideDuration={1000}\r\n          message={\"No puedes colocar mas de 4 fotos\"}\r\n          className={classes.snackbar}\r\n        />\r\n        <Snackbar\r\n          open={mustImage}\r\n          autoHideDuration={1000}\r\n          message={\"No puedes actualizar un variant sin foto. Agrega 1 o mas\"}\r\n          className={classes.snackbar}\r\n        />\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Title from \"../../adminMain/Title\";\r\nimport axios from \"axios\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nexport default function ReadVariants(props) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [rows, setRows] = useState();\r\n  const [deleteOpen, setDeleteOpen] = useState(false);\r\n  const base_url = process.env.REACT_APP_BACKEND_URL + \"/product/read\";\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(base_url, props.product)\r\n      .then((response) => {\r\n        response.data.products[0].variants &&\r\n          setRows(response.data.products[0].variants);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  const handleActive = (variant, action) => {\r\n    props.setVariant(variant);\r\n    action == \"create\" &&\r\n      history.push(\r\n        \"/admin/product\" + \"/\" + props.product._id + \"/variant/\" + action\r\n      );\r\n    action == \"read\" &&\r\n      history.push(\r\n        \"/admin/product\" + \"/\" + props.product._id + \"/variant/\" + action\r\n      );\r\n    action == \"update\" &&\r\n      history.push(\r\n        \"/admin/product\" +\r\n          \"/\" +\r\n          props.product._id +\r\n          \"/variant/\" +\r\n          variant._id +\r\n          \"/\" +\r\n          action\r\n      );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Table size=\"small\" style={{overflow: 'auto'}}>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"center\"></TableCell>\r\n            <TableCell align=\"center\">Imagen</TableCell>\r\n            <TableCell align=\"center\">Nombre</TableCell>\r\n            <TableCell align=\"center\">Activo</TableCell>\r\n            <TableCell align=\"center\">Descripción</TableCell>\r\n            <TableCell align=\"center\">PVP desde-hasta</TableCell>\r\n            <TableCell align=\"center\">PVM desde-hasta</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n              {\r\n                rows &&\r\n                rows.map((row) => (\r\n                  <TableRow key={row._id}>\r\n                    <TableCell align=\"center\">\r\n                    <Fab\r\n                      color=\"default\"\r\n                      style={{ width: 35, height: 35 }}\r\n                      aria-label=\"edit\"\r\n                      onClick={(e) => {\r\n                        handleActive(row, \"update\");\r\n                      }}\r\n                    >\r\n                      <EditIcon />\r\n                    </Fab>\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                  {\r\n                    row.variantImage ?\r\n                    <img\r\n                      src={row.variantImage[0]?.url}\r\n                      style={{ width: 50, height: \"auto\" }}\r\n                    />\r\n                    :\r\n                    <img\r\n                      src={row.thumbUrl}\r\n                      style={{ width: 50, height: \"auto\" }}\r\n                    />\r\n                  }\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">{row.name}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Checkbox\r\n                      disabled\r\n                      checked={row.active}\r\n                      color=\"primary\"\r\n                      inputProps={{ \"aria-label\": \"secondary checkbox\" }}\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">{row.description}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {row.publicPrice.from}-{row.publicPrice.to}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {row.prixerPrice.from}-{row.prixerPrice.to}\r\n                  </TableCell>\r\n                  </TableRow>\r\n              ))\r\n              }\r\n      </TableBody>\r\n      </Table>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport clsx from 'clsx';\r\n\r\n\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport ViewListIcon from '@material-ui/icons/ViewList';\r\nimport CreateVariant from '../../productCrud/variants/createVariant';\r\n// import UpdateVariant from '../../productCrud/variants/updateVariant';\r\n// import DisableVariant from '../../productCrud/variants/disableVariant';\r\nimport ReadVariant from '../../productCrud/variants/readVariants';\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n    },\r\n    toolbar: {\r\n      paddingRight: 24, // keep right padding when drawer closed\r\n    },\r\n    toolbarIcon: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'flex-end',\r\n      padding: '0 8px',\r\n      ...theme.mixins.toolbar,\r\n    },\r\n    appBar: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      transition: theme.transitions.create(['width', 'margin'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n    },\r\n    appBarShift: {\r\n      marginLeft: drawerWidth,\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      transition: theme.transitions.create(['width', 'margin'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    menuButton: {\r\n      marginRight: 36,\r\n    },\r\n    menuButtonHidden: {\r\n      display: 'none',\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    drawerPaper: {\r\n      position: 'relative',\r\n      whiteSpace: 'nowrap',\r\n      width: drawerWidth,\r\n      transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    drawerPaperClose: {\r\n      overflowX: 'hidden',\r\n      transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      width: theme.spacing(7),\r\n      [theme.breakpoints.up('sm')]: {\r\n        width: theme.spacing(9),\r\n      },\r\n    },\r\n    appBarSpacer: theme.mixins.toolbar,\r\n    content: {\r\n      flexGrow: 1,\r\n      height: '100vh',\r\n      overflow: 'auto',\r\n    },\r\n    container: {\r\n      paddingTop: theme.spacing(4),\r\n      paddingBottom: theme.spacing(4),\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'none',\r\n      flexDirection: 'column',\r\n      boxShadow: 'none',\r\n      marginBottom: 10\r\n    },\r\n    fixedHeight: {\r\n      height: 'auto',\r\n    },\r\n    fab: {\r\n      right: 0,\r\n      position: 'absolute'\r\n    },\r\n  }));\r\n\r\nexport default function Variants(props) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const [ variant, setVariant ] = useState('');\r\n\r\n  const handleProductAction = (action)=> {\r\n    if(action === 'read') {\r\n      setVariant('');\r\n      history.push({pathname:\"/admin/product/\"+props.product._id+\"/variant/read\"});\r\n    } else {\r\n      history.push({pathname:\"/admin/product/\"+props.product._id+\"/variant/create\"});\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    location.pathname.split('/').length === 9 ?\r\n      props.setActiveVCrud(location.pathname.split('/')[location.pathname.split('/').length-4])\r\n    : location.pathname.split('/').length === 8 ?\r\n      props.setActiveVCrud(location.pathname.split('/')[location.pathname.split('/').length-2])\r\n    : (location.pathname.split('/').length === 7 || location.pathname.split('/').length === 6) &&\r\n      props.setActiveVCrud(location.pathname.split('/')[location.pathname.split('/').length-1])\r\n  },[location.pathname, props]);\r\n  \r\n  return (\r\n    <div style={{position:'relative'}}>\r\n      <div style={{position:'absolute', right:0, top: -50}}>\r\n        <Fab color=\"default\" aria-label=\"edit\" onClick={()=>{handleProductAction('read')}}>\r\n          <ViewListIcon />\r\n        </Fab>\r\n        {\r\n          !variant &&\r\n          <Fab color=\"primary\" aria-label=\"add\" onClick={()=>{handleProductAction('create')}}>\r\n            <AddIcon />\r\n          </Fab>\r\n        }\r\n      </div>\r\n      <Grid container spacing={3}>\r\n          <Grid item xs={12} md={12} lg={12}>\r\n              <Paper className={fixedHeightPaper}>\r\n                {\r\n                  props.activeVCrud === 'create' ?\r\n                    <CreateVariant product={props.product} setVariant={setVariant}/>\r\n                  : props.activeVCrud === 'read' ?\r\n                    <ReadVariant product={props.product} setVariant={setVariant}/>\r\n                  : props.activeVCrud === 'update' ?\r\n                    <CreateVariant product={props.product} variant={variant} setVariant={setVariant}/>\r\n                  :\r\n                    <></>\r\n                }\r\n              </Paper>\r\n          </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n    ","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Title from \"../adminMain/Title\";\r\nimport axios from \"axios\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport clsx from \"clsx\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport HighlightOffOutlinedIcon from \"@material-ui/icons/HighlightOffOutlined\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\nimport Variants from \"../adminMain/products/variants\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  form: {\r\n    height: 550,\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n  loaderImage: {\r\n    width: \"120%\",\r\n    border: \"2px\",\r\n    height: \"30vh\",\r\n    borderStyle: \"groove\",\r\n    borderColor: \"#d33f49\",\r\n    backgroundColor: \"#ededed\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  imageLoad: {\r\n    width: \"100%\",\r\n    height: \"95%\",\r\n    padding: \"15px\",\r\n    marginTop: \"5px\",\r\n  },\r\n  formHead: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    alignContent: \"center\",\r\n    justifyContent: \"space-evenly\",\r\n    alignItems: \"center\",\r\n  },\r\n  buttonImgLoader: {\r\n    cursor: \"pointer\",\r\n    padding: \"5px\",\r\n  },\r\n  buttonEdit: {\r\n    cursor: \"pointer\",\r\n    padding: \"5px\",\r\n  },\r\n}));\r\n\r\nexport default function UpdateAdmin(props) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const theme = useTheme();\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n  const isDeskTop = useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n  const [productId, setProductId] = useState(props?.product?._id);\r\n  const [images, newImages] = useState({ images: [] });\r\n  const [thumbUrl, setThumbUrl] = useState(props.product?.thumbUrl);\r\n  const [imagesList, setImagesList] = useState(props?.product?.sources.images);\r\n  const [active, setActive] = useState(props?.product?.active);\r\n  const [productName, setProductName] = useState(props?.product?.name);\r\n  const [variants, setVariants] = useState(props?.product?.variants);\r\n  const [description, setDescription] = useState(props?.product?.description);\r\n  const [category, setCategory] = useState(props?.product?.category);\r\n  const [considerations, setConsiderations] = useState(\r\n    props?.product?.considerations\r\n  );\r\n  const [fromPublicPrice, setFromPublicPrice] = useState(\r\n    props?.product?.publicPrice?.from\r\n  );\r\n  const [toPublicPrice, setToPublicPrice] = useState(\r\n    props?.product?.publicPrice?.to\r\n  );\r\n  const [fromPrixerPrice, setFromPrixerPrice] = useState(\r\n    props?.product?.prixerPrice?.from\r\n  );\r\n  const [toPrixerPrice, setToPrixerPrice] = useState(\r\n    props?.product?.prixerPrice?.to\r\n  );\r\n  const [loading, setLoading] = useState(false);\r\n  const [buttonState, setButtonState] = useState(false);\r\n  const [showVariants, setShowVariants] = useState(false);\r\n  const [activeVCrud, setActiveVCrud] = useState(\"read\");\r\n  const [hasSpecialVar, setHasSpecialVar] = useState(\r\n    props?.product?.hasSpecialVar || false\r\n  );\r\n  const [videoUrl, setVideoUrl] = useState(\"\");\r\n  const [imageLoader, setLoadImage] = useState({\r\n    loader: [],\r\n    filename: \"Subir imagenes\",\r\n  });\r\n\r\n  //Error states.\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const [loadOpen, setLoadOpen] = useState(false);\r\n  const [loaDOpen, setLoaDOpen] = useState(false);\r\n  const [mustImage, setMustImages] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const indexImage =\r\n      imagesList.length < 1 ? imagesList.indexOf(thumbUrl) : undefined;\r\n\r\n    imagesList?.map((url) => {\r\n      url?.type === \"images\"\r\n        ? imageLoader.loader.push(url.url)\r\n        : setVideoUrl(url.url);\r\n    });\r\n\r\n    if (indexImage === -1) {\r\n      imagesList.push(thumbUrl);\r\n      imageLoader.loader.push(thumbUrl);\r\n    }\r\n\r\n    return () => {\r\n      localStorage.removeItem(\"product\");\r\n    };\r\n  }, []);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  //Preview de imagen antes de enviar\r\n  const convertToBase64 = (blob) => {\r\n    return new Promise((resolve) => {\r\n      var reader = new FileReader();\r\n      reader.onload = function () {\r\n        resolve(reader.result);\r\n      };\r\n      reader.readAsDataURL(blob);\r\n    });\r\n  };\r\n\r\n  const loadImage = async (e) => {\r\n    e.preventDefault();\r\n    if (imageLoader.loader.length >= 4 || imagesList?.length >= 5) {\r\n      setLoadOpen(true);\r\n      setTimeout(() => {\r\n        setLoadOpen(false);\r\n      }, 3000);\r\n    } else {\r\n      const file = e.target.files[0];\r\n      const resizedString = await convertToBase64(file);\r\n      imageLoader.loader.push(resizedString);\r\n      images.images.push(file);\r\n      setLoadImage({ loader: imageLoader.loader, filename: file.name });\r\n    }\r\n  };\r\n\r\n  const replaceImage = async (e, index) => {\r\n    e.preventDefault();\r\n    const file = e.target.files[0];\r\n    const resizedString = await convertToBase64(file);\r\n    imageLoader.loader[index] = resizedString;\r\n    images.images[index] = file;\r\n    setLoadImage({ loader: imageLoader.loader, filename: file.name });\r\n  };\r\n\r\n  const modifyString = (a, sti) => {\r\n    const url = sti.split(\" \");\r\n    const width = sti.replace(\"560\", \"326\").replace(\"315\", \"326\");\r\n    const previewMp4 = sti.replace(\"1350\", \"510\").replace(\"494\", \"350\");\r\n    setVideoUrl(width);\r\n    // const index = url[3].indexOf()\r\n    // sti.replace(index, '?controls=0\\\"')\r\n    //sti[79]\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      images.images.length &&\r\n      imageLoader.loader.length &&\r\n      imagesList.length >= 5\r\n    ) {\r\n      setLoaDOpen(true);\r\n    } else {\r\n      if (images.images.length === 0 && imagesList.length === 0) {\r\n        setMustImages(true);\r\n        setTimeout(() => {\r\n          setMustImages(false);\r\n        }, 3000);\r\n      } else {\r\n        if (\r\n          !active &&\r\n          !productName &&\r\n          !description &&\r\n          !category &&\r\n          !considerations &&\r\n          !fromPublicPrice &&\r\n          !toPublicPrice &&\r\n          !fromPrixerPrice &&\r\n          !toPrixerPrice &&\r\n          !images\r\n        ) {\r\n          setErrorMessage(\"Por favor completa todos los campos requeridos.\");\r\n          setSnackBarError(true);\r\n          e.preventDefault();\r\n        } else {\r\n          setLoading(true);\r\n          setButtonState(true);\r\n          const newFormData = new FormData();\r\n          const data = {\r\n            publicPrice: {\r\n              from: fromPublicPrice,\r\n              to: toPublicPrice,\r\n            },\r\n            prixerPrice: {\r\n              from: fromPrixerPrice,\r\n              to: toPrixerPrice,\r\n            },\r\n            specialVars: [\r\n              {\r\n                name: \"\",\r\n                isSpecialVarVisible: \"\",\r\n              },\r\n            ],\r\n          };\r\n\r\n          const currentVideo =\r\n            typeof imagesList.find((result) => result.type === \"video\") === \"object\" ? \r\n            imagesList.find((result) => result.type === \"video\") : '';\r\n\r\n          newFormData.append(\"active\", active);\r\n          newFormData.append(\"name\", productName);\r\n          newFormData.append(\"description\", description);\r\n          newFormData.append(\"category\", category);\r\n          newFormData.append(\"variants\", JSON.stringify(variants));\r\n          newFormData.append(\"considerations\", considerations);\r\n          newFormData.append(\"publicPriceFrom\", data.publicPrice.from);\r\n          newFormData.append(\"publicPriceTo\", data.publicPrice.to);\r\n          newFormData.append(\"prixerPriceFrom\", data.prixerPrice.from);\r\n          newFormData.append(\"prixerPriceTo\", data.prixerPrice.to);\r\n          newFormData.append(\"hasSpecialVar\", hasSpecialVar);\r\n          imagesList.length > 1\r\n            ? imagesList.map((url) => {\r\n              const indexVideo = imagesList.indexOf(currentVideo);\r\n                if (videoUrl === \"\" && currentVideo !== '') {\r\n                  imagesList.splice(indexVideo, 1);\r\n                }\r\n                newFormData.append(\"images\", url.url);\r\n              })\r\n            : imagesList.map((url) => {\r\n               const indexVideo = imagesList.indexOf(currentVideo);\r\n                if (videoUrl === \"\" && currentVideo !== '') {\r\n                  imagesList.splice(indexVideo, 1);\r\n                }\r\n                if(typeof url === 'string'){\r\n                  newFormData.append(\"images\", url);\r\n                }\r\n                if(typeof url === 'object'){\r\n                  newFormData.append(\"images\", url.url);\r\n                }\r\n\r\n              });\r\n              if(images.images){\r\n                images.images.map((file) => {\r\n                  newFormData.append(\"newProductImages\", file);\r\n                  console.log(file)\r\n                })\r\n              }\r\n          newFormData.append(\"video\", videoUrl);\r\n          const base_url =\r\n            process.env.REACT_APP_BACKEND_URL + `/product/update/${productId}`;\r\n          const response = await axios.put(base_url, newFormData);\r\n          if (response.data.success === false) {\r\n            setLoading(false);\r\n            setButtonState(false);\r\n            setErrorMessage(response.data.message);\r\n            setSnackBarError(true);\r\n          } else {\r\n            setErrorMessage(\"Actualización de producto exitosa.\");\r\n            setSnackBarError(true);\r\n            history.push(\"/admin/product/read\");\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleVariantsClick = () => {\r\n    history.push({ pathname: \"/admin/product/\" + productId + \"/variant/read\" });\r\n    setShowVariants(true);\r\n    props.setProductEdit(false);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {\r\n        <Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress />\r\n        </Backdrop>\r\n      }\r\n      {showVariants ? (\r\n        <>\r\n          <Grid container justify=\"left\">\r\n            <Grid item xs={2}>\r\n              <button\r\n                href=\"#\"\r\n                onClick={() => {\r\n                  setShowVariants(false);\r\n                  props.setProductEdit(true);\r\n                }}\r\n              >\r\n                <h2 style={{ color: \"rgba(191, 191, 191, 0.5)\", marginTop: 0 }}>\r\n                  Productos{\" \"}\r\n                </h2>\r\n              </button>\r\n            </Grid>\r\n            <Grid item xs={1}>\r\n              <button\r\n                href=\"#\"\r\n                onClick={() => {\r\n                  setShowVariants(true);\r\n                  setActiveVCrud(\"read\");\r\n                }}\r\n              >\r\n                <h2 style={{ color: \"#d33f49\", marginTop: 0 }}>Variantes</h2>\r\n              </button>\r\n            </Grid>\r\n          </Grid>\r\n          <Variants\r\n            product={props.product}\r\n            activeVCrud={activeVCrud}\r\n            setActiveVCrud={setActiveVCrud}\r\n          />\r\n        </>\r\n      ) : (\r\n        <div>\r\n          <Grid container justify=\"left\">\r\n            <Grid item xs={2} style={{ color: \"rgba(191, 191, 191, 0.5)\" }}>\r\n              <Title>Productos </Title>\r\n            </Grid>\r\n            <Grid item xs={1}>\r\n              <a onClick={handleVariantsClick}>\r\n                <h2 style={{ color: \"rgba(191, 191, 191, 0.5)\", marginTop: 0 }}>\r\n                  Variantes\r\n                </h2>\r\n              </a>\r\n            </Grid>\r\n          </Grid>\r\n          <form\r\n            className={classes.form}\r\n            encType=\"multipart/form-data\"\r\n            noValidate\r\n            onSubmit={handleSubmit}\r\n          >\r\n            <Grid container spacing={2}>\r\n              <Grid container spacing={2}>\r\n                <Grid\r\n                  item\r\n                  xs={12}\r\n                  sm={12}\r\n                  md={4}\r\n                  lg={4}\r\n                  xl={4}\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <FormControl variant=\"outlined\">\r\n                    <Button variant=\"contained\" component=\"label\">\r\n                      Upload File\r\n                      <input\r\n                        name=\"newProductImages\"\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        hidden\r\n                        onChange={(a) => {\r\n                          a.preventDefault();\r\n                          loadImage(a);\r\n                        }}\r\n                      />\r\n                    </Button>\r\n                    - O -\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      componenet=\"label\"\r\n                      onClick={handleClickOpen}\r\n                    >\r\n                      Upload video\r\n                    </Button>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid\r\n                  item\r\n                  xs={12}\r\n                  sm={12}\r\n                  md={8}\r\n                  lg={8}\r\n                  xl={8}\r\n                  style={{ display: \"flex\" }}\r\n                >\r\n                  {imageLoader.loader &&\r\n                    imageLoader.loader.map((img, key_id) => {\r\n                      return (\r\n                        <div\r\n                          style={{\r\n                            width: \"25%\",\r\n                            // maxHeight: \"200px\",\r\n                            marginRight: \"4px\",\r\n                            // display: \"flex\",\r\n                            flexDirection: \"row\",\r\n                          }}\r\n                        >\r\n                          <div\r\n                            style={{\r\n                              // marginBottom: \"-32px\",\r\n                              // display: \"flex\",\r\n                              textAlign: \"right\",\r\n                            }}\r\n                          >\r\n                            <IconButton\r\n                              variant=\"text\"\r\n                              className={classes.buttonImgLoader}\r\n                              style={{\r\n                                color: \"#d33f49\",\r\n                              }}\r\n                              component=\"label\"\r\n                            >\r\n                              <input\r\n                                name=\"productImages\"\r\n                                type=\"file\"\r\n                                accept=\"image/*\"\r\n                                hidden\r\n                                onChange={(a) => {\r\n                                  const i = imageLoader.loader.indexOf(img);\r\n                                  replaceImage(a, i);\r\n                                  imagesList.splice(key_id, 1);\r\n                                }}\r\n                              />\r\n                              <EditIcon />\r\n                            </IconButton>\r\n\r\n                            <IconButton\r\n                              variant=\"text\"\r\n                              className={classes.buttonImgLoader}\r\n                              style={{ color: \"#d33f49\" }}\r\n                              onClick={(d) => {\r\n                                imageLoader.loader.splice(key_id, 1);\r\n                                images.images.splice(key_id, 1);\r\n                                imagesList.splice(key_id, 1);\r\n                                setLoadImage({\r\n                                  loader: imageLoader.loader,\r\n                                  filename: \"Subir Imagenes\",\r\n                                });\r\n                                newImages({ images: images.images });\r\n                              }}\r\n                            >\r\n                              <HighlightOffOutlinedIcon />\r\n                            </IconButton>\r\n                          </div>\r\n                          <img\r\n                            style={{\r\n                              width: \"100%\",\r\n                              // height: \"200px\",\r\n                              objectFit: \"contain\",\r\n                            }}\r\n                            src={img}\r\n                            alt=\"+\"\r\n                          />\r\n                        </div>\r\n                      );\r\n                    })}\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Grid container xs={isDesktop ? 12 : 12}>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Checkbox\r\n                        checked={active}\r\n                        color=\"primary\"\r\n                        inputProps={{ \"aria-label\": \"secondary checkbox\" }}\r\n                        onChange={() => {\r\n                          active ? setActive(false) : setActive(true);\r\n                        }}\r\n                      />{\" \"}\r\n                      Habilitado / Visible\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                      <Checkbox\r\n                        checked={hasSpecialVar}\r\n                        color=\"primary\"\r\n                        inputProps={{ \"aria-label\": \"secondary checkbox\" }}\r\n                        onChange={() => {\r\n                          hasSpecialVar\r\n                            ? setHasSpecialVar(false)\r\n                            : setHasSpecialVar(true);\r\n                        }}\r\n                      />{\" \"}\r\n                      ¿Tiene variables especiales?\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <FormControl variant=\"outlined\" xs={12} fullWidth={true}>\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      display=\"inline\"\r\n                      id=\"productName\"\r\n                      label=\"Nombre\"\r\n                      name=\"productName\"\r\n                      autoComplete=\"productName\"\r\n                      value={productName}\r\n                      onChange={(e) => {\r\n                        setProductName(e.target.value);\r\n                      }}\r\n                    />\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <FormControl\r\n                    className={clsx(classes.margin, classes.textField)}\r\n                    variant=\"outlined\"\r\n                    xs={12}\r\n                    fullWidth={true}\r\n                  >\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      display=\"inline\"\r\n                      fullWidth\r\n                      id=\"category\"\r\n                      label=\"Categoría\"\r\n                      name=\"category\"\r\n                      autoComplete=\"category\"\r\n                      value={category}\r\n                      onChange={(e) => {\r\n                        setCategory(e.target.value);\r\n                      }}\r\n                    />\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <FormControl\r\n                    className={clsx(classes.margin, classes.textField)}\r\n                    data-color-mode=\"light\"\r\n                    variant=\"outlined\"\r\n                    xs={12}\r\n                    fullWidth={true}\r\n                  >\r\n                    <InputLabel style={{ marginTop: \"-5%\" }}>\r\n                      Descripción\r\n                    </InputLabel>\r\n                    <MDEditor\r\n                      value={description}\r\n                      onChange={setDescription}\r\n                      preview=\"edit\"\r\n                      hideToolbar={false}\r\n                    />\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <FormControl\r\n                    className={clsx(classes.margin, classes.textField)}\r\n                    variant=\"outlined\"\r\n                    xs={12}\r\n                    fullWidth={true}\r\n                  >\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      multiline\r\n                      rows={2}\r\n                      id=\"considerations\"\r\n                      label=\"Consideraciones\"\r\n                      name=\"considerations\"\r\n                      autoComplete=\"considerations\"\r\n                      value={considerations}\r\n                      onChange={(e) => {\r\n                        setConsiderations(e.target.value);\r\n                      }}\r\n                    />\r\n                  </FormControl>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid container style={{ marginTop: 20 }}>\r\n                <Title>PVP</Title>\r\n              </Grid>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={4} md={5}>\r\n                  <FormControl\r\n                    className={clsx(classes.margin, classes.textField)}\r\n                    variant=\"outlined\"\r\n                    xs={12}\r\n                    fullWidth={true}\r\n                  >\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"fromPublicPrice\"\r\n                      label=\"Desde\"\r\n                      name=\"fromPublicPrice\"\r\n                      autoComplete=\"fromPublicPrice\"\r\n                      value={fromPublicPrice ? fromPublicPrice : \"$\"}\r\n                      onChange={(e) => {\r\n                        setFromPublicPrice(e.target.value);\r\n                      }}\r\n                    />\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={4} md={5}>\r\n                  <FormControl\r\n                    className={clsx(classes.margin, classes.textField)}\r\n                    variant=\"outlined\"\r\n                    xs={12}\r\n                    fullWidth={true}\r\n                  >\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"toPublicPrice\"\r\n                      label=\"Hasta\"\r\n                      name=\"toPublicPrice\"\r\n                      autoComplete=\"toPublicPrice\"\r\n                      value={toPublicPrice ? toPublicPrice : \"$\"}\r\n                      onChange={(e) => {\r\n                        setToPublicPrice(e.target.value);\r\n                      }}\r\n                    />\r\n                  </FormControl>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid container style={{ marginTop: 20 }}>\r\n                <Title>PVM</Title>\r\n              </Grid>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={4} md={5}>\r\n                  <FormControl\r\n                    className={clsx(classes.margin, classes.textField)}\r\n                    variant=\"outlined\"\r\n                    xs={12}\r\n                    fullWidth={true}\r\n                  >\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"fromPrixerPrice\"\r\n                      label=\"Desde\"\r\n                      name=\"fromPrixerPrice\"\r\n                      autoComplete=\"fromPrixerPrice\"\r\n                      value={fromPrixerPrice ? fromPrixerPrice : \"$\"}\r\n                      onChange={(e) => {\r\n                        setFromPrixerPrice(e.target.value);\r\n                      }}\r\n                    />\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={4} md={5}>\r\n                  <FormControl\r\n                    className={clsx(classes.margin, classes.textField)}\r\n                    variant=\"outlined\"\r\n                    xs={12}\r\n                    fullWidth={true}\r\n                  >\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"toPrixerPrice\"\r\n                      label=\"Hasta\"\r\n                      name=\"toPrixerPrice\"\r\n                      autoComplete=\"toPrixerPrice\"\r\n                      value={toPrixerPrice ? toPrixerPrice : \"$\"}\r\n                      onChange={(e) => {\r\n                        setToPrixerPrice(e.target.value);\r\n                      }}\r\n                    />\r\n                  </FormControl>\r\n                </Grid>\r\n              </Grid>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                type=\"submit\"\r\n                disabled={buttonState}\r\n                style={{ marginTop: 20 }}\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n      )}\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <DialogTitle>Youtube Url</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Copia y pega la url que quieres mostrar en el carrusel de imagenes\r\n          </DialogContentText>\r\n          <div id=\"ll\"></div>\r\n          <TextField\r\n            onChange={(a) => {\r\n              modifyString(a, a.target.value);\r\n            }}\r\n            value={videoUrl}\r\n            autoFocus\r\n            label=\"Url\"\r\n            type=\"text\"\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Aceptar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Snackbar\r\n        open={snackBarError}\r\n        autoHideDuration={1000}\r\n        message={errorMessage}\r\n        className={classes.snackbar}\r\n      />\r\n      <Snackbar\r\n        open={loadOpen}\r\n        autoHideDuration={1000}\r\n        message={\"No puedes colocar mas de 4 fotos\"}\r\n        className={classes.snackbar}\r\n      />\r\n      <Snackbar\r\n        open={loaDOpen}\r\n        autoHideDuration={1000}\r\n        message={\"No puedes enviar mas de 4 fotos\"}\r\n        className={classes.snackbar}\r\n      />\r\n      <Snackbar\r\n        open={mustImage}\r\n        autoHideDuration={1000}\r\n        message={\"No puedes actualizar un producto sin foto. Agrega 1 o mas\"}\r\n        className={classes.snackbar}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Title from \"../adminMain/Title\";\r\nimport axios from \"axios\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport default function ReadProducts(props) {\r\n  const history = useHistory();\r\n  const [rows, setRows] = useState();\r\n  const [deleteSuccess, setDelete] = useState();\r\n  const [deleteOpen, setDeleteOpen] = useState(false);\r\n\r\n  const getRows = () => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/admin/product/read-all\";\r\n    axios\r\n      .get(base_url)\r\n      .then((response) => {\r\n        setRows(response.data.products);\r\n        console.log(response.data.products);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getRows();\r\n  }, []);\r\n\r\n  const handleActive = (product, action) => {\r\n    props.setProduct(product);\r\n    localStorage.setItem(\"product\", JSON.stringify(product));\r\n    history.push(\"/admin/product/\" + action + \"/\" + product._id);\r\n  };\r\n\r\n  const deleteProduct = async (id) => {\r\n    const URI = process.env.REACT_APP_BACKEND_URL + `/product/delete/${id}`;\r\n    const res = await axios.delete(URI);\r\n    setDelete(res.data);\r\n    getRows();\r\n    setDeleteOpen(true);\r\n    setTimeout(() => {\r\n      setDeleteOpen(false);\r\n    }, 3000);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Productos</Title>\r\n      {rows && (\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\"></TableCell>\r\n              <TableCell align=\"center\">Imagen</TableCell>\r\n              <TableCell align=\"center\">Nombre</TableCell>\r\n              <TableCell align=\"center\">Activo</TableCell>\r\n              <TableCell align=\"center\">Categoría</TableCell>\r\n              <TableCell align=\"center\">PVP desde-hasta</TableCell>\r\n              <TableCell align=\"center\">PVM desde-hasta</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows &&\r\n              rows.map((row) => (\r\n                <TableRow key={row._id}>\r\n                  <TableCell align=\"center\">\r\n                    <Fab\r\n                      color=\"default\"\r\n                      style={{ width: 35, height: 35 }}\r\n                      aria-label=\"edit\"\r\n                      onClick={(e) => {\r\n                        handleActive(row, \"update\");\r\n                      }}\r\n                    >\r\n                      <EditIcon />\r\n                    </Fab>\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {\r\n                      row.sources.images.length > 0 ? (\r\n                      <>\r\n                        <img\r\n                          src={row.sources.images[0]?.url}\r\n                          width={150}\r\n                          alt=\"imageProduct\"\r\n                        />\r\n                        <Typography\r\n                          style={{ fontSize: \"1rem\", color: \"#bdbdbd\" }}\r\n                        >{`Cantidad de imagenes: ${row.sources.images.length}`}</Typography>\r\n                      </>\r\n                      ) : (\r\n                        <img \r\n                        src={row.thumbUrl}\r\n                        alt='prix-product'\r\n                        width={150}/>\r\n                      )}\r\n\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">{row.name}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Checkbox\r\n                      disabled\r\n                      checked={row.active}\r\n                      color=\"primary\"\r\n                      inputProps={{ \"aria-label\": \"secondary checkbox\" }}\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">{row.category}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {row.publicPrice.from}-{row.publicPrice.from}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {row.prixerPrice.from}-{row.prixerPrice.to}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Fab\r\n                      color=\"default\"\r\n                      style={{ width: 35, height: 35 }}\r\n                      aria-label=\"Delete\"\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        deleteProduct(row._id);\r\n                      }}\r\n                    >\r\n                      <DeleteIcon />\r\n                    </Fab>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n          </TableBody>\r\n        </Table>\r\n      )}\r\n      <Snackbar\r\n        open={deleteOpen}\r\n        autoHideDuration={1000}\r\n        message={deleteSuccess?.productResult}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport clsx from \"clsx\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport ViewListIcon from \"@material-ui/icons/ViewList\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\n\r\nimport CreateProduct from \"../../productCrud/createProduct\";\r\nimport UpdateProduct from \"../../productCrud/updateProduct\";\r\nimport DisableProduct from \"../../productCrud/disableProduct\";\r\nimport ReadProducts from \"../../productCrud/readProducts\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: \"0 8px\",\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: \"100vh\",\r\n    overflow: \"auto\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"hidden\",\r\n    flexDirection: \"column\",\r\n    height: \"auto\",\r\n  },\r\n  fixedHeight: {\r\n    height: \"auto\",\r\n    overflow: \"hidden\",\r\n  },\r\n  fab: {\r\n    right: 0,\r\n    position: \"absolute\",\r\n  },\r\n  paper2: {\r\n    position: \"absolute\",\r\n    width: \"80%\",\r\n    maxHeight: 450,\r\n    overflowY: \"auto\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: \"16px 32px 24px\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    textAlign: \"justify\",\r\n  },\r\n}));\r\n\r\nexport default function Products(props) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const [activeCrud, setActiveCrud] = useState(\"read\");\r\n  const [product, setProduct] = useState(\r\n    localStorage.getItem(\"product\")\r\n      ? JSON.parse(localStorage.getItem(\"product\"))\r\n      : undefined\r\n  );\r\n  const [productEdit, setProductEdit] = useState(true);\r\n  const theme = useTheme();\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n  // const isDeskTop = useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n  const [termsAgreeVar, setTermsAgreeVar] = useState(true);\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const handleProductAction = (action) => {\r\n    history.push({ pathname: \"/admin/product/\" + action });\r\n  };\r\n\r\n  useEffect(() => {\r\n    location.pathname.split(\"/\").length === 5\r\n      ? setActiveCrud(\r\n          location.pathname.split(\"/\")[location.pathname.split(\"/\").length - 2]\r\n        )\r\n      : location.pathname.split(\"/\").length === 4 &&\r\n        setActiveCrud(\r\n          location.pathname.split(\"/\")[location.pathname.split(\"/\").length - 1]\r\n        );\r\n  }, [location.pathname]);\r\n\r\n  useEffect(() => {\r\n    {\r\n      JSON.parse(localStorage.getItem(\"token\")) && TermsAgreeModal();\r\n    }\r\n  }, []);\r\n\r\n  const getTerms = () => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/termsAndConditions/read\";\r\n    axios\r\n      .get(base_url)\r\n      .then((response) => {\r\n        setValue(response.data.terms.termsAndConditions);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  const handleSubmit = async (e, Id) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    const termsAgree = true;\r\n    formData.append(\"termsAgree\", termsAgree);\r\n    // formData.append(\r\n    //   \"username\",\r\n    //   JSON.parse(localStorage.getItem(\"token\")).username\r\n    // );\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/prixer/update-terms/\" + Id;\r\n    const response = await axios\r\n      .put(\r\n        base_url,\r\n        { termsAgree: true },\r\n        {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        }\r\n      )\r\n      .then((response) => {\r\n        setTermsAgreeVar(true);\r\n      });\r\n  };\r\n\r\n  const TermsAgreeModal = () => {\r\n    const GetId = JSON.parse(localStorage.getItem(\"token\")).username;\r\n    const base_url = process.env.REACT_APP_BACKEND_URL + \"/prixer/get/\" + GetId;\r\n    axios.get(base_url).then((response) => {\r\n      setTermsAgreeVar(response.data.termsAgree);\r\n      getTerms();\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <div style={{ position: \"relative\" }}>\r\n        {productEdit && (\r\n          <div style={{ position: \"absolute\", right: 0 }}>\r\n            <Fab\r\n              color=\"default\"\r\n              aria-label=\"edit\"\r\n              onClick={() => {\r\n                handleProductAction(\"read\");\r\n              }}\r\n            >\r\n              <ViewListIcon />\r\n            </Fab>\r\n            {/* <Fab color=\"secondary\" aria-label=\"edit\" onClick={()=>{handleUserAction('update')}}>\r\n            <EditIcon />\r\n          </Fab> */}\r\n            <Fab\r\n              color=\"primary\"\r\n              aria-label=\"add\"\r\n              onClick={() => {\r\n                handleProductAction(\"create\");\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </Fab>\r\n            <Modal\r\n              xl={800}\r\n              lg={800}\r\n              md={480}\r\n              sm={360}\r\n              xs={360}\r\n              open={termsAgreeVar === false}\r\n              onClose={termsAgreeVar === true}\r\n            >\r\n              <div className={classes.paper2}>\r\n                <h2 style={{ textAlign: \"center\", fontWeight: \"Normal\" }}>\r\n                  Hemos actualizado nuestros términos y condiciones y queremos\r\n                  que estés al tanto.\r\n                </h2>\r\n                <div>\r\n                  <div data-color-mode=\"light\">\r\n                    <div\r\n                      style={{\r\n                        textAlign: \"center\",\r\n                        marginBottom: \"12px\",\r\n                        fontWeight: \"bold\",\r\n                        fontSize: \"1.2rem\",\r\n                      }}\r\n                    >\r\n                      CONVENIO DE RELACIÓN ENTRE LOS ARTISTAS Y LA COMPAÑÍA\r\n                    </div>\r\n                    <div data-color-mode=\"light\">\r\n                      <MDEditor.Markdown\r\n                        source={value}\r\n                        style={{ textAlign: \"justify\" }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div style={{ justifyContent: \"center\", display: \"flex\" }}>\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      handleSubmit(\r\n                        e,\r\n                        JSON.parse(localStorage.getItem(\"token\")).username\r\n                      );\r\n                    }}\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                    required\r\n                  >\r\n                    Acepto los nuevos términos y condiciones\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Modal>\r\n          </div>\r\n        )}\r\n        <Grid container spacing={3} style={{ margin: isDesktop ? \"12px\" : \"\" }}>\r\n          {/* Chart */}\r\n          <Grid item xs={12} md={12} lg={12}>\r\n            <Paper className={fixedHeightPaper}>\r\n              {activeCrud === \"create\" ? (\r\n                <CreateProduct />\r\n              ) : activeCrud === \"read\" ? (\r\n                <ReadProducts setProduct={setProduct} />\r\n              ) : activeCrud === \"update\" ? (\r\n                <div style={{ height: \"155vh\" }}>\r\n                  <UpdateProduct\r\n                    product={product}\r\n                    setProductEdit={setProductEdit}\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <DisableProduct />\r\n              )}\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Title from \"../adminMain/Title\";\r\nimport axios from \"axios\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport clsx from \"clsx\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  form: {\r\n    padding: \"15px\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nexport default function CreateConsumer(props) {\r\n  const classes = useStyles();\r\n  const [active, setActive] = useState(false);\r\n  const [consumerType, setConsumerType] = useState(\"Particular\");\r\n  const [consumerFirstname, setConsumerFirstname] = useState(\"\");\r\n  const [consumerLastname, setConsumerLastname] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [billingAddress, setBillingAddress] = useState(\"\");\r\n  const [shippingAddress, setShippingAddress] = useState(\"\");\r\n  const [instagram, setInstagram] = useState(\"\");\r\n  const [birthdate, setBirthdate] = useState(\"\");\r\n  const [nationalIdType, setNationalIdType] = useState(\"V\");\r\n  const [nationalId, setNationalId] = useState(\"\");\r\n  const [gender, setGender] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [buttonState, setButtonState] = useState(false);\r\n\r\n  //Error states.\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      !active &&\r\n      !consumerFirstname &&\r\n      !consumerLastname &&\r\n      !username &&\r\n      !phone &&\r\n      !email &&\r\n      !billingAddress &&\r\n      !shippingAddress &&\r\n      !consumerType\r\n    ) {\r\n      setErrorMessage(\"Por favor completa todos los campos requeridos.\");\r\n      setSnackBarError(true);\r\n      e.preventDefault();\r\n    } else {\r\n      setLoading(true);\r\n      setButtonState(true);\r\n\r\n      const data = {\r\n        active: active,\r\n        consumerType: consumerType,\r\n        firstname: consumerFirstname,\r\n        lastname: consumerLastname,\r\n        username: username,\r\n        phone: phone,\r\n        email: email,\r\n        billingAddress: billingAddress,\r\n        shippingAddress: shippingAddress,\r\n        instagram: instagram,\r\n        birthdate: birthdate,\r\n        nationalIdType: nationalIdType,\r\n        nationalId: nationalId,\r\n        gender: gender,\r\n        contactedBy: JSON.parse(localStorage.getItem(\"adminToken\")),\r\n      };\r\n\r\n      const base_url = process.env.REACT_APP_BACKEND_URL + \"/consumer/create\";\r\n      const response = await axios.post(base_url, data);\r\n      if (response.data.success === false) {\r\n        setLoading(false);\r\n        setButtonState(false);\r\n        setErrorMessage(response.data.message);\r\n        setSnackBarError(true);\r\n      } else {\r\n        setErrorMessage(\"Registro de consumidor exitoso.\");\r\n        setSnackBarError(true);\r\n        setActive(\"\");\r\n        setConsumerType(\"\");\r\n        setConsumerFirstname(\"\");\r\n        setConsumerLastname(\"\");\r\n        setUsername(\"\");\r\n        setPhone(\"\");\r\n        setEmail(\"\");\r\n        setShippingAddress(\"\");\r\n        setInstagram(\"\");\r\n        setBirthdate(\"\");\r\n        setNationalIdType(\"\");\r\n        setNationalId(\"\");\r\n        setGender(\"\");\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {\r\n        <Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n      }\r\n      <Title>Consumidor</Title>\r\n      <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n        <Grid container spacing={2}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <Grid container xs={6}>\r\n                <Grid item xs={12}>\r\n                  <Checkbox\r\n                    checked={active}\r\n                    color=\"primary\"\r\n                    inputProps={{ \"aria-label\": \"secondary checkbox\" }}\r\n                    onChange={() => {\r\n                      active ? setActive(false) : setActive(true);\r\n                    }}\r\n                  />{\" \"}\r\n                  Habilitado\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item xs={12} sm={2}>\r\n              <FormControl variant=\"outlined\">\r\n                <InputLabel required id=\"consumerTypeLabel\">\r\n                  Tipo de consumidor\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"consumerType\"\r\n                  id=\"consumerType\"\r\n                  variant=\"outlined\"\r\n                  value={consumerType}\r\n                  defaultValue=\"Particular\"\r\n                  onChange={(e) => setConsumerType(e.target.value)}\r\n                  label=\"consumerType\"\r\n                >\r\n                  <MenuItem value=\"\">\r\n                    <em></em>\r\n                  </MenuItem>\r\n                  {[\"Particular\", \"DAs\", \"Corporativo\", \"Prixer\"].map((n) => (\r\n                    <MenuItem key={n} value={n}>\r\n                      {n}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={4}>\r\n              <FormControl variant=\"outlined\" xs={12} fullWidth={true}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  display=\"inline\"\r\n                  id=\"consumerFirstname\"\r\n                  label=\"Nombres\"\r\n                  name=\"consumerFirstname\"\r\n                  autoComplete=\"consumerFirstname\"\r\n                  value={consumerFirstname}\r\n                  onChange={(e) => {\r\n                    setConsumerFirstname(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  display=\"inline\"\r\n                  fullWidth\r\n                  id=\"consumerLastname\"\r\n                  label=\"Apellidos\"\r\n                  name=\"consumerLastname\"\r\n                  autoComplete=\"consumerLastname\"\r\n                  value={consumerLastname}\r\n                  onChange={(e) => {\r\n                    setConsumerLastname(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  rows={2}\r\n                  id=\"username\"\r\n                  label=\"Nombre de usuario\"\r\n                  name=\"username\"\r\n                  autoComplete=\"username\"\r\n                  value={username}\r\n                  onChange={(e) => {\r\n                    setUsername(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  rows={2}\r\n                  id=\"phone\"\r\n                  label=\"Teléfono\"\r\n                  name=\"phone\"\r\n                  autoComplete=\"phone\"\r\n                  value={phone}\r\n                  onChange={(e) => {\r\n                    setPhone(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  rows={2}\r\n                  id=\"email\"\r\n                  label=\"Correo electrónico\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => {\r\n                    setEmail(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  type=\"date\"\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                  format=\"dd-MM-yyyy\"\r\n                  defaultValue=\"06-07-2016\"\r\n                  rows={2}\r\n                  id=\"birthdate\"\r\n                  label=\"Fecha de nacimiento\"\r\n                  name=\"birthdate\"\r\n                  autoComplete=\"birthdate\"\r\n                  value={birthdate}\r\n                  onChange={(e) => {\r\n                    new Date(setBirthdate(e.target.value));\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={3} sm={2}>\r\n              {/* <FormControl variant=\"outlined\"> */}\r\n              <Select\r\n                labelId=\"nationalIdType\"\r\n                variant=\"outlined\"\r\n                id=\"nationalIdType\"\r\n                value={nationalIdType}\r\n                onChange={(e) => setNationalIdType(e.target.value)}\r\n                label=\"nationalIdType\"\r\n              >\r\n                <MenuItem value=\"\">\r\n                  <em></em>\r\n                </MenuItem>\r\n                {[\"J\", \"V\", \"E\"].map((n) => (\r\n                  <MenuItem key={n} value={n}>\r\n                    {n}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n              {/* </FormControl> */}\r\n            </Grid>\r\n            <Grid item xs={9} md={4}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  rows={2}\r\n                  id=\"nationalId\"\r\n                  label=\"ID nacional\"\r\n                  name=\"nationalId\"\r\n                  autoComplete=\"nationalId\"\r\n                  value={nationalId}\r\n                  onChange={(e) => {\r\n                    setNationalId(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  rows={2}\r\n                  id=\"gender\"\r\n                  label=\"Género\"\r\n                  name=\"gender\"\r\n                  autoComplete=\"gender\"\r\n                  value={gender}\r\n                  onChange={(e) => {\r\n                    setGender(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"instagram\"\r\n                  label=\"Instagram\"\r\n                  name=\"instagram\"\r\n                  autoComplete=\"instagram\"\r\n                  value={instagram}\r\n                  onChange={(e) => {\r\n                    setInstagram(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container style={{ marginTop: 20 }}>\r\n            <Title>Direcciones</Title>\r\n          </Grid>\r\n          <Grid container spacing={6}>\r\n            <Grid item xs={12} md={5}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  multiline\r\n                  fullWidth\r\n                  id=\"billingAddress\"\r\n                  label=\"Facturación\"\r\n                  name=\"billingAddress\"\r\n                  autoComplete=\"billingAddress\"\r\n                  value={billingAddress}\r\n                  onChange={(e) => {\r\n                    setBillingAddress(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  multiline\r\n                  fullWidth\r\n                  id=\"shippingAddress\"\r\n                  label=\"Entrega\"\r\n                  name=\"shippingAddress\"\r\n                  autoComplete=\"shippingAddress\"\r\n                  value={shippingAddress}\r\n                  onChange={(e) => {\r\n                    setShippingAddress(e.target.value);\r\n                  }}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            disabled={buttonState}\r\n            style={{ marginTop: 20 }}\r\n          >\r\n            Crear\r\n          </Button>\r\n        </Grid>\r\n      </form>\r\n      <Snackbar\r\n        open={snackBarError}\r\n        autoHideDuration={1000}\r\n        message={errorMessage}\r\n        className={classes.snackbar}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Title from '../adminMain/Title';\r\nimport axios from 'axios';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport clsx from 'clsx';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  form: {\r\n      height: 'auto',\r\n      padding: '15px'\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nexport default function UpdateConsumer(props) {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [ active, setActive ] = useState(props.consumer.active);\r\n    const [ consumerType, setConsumerType ] = useState(props.consumer.consumerType);\r\n    const [ consumerFirstname, setConsumerFirstname ] = useState(props.consumer.firstname);\r\n    const [ consumerLastname, setConsumerLastname ] = useState(props.consumer.lastname);\r\n    const [ username, setUsername ] = useState(props.consumer.username);\r\n    const [ phone, setPhone ] = useState(props.consumer.phone);\r\n    const [ email, setEmail ] = useState(props.consumer.email);\r\n    const [billingAddress, setBillingAddress] = useState(props.consumer.billingAddress);\r\n    const [ shippingAddress, setShippingAddress ] = useState(props.consumer.shippingAddress);\r\n    const [ instagram, setInstagram ] = useState(props.consumer.instagram);\r\n    const [ birthdate, setBirthdate ] = useState(props.consumer.birthdate || '');\r\n    const [ nationalIdType, setNationalIdType ] = useState(props.consumer.nationalIdType);\r\n    const [ nationalId, setNationalId ] = useState(props.consumer.nationalId);\r\n    const [ gender, setGender ] = useState(props.consumer.gender);\r\n    const [loading, setLoading] = useState(false);\r\n    const [buttonState, setButtonState] = useState(false);\r\n\r\n    //Error states.\r\n    const [errorMessage, setErrorMessage] = useState();\r\n    const [snackBarError, setSnackBarError] = useState(false);\r\n\r\n\r\n    const handleSubmit = async (e)=> {\r\n      e.preventDefault();\r\n      if(!active && \r\n        !consumerFirstname && \r\n        !consumerLastname && \r\n        !username && \r\n        !phone && \r\n        !email && \r\n        !billingAddress &&\r\n        !shippingAddress &&\r\n        !consumerType){\r\n        setErrorMessage('Por favor completa todos los campos requeridos.');\r\n        setSnackBarError(true);\r\n        e.preventDefault();\r\n      } else {\r\n        setLoading(true);\r\n        setButtonState(true);\r\n        \r\n        const data = {\r\n            'active' : active,\r\n            'consumerType': consumerType,\r\n            'firstname' : consumerFirstname,\r\n            'lastname' : consumerLastname,\r\n            'username' : username,\r\n            'phone' : phone,\r\n            'email' : email,\r\n            'billingAddress': billingAddress,\r\n            'shippingAddress': shippingAddress,\r\n            'instagram': instagram,\r\n            'birthdate': birthdate,\r\n            'nationalIdType': nationalIdType,\r\n            'nationalId': nationalId,\r\n            'gender': gender\r\n        }\r\n\r\n        const base_url= process.env.REACT_APP_BACKEND_URL + \"/consumer/update\";\r\n        const response = await axios.post(base_url,data);\r\n        if(response.data.success === false){\r\n          setLoading(false);\r\n          setButtonState(false);\r\n          setErrorMessage(response.data.message);\r\n          setSnackBarError(true);\r\n        } else {\r\n          setErrorMessage('Actualización de consumidor exitosa.');\r\n          setSnackBarError(true);\r\n          history.push('/admin/consumer/read');\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n        {\r\n        <Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        }\r\n          <Title>Consumidor</Title>\r\n            <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n                <Grid container spacing={2}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                        <Grid container xs={6}>\r\n                          <Grid item xs={12}>\r\n                              <Checkbox \r\n                                  checked={active}\r\n                                  color=\"primary\" \r\n                                  inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                                  onChange={()=>{active?setActive(false):setActive(true)}}\r\n                              /> Habilitado\r\n                          </Grid>\r\n                        </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={2}>\r\n                        <FormControl variant=\"outlined\">\r\n                            <InputLabel required id=\"consumerTypeLabel\">Tipo de consumidor</InputLabel>\r\n                            <Select\r\n                            labelId=\"consumerType\"\r\n                            id=\"consumerType\"\r\n                            variant=\"outlined\"\r\n                            value={consumerType}\r\n                            defaultValue=\"Particular\"\r\n                            onChange={(e)=>setConsumerType(e.target.value)}\r\n                            label=\"consumerType\"\r\n                            >\r\n                            <MenuItem value=\"\">\r\n                                <em></em>\r\n                            </MenuItem>\r\n                            {['Particular', 'DAs', 'Corporativo', 'Prixer'].map((n) => (\r\n                                <MenuItem key={n} value={n}>{n}</MenuItem>\r\n                            ))}\r\n                            </Select>\r\n                        </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={4}>\r\n                            <FormControl variant=\"outlined\" xs={12} fullWidth={true}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                display=\"inline\"\r\n                                id=\"consumerFirstname\"\r\n                                label=\"Nombres\"\r\n                                name=\"consumerFirstname\"\r\n                                autoComplete=\"consumerFirstname\"\r\n                                value={consumerFirstname}\r\n                                onChange={(e) => {setConsumerFirstname(e.target.value);}}\r\n                            />\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6}>\r\n                            <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                display=\"inline\"\r\n                                fullWidth\r\n                                id=\"consumerLastname\"\r\n                                label=\"Apellidos\"\r\n                                name=\"consumerLastname\"\r\n                                autoComplete=\"consumerLastname\"\r\n                                value={consumerLastname}\r\n                                onChange={(e) => {setConsumerLastname(e.target.value);}}\r\n                            />\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6}>\r\n                            <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                rows={2}\r\n                                id=\"username\"\r\n                                label=\"Nombre de usuario\"\r\n                                name=\"username\"\r\n                                autoComplete=\"username\"\r\n                                value={username}\r\n                                onChange={(e) => {setUsername(e.target.value);}}\r\n                            />\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6}>\r\n                            <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                rows={2}\r\n                                id=\"phone\"\r\n                                label=\"Teléfono\"\r\n                                name=\"phone\"\r\n                                autoComplete=\"phone\"\r\n                                value={phone}\r\n                                onChange={(e) => {setPhone(e.target.value);}}\r\n                            />\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6}>\r\n                            <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                rows={2}\r\n                                id=\"email\"\r\n                                label=\"Correo electrónico\"\r\n                                name=\"email\"\r\n                                autoComplete=\"email\"\r\n                                value={email}\r\n                                onChange={(e) => {setEmail(e.target.value);}}\r\n                            />\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6}>\r\n                            <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                type=\"date\"\r\n                                InputLabelProps={{\r\n                                  shrink: true,\r\n                                }}\r\n                                defaultValue=\"2016-07-06\"\r\n                                rows={2}\r\n                                id=\"birthdate\"\r\n                                label=\"Fecha de nacimiento\"\r\n                                name=\"birthdate\"\r\n                                autoComplete=\"birthdate\"\r\n                                //Las fechas no deben manejarse así.\r\n                                value={(birthdate.split('T')[0])}\r\n                                onChange={(e) => {setBirthdate(e.target.value)}}\r\n                            />\r\n                            </FormControl>\r\n                        </Grid>\r\n                    <Grid item xs={3} sm={2} md={2}>\r\n                      <FormControl variant=\"outlined\">\r\n                        <Select\r\n                          labelId=\"nationalIdType\"\r\n                          id=\"nationalIdType\"\r\n                          value={nationalIdType}\r\n                          onChange={(e)=>setNationalIdType(e.target.value)}\r\n                          label=\"nationalIdType\"\r\n                        >\r\n                          <MenuItem value=\"\">\r\n                            <em></em>\r\n                          </MenuItem>\r\n                          {['J', 'V', 'E'].map((n) => (\r\n                            <MenuItem key={n} value={n}>{n}</MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    </Grid>\r\n                        <Grid item xs={9} md={4}>\r\n                            <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                rows={2}\r\n                                id=\"nationalId\"\r\n                                label=\"ID nacional\"\r\n                                name=\"nationalId\"\r\n                                autoComplete=\"nationalId\"\r\n                                value={nationalId}\r\n                                onChange={(e) => {setNationalId(e.target.value);}}\r\n                            />\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6}>\r\n                            <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                rows={2}\r\n                                id=\"gender\"\r\n                                label=\"Género\"\r\n                                name=\"gender\"\r\n                                autoComplete=\"gender\"\r\n                                value={gender}\r\n                                onChange={(e) => {setGender(e.target.value);}}\r\n                            />\r\n                            </FormControl>\r\n                        </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                        <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"instagram\"\r\n                            label=\"Instagram\"\r\n                            name=\"instagram\"\r\n                            autoComplete=\"instagram\"\r\n                            value={instagram}\r\n                            onChange={(e) => {setInstagram(e.target.value);}}\r\n                        />\r\n                        </FormControl>\r\n                    </Grid>\r\n                    </Grid>\r\n                    <Grid container style={{marginTop: 20}}>\r\n                        <Title>Direcciones</Title>\r\n                    </Grid>\r\n                    <Grid container spacing={2}>\r\n                    <Grid item xs={12} md={6}>\r\n                        <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            required\r\n                            multiline\r\n                            fullWidth\r\n                            id=\"billingAddress\"\r\n                            label=\"Facturación\"\r\n                            name=\"billingAddress\"\r\n                            autoComplete=\"billingAddress\"\r\n                            value={billingAddress}\r\n                            onChange={(e) => {setBillingAddress(e.target.value);}}\r\n                        />\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                        <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            required\r\n                            multiline\r\n                            fullWidth\r\n                            id=\"shippingAddress\"\r\n                            label=\"Entrega\"\r\n                            name=\"shippingAddress\"\r\n                            autoComplete=\"shippingAddress\"\r\n                            value={shippingAddress}\r\n                            onChange={(e) => {setShippingAddress(e.target.value);}}\r\n                        />\r\n                        </FormControl>\r\n                    </Grid>\r\n                    </Grid>\r\n                  <Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={buttonState} style={{ marginTop: 20}}>\r\n                    Actualizar\r\n                  </Button>\r\n                </Grid>\r\n            </form>\r\n            <Snackbar\r\n              open={snackBarError}\r\n              autoHideDuration={1000}\r\n              message={errorMessage}\r\n              className={classes.snackbar}\r\n            />\r\n        </React.Fragment>\r\n      );\r\n}","import React from 'react';\r\nimport {useEffect, useState} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Title from '../adminMain/Title';\r\nimport axios from 'axios';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nexport default function ReadConsumers(props) {\r\n    const history = useHistory();\r\n    const [rows, setRows] = useState();\r\n\r\nuseEffect(()=> {\r\n  const base_url= process.env.REACT_APP_BACKEND_URL + \"/consumer/read-all\";\r\n    axios.post(base_url)\r\n    .then(response =>{\r\n        setRows(response.data);\r\n    })\r\n    .catch(error =>{\r\n        console.log(error);\r\n    })\r\n},[]);\r\n\r\n  const handleActive = (consumer, action)=> {\r\n    props.setConsumer(consumer);\r\n    history.push('/admin/consumer/'+action+'/'+consumer._id);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Consumidor</Title>\r\n        {\r\n        rows &&\r\n      <Table size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"center\"></TableCell>\r\n            <TableCell align=\"center\">Activo</TableCell>\r\n            <TableCell align=\"center\">Nombre</TableCell>\r\n            <TableCell align=\"center\">Apellido</TableCell>\r\n            <TableCell align=\"center\">Usuario</TableCell>\r\n            <TableCell align=\"center\">Teléfono</TableCell>\r\n            <TableCell align=\"center\">Email</TableCell>\r\n            <TableCell align=\"center\">Envío</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n        {\r\n        rows &&\r\n          rows.map((row) => (\r\n            <TableRow key={row._id}>\r\n              <TableCell align=\"center\">\r\n                <Fab color=\"default\" style={{width: 35, height: 35}} aria-label=\"edit\" onClick={(e)=>{handleActive(row, 'update')}}>\r\n                  <EditIcon/>\r\n                </Fab>\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                <Checkbox \r\n                  disabled\r\n                  checked={row.active}\r\n                  color=\"primary\" \r\n                  inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                />\r\n              </TableCell>\r\n              <TableCell align=\"center\">{row.firstname}</TableCell>\r\n              <TableCell align=\"center\">{row.lastname}</TableCell>\r\n              <TableCell align=\"center\">{row.username}</TableCell>\r\n              <TableCell align=\"center\">{row.phone}</TableCell>\r\n              <TableCell align=\"center\">{row.email}</TableCell>\r\n              <TableCell align=\"center\">{row.shippingAddress}</TableCell>\r\n            </TableRow>\r\n          ))\r\n        }\r\n        </TableBody>\r\n      </Table>\r\n} \r\n    </React.Fragment>\r\n  );\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport clsx from 'clsx';\r\n\r\n\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport ViewListIcon from '@material-ui/icons/ViewList';\r\nimport CreateConsumer from '../../consumerCrud/createConsumer';\r\nimport UpdateConsumer from '../../consumerCrud/updateConsumer';\r\nimport ReadConsumers from '../../consumerCrud/readConsumers';\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n    },\r\n    toolbar: {\r\n      paddingRight: 24, // keep right padding when drawer closed\r\n    },\r\n    toolbarIcon: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'flex-end',\r\n      padding: '0 8px',\r\n      ...theme.mixins.toolbar,\r\n    },\r\n    appBar: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      transition: theme.transitions.create(['width', 'margin'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n    },\r\n    appBarShift: {\r\n      marginLeft: drawerWidth,\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      transition: theme.transitions.create(['width', 'margin'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    menuButton: {\r\n      marginRight: 36,\r\n    },\r\n    menuButtonHidden: {\r\n      display: 'none',\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    drawerPaper: {\r\n      position: 'relative',\r\n      whiteSpace: 'nowrap',\r\n      width: drawerWidth,\r\n      transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    drawerPaperClose: {\r\n      overflowX: 'hidden',\r\n      transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      width: theme.spacing(7),\r\n      [theme.breakpoints.up('sm')]: {\r\n        width: theme.spacing(9),\r\n      },\r\n    },\r\n    appBarSpacer: theme.mixins.toolbar,\r\n    content: {\r\n      flexGrow: 1,\r\n      height: '100vh',\r\n      overflow: 'auto',\r\n    },\r\n    container: {\r\n      paddingTop: theme.spacing(4),\r\n      paddingBottom: theme.spacing(4),\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'none',\r\n      flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n      height: 'auto',\r\n      overflow: 'none'\r\n    },\r\n    fab: {\r\n      right: 0,\r\n      position: 'absolute'\r\n    },\r\n  }));\r\n\r\nexport default function Consumers(props) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const [ activeCrud, setActiveCrud ] = useState('read');\r\n  const [ consumer, setConsumer ] = useState();\r\n  const [ consumerEdit, setConsumerEdit ] = useState(true);\r\n\r\n  const handleConsumerAction = (action)=> {\r\n    history.push({pathname:\"/admin/consumer/\"+action});\r\n  }\r\n\r\n  useEffect(()=>{\r\n    location.pathname.split('/').length === 5 ?\r\n      setActiveCrud(location.pathname.split('/')[location.pathname.split('/').length-2])\r\n    : location.pathname.split('/').length === 4 &&\r\n      setActiveCrud(location.pathname.split('/')[location.pathname.split('/').length-1])\r\n  },[location.pathname]);\r\n\r\n  return (\r\n    <div style={{position:'relative'}}>\r\n      {\r\n        consumerEdit &&\r\n        <div style={{position:'absolute', right:0}}>\r\n          <Fab color=\"default\" aria-label=\"edit\" onClick={()=>{handleConsumerAction('read')}}>\r\n            <ViewListIcon />\r\n          </Fab>\r\n          {/* <Fab color=\"secondary\" aria-label=\"edit\" onClick={()=>{handleUserAction('update')}}>\r\n            <EditIcon />\r\n          </Fab> */}\r\n          <Fab color=\"primary\" aria-label=\"add\" onClick={()=>{handleConsumerAction('create')}}>\r\n            <AddIcon />\r\n          </Fab>\r\n        </div>\r\n      }\r\n      <Grid container spacing={3}>\r\n          {/* Chart */}\r\n          <Grid item xs={12} md={12} lg={12}>\r\n              <Paper className={fixedHeightPaper}>\r\n                {\r\n                  activeCrud === 'create' ?\r\n                    <CreateConsumer />\r\n                  : activeCrud === 'read' ?\r\n                    <ReadConsumers setConsumer={setConsumer}/>\r\n                    :\r\n                  // : activeCrud == 'update' ?\r\n                    <div>\r\n                      <UpdateConsumer consumer={consumer} setConsumerEdit={setConsumerEdit}/>\r\n                    </div>\r\n                }\r\n              </Paper>\r\n          </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n    ","import React from 'react';\r\nimport {useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Title from '../adminMain/Title';\r\nimport axios from 'axios';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport clsx from 'clsx';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  form: {\r\n    padding: '15px'\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nexport default function CreatePaymentMethod(props) {\r\n\r\n    const classes = useStyles();\r\n    const [ active, setActive ] = useState(false);\r\n    const [ name, setName ] = useState('');\r\n    const [ instructions, setInstructions ] = useState('');\r\n    const [ paymentData, setPaymentData ] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [buttonState, setButtonState] = useState(false);\r\n\r\n    //Error states.\r\n    const [errorMessage, setErrorMessage] = useState();\r\n    const [snackBarError, setSnackBarError] = useState(false);\r\n\r\n\r\n    const handleSubmit = async (e)=> {\r\n      e.preventDefault();\r\n      if(!active && \r\n        !instructions && \r\n        !paymentData && \r\n        !name){\r\n        setErrorMessage('Por favor completa todos los campos requeridos.');\r\n        setSnackBarError(true);\r\n        e.preventDefault();\r\n      } else {\r\n        setLoading(true);\r\n        setButtonState(true);\r\n        \r\n        const data = {\r\n            'active' : active,\r\n            'name': name,\r\n            'createdOn' : new Date(),\r\n            'createdBy' : JSON.parse(localStorage.getItem('adminToken')),\r\n            'instructions' : instructions,\r\n            'paymentData' : paymentData\r\n        }\r\n        \r\n        const base_url= process.env.REACT_APP_BACKEND_URL + \"/payment-method/create\";\r\n        const response = await axios.post(base_url,data)\r\n        if(response.data.success === false){\r\n          setLoading(false);\r\n          setButtonState(false);\r\n          setErrorMessage(response.data.message);\r\n          setSnackBarError(true);\r\n        } else {\r\n          setErrorMessage('Registro del método de pago exitoso.');\r\n          setSnackBarError(true);\r\n          setActive('');\r\n          setName('');\r\n          setInstructions('');\r\n          setPaymentData('');\r\n          setLoading(false);\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n  return (\r\n    <React.Fragment>\r\n    {\r\n    <Backdrop className={classes.backdrop} open={loading}>\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n    }\r\n      <Title>Métodos de pago</Title>\r\n        <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n            <Grid container spacing={2}>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={12}>\r\n                    <Grid container xs={6}>\r\n                      <Grid item xs={12}>\r\n                          <Checkbox \r\n                              checked={active}\r\n                              color=\"primary\" \r\n                              inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                              onChange={()=>{active?setActive(false):setActive(true)}}\r\n                          /> Habilitado\r\n                      </Grid>\r\n                    </Grid>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                        <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={6} fullWidth={true}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            required\r\n                            fullWidth\r\n                            multiline\r\n                            rows={2}\r\n                            id=\"paymentData\"\r\n                            label=\"Datos para el pago\"\r\n                            name=\"paymentData\"\r\n                            autoComplete=\"paymentData\"\r\n                            value={paymentData}\r\n                            onChange={(e) => {setPaymentData(e.target.value);}}\r\n                        />\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12} md={6}>\r\n                        <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            required\r\n                            multiline\r\n                            fullWidth\r\n                            rows={2}\r\n                            id=\"instructions\"\r\n                            label=\"Instrucciones\"\r\n                            name=\"instructions\"\r\n                            autoComplete=\"instructions\"\r\n                            value={instructions}\r\n                            onChange={(e) => {setInstructions(e.target.value);}}\r\n                        />\r\n                        </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={2}>\r\n                      <FormControl variant=\"outlined\">\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            required\r\n                            fullWidth\r\n                            display=\"inline\"\r\n                            id=\"name\"\r\n                            label=\"Nombre\"\r\n                            name=\"name\"\r\n                            autoComplete=\"name\"\r\n                            value={name}\r\n                            onChange={(e) => {setName(e.target.value);}}\r\n                        />\r\n                      </FormControl>\r\n                    </Grid>\r\n                </Grid>\r\n              <Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={buttonState} style={{ marginTop: 20}}>\r\n                Crear\r\n              </Button>\r\n            </Grid>\r\n        </form>\r\n        <Snackbar\r\n          open={snackBarError}\r\n          autoHideDuration={1000}\r\n          message={errorMessage}\r\n          className={classes.snackbar}\r\n        />\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport {useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Title from '../adminMain/Title';\r\nimport axios from 'axios';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport clsx from 'clsx';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  form: {\r\n      height: 'auto',\r\n      padding: '15px'\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nexport default function UpdatePaymentMethod(props) {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [ active, setActive ] = useState(props.paymentMethod.active);\r\n    // const [ id, setId ] = useState(props.paymentMethod._id);\r\n    const [ name, setName ] = useState(props.paymentMethod.name);\r\n    const [ instructions, setInstructions ] = useState(props.paymentMethod.instructions);\r\n    const [ paymentData, setPaymentData ] = useState(props.paymentMethod.paymentData);\r\n    const [loading, setLoading] = useState(false);\r\n    const [buttonState, setButtonState] = useState(false);\r\n\r\n    //Error states.\r\n    const [errorMessage, setErrorMessage] = useState();\r\n    const [snackBarError, setSnackBarError] = useState(false);\r\n\r\n\r\n    const handleSubmit = async (e)=> {\r\n      e.preventDefault();\r\n      if(!active && \r\n        !instructions && \r\n        !paymentData && \r\n        !name){\r\n        setErrorMessage('Por favor completa todos los campos requeridos.');\r\n        setSnackBarError(true);\r\n        e.preventDefault();\r\n      } else {\r\n        setLoading(true);\r\n        setButtonState(true);\r\n        \r\n        const data = {\r\n          'id': props.paymentMethod._id,\r\n          'active' : active,\r\n          'name': name,\r\n          'instructions' : instructions,\r\n          'paymentData' : paymentData\r\n        }\r\n\r\n        const base_url= process.env.REACT_APP_BACKEND_URL + \"/payment-method/update\";\r\n        const response = await axios.post(base_url,data);\r\n        if(response.data.success === false){\r\n          setLoading(false);\r\n          setButtonState(false);\r\n          setErrorMessage(response.data.message);\r\n          setSnackBarError(true);\r\n        } else {\r\n          setErrorMessage('Actualización de consumidor exitosa.');\r\n          setSnackBarError(true);\r\n          history.push('/admin/payment-method/read');\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n        {\r\n        <Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        }\r\n          <Title>Actualización de Método de pago</Title>\r\n            <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n                <Grid container spacing={2}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                        <Grid container xs={6}>\r\n                          <Grid item xs={12}>\r\n                              <Checkbox \r\n                                  checked={active}\r\n                                  color=\"primary\" \r\n                                  inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                                  onChange={()=>{active?setActive(false):setActive(true)}}\r\n                              /> Habilitado\r\n                          </Grid>\r\n                        </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={4}>\r\n                            <FormControl variant=\"outlined\" xs={12} fullWidth={true}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                display=\"inline\"\r\n                                id=\"name\"\r\n                                label=\"Nombre\"\r\n                                name=\"name\"\r\n                                autoComplete=\"name\"\r\n                                value={name}\r\n                                onChange={(e) => {setName(e.target.value);}}\r\n                            />\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={4}>\r\n                            <FormControl variant=\"outlined\" xs={12} fullWidth={true}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                multiline\r\n                                display=\"inline\"\r\n                                id=\"paymentData\"\r\n                                label=\"Datos para el pago:\"\r\n                                name=\"paymentData\"\r\n                                autoComplete=\"paymentData\"\r\n                                value={paymentData}\r\n                                onChange={(e) => {setPaymentData(e.target.value);}}\r\n                            />\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6}>\r\n                            <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                display=\"inline\"\r\n                                fullWidth\r\n                                id=\"instructions\"\r\n                                label=\"Intrucciones\"\r\n                                name=\"instructions\"\r\n                                autoComplete=\"instructions\"\r\n                                value={instructions}\r\n                                onChange={(e) => {setInstructions(e.target.value);}}\r\n                            />\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                  <Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={buttonState} style={{ marginTop: 20}}>\r\n                    Actualizar\r\n                  </Button>\r\n                </Grid>\r\n            </form>\r\n            <Snackbar\r\n              open={snackBarError}\r\n              autoHideDuration={1000}\r\n              message={errorMessage}\r\n              className={classes.snackbar}\r\n            />\r\n        </React.Fragment>\r\n      );\r\n}","import React from 'react';\r\nimport {useEffect, useState} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n// import Link from '@material-ui/core/Link';\r\n// import { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Title from '../adminMain/Title';\r\nimport axios from 'axios';\r\n// import CircularProgress from '@material-ui/core/CircularProgress';\r\n// import Backdrop from '@material-ui/core/Backdrop';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Fab from '@material-ui/core/Fab';\r\n// import Button from '@material-ui/core/Button';\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//   seeMore: {\r\n//     marginTop: theme.spacing(3),\r\n//   },\r\n// }));\r\n\r\nexport default function ReadPaymentMethods(props) {\r\n    const history = useHistory();\r\n    const [rows, setRows] = useState();\r\n\r\nuseEffect(()=> {\r\n  const base_url= process.env.REACT_APP_BACKEND_URL + \"/payment-method/read-all\";\r\n    axios.post(base_url)\r\n    .then(response =>{\r\n        setRows(response.data);\r\n    })\r\n    .catch(error =>{\r\n        console.log(error);\r\n    })\r\n},[]);\r\n\r\n  const handleActive = (paymentMethod, action)=> {\r\n    props.setPaymentMethod(paymentMethod);\r\n    history.push('/admin/payment-method/'+action+'/'+paymentMethod._id);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Métodos de pago</Title>\r\n        {\r\n        rows &&\r\n      <Table size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"center\"></TableCell>\r\n            <TableCell align=\"center\">Activo</TableCell>\r\n            <TableCell align=\"center\">Nombre</TableCell>\r\n            <TableCell align=\"center\">Datos de pago</TableCell>\r\n            <TableCell align=\"center\">Instrucciones</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n        {\r\n        rows &&\r\n          rows.map((row) => (\r\n            <TableRow key={row._id}>\r\n              <TableCell align=\"center\">\r\n                <Fab color=\"default\" style={{width: 35, height: 35}} aria-label=\"edit\" onClick={(e)=>{handleActive(row, 'update')}}>\r\n                  <EditIcon/>\r\n                </Fab>\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                <Checkbox \r\n                  disabled\r\n                  checked={row.active}\r\n                  color=\"primary\" \r\n                  inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                />\r\n              </TableCell>\r\n              <TableCell align=\"center\">{row.name}</TableCell>\r\n              <TableCell align=\"center\">{row.paymentData}</TableCell>\r\n              <TableCell align=\"center\">{row.instructions}</TableCell>\r\n            </TableRow>\r\n          ))\r\n        }\r\n        </TableBody>\r\n      </Table>\r\n} \r\n    </React.Fragment>\r\n  );\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport clsx from 'clsx';\r\n\r\n\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport ViewListIcon from '@material-ui/icons/ViewList';\r\nimport CreatePaymentMethod from '../../paymentMethodCrud/createPaymentMethod';\r\nimport UpdatePaymentMethod from '../../paymentMethodCrud/updatePaymentMethod';\r\n// import DisablePaymentMethod from '../../paymentMethodCrud/disablePaymentMethod';\r\nimport ReadPaymentMethods from '../../paymentMethodCrud/readPaymentMethods';\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n    },\r\n    toolbar: {\r\n      paddingRight: 24, // keep right padding when drawer closed\r\n    },\r\n    toolbarIcon: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'flex-end',\r\n      padding: '0 8px',\r\n      ...theme.mixins.toolbar,\r\n    },\r\n    appBar: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      transition: theme.transitions.create(['width', 'margin'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n    },\r\n    appBarShift: {\r\n      marginLeft: drawerWidth,\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      transition: theme.transitions.create(['width', 'margin'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    menuButton: {\r\n      marginRight: 36,\r\n    },\r\n    menuButtonHidden: {\r\n      display: 'none',\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    drawerPaper: {\r\n      position: 'relative',\r\n      whiteSpace: 'nowrap',\r\n      width: drawerWidth,\r\n      transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    drawerPaperClose: {\r\n      overflowX: 'hidden',\r\n      transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      width: theme.spacing(7),\r\n      [theme.breakpoints.up('sm')]: {\r\n        width: theme.spacing(9),\r\n      },\r\n    },\r\n    appBarSpacer: theme.mixins.toolbar,\r\n    content: {\r\n      flexGrow: 1,\r\n      height: '100vh',\r\n      overflow: 'auto',\r\n    },\r\n    container: {\r\n      paddingTop: theme.spacing(4),\r\n      paddingBottom: theme.spacing(4),\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'none',\r\n      flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n      height: 'auto',\r\n      overflow: 'none'\r\n    },\r\n    fab: {\r\n      right: 0,\r\n      position: 'absolute'\r\n    },\r\n  }));\r\n\r\nexport default function PaymentMethods(props) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const [ activeCrud, setActiveCrud ] = useState('read');\r\n  const [ paymentMethod, setPaymentMethod ] = useState();\r\n  const [ paymentMethodEdit, setPaymentMethodEdit ] = useState(true);\r\n\r\n  const handlePaymentMethodAction = (action)=> {\r\n    history.push({pathname:\"/admin/payment-method/\"+action});\r\n  }\r\n\r\n  useEffect(()=>{\r\n    location.pathname.split('/').length === 5 ?\r\n      setActiveCrud(location.pathname.split('/')[location.pathname.split('/').length-2])\r\n    : location.pathname.split('/').length === 4 &&\r\n      setActiveCrud(location.pathname.split('/')[location.pathname.split('/').length-1])\r\n  },[location.pathname]);\r\n\r\n  return (\r\n    <div style={{position:'relative'}}>\r\n      {\r\n        paymentMethodEdit &&\r\n        <div style={{position:'absolute', right:0}}>\r\n          <Fab color=\"default\" aria-label=\"edit\" onClick={()=>{handlePaymentMethodAction('read')}}>\r\n            <ViewListIcon />\r\n          </Fab>\r\n          {/* <Fab color=\"secondary\" aria-label=\"edit\" onClick={()=>{handleUserAction('update')}}>\r\n            <EditIcon />\r\n          </Fab> */}\r\n          <Fab color=\"primary\" aria-label=\"add\" onClick={()=>{handlePaymentMethodAction('create')}}>\r\n            <AddIcon />\r\n          </Fab>\r\n        </div>\r\n      }\r\n      <Grid container spacing={3}>\r\n          {/* Chart */}\r\n          <Grid item xs={12} md={12} lg={12}>\r\n              <Paper className={fixedHeightPaper}>\r\n                {\r\n                  activeCrud === 'create' ?\r\n                    <CreatePaymentMethod />\r\n                  : activeCrud === 'read' ?\r\n                    <ReadPaymentMethods setPaymentMethod={setPaymentMethod}/>\r\n                    :\r\n                  // : activeCrud == 'update' ?\r\n                    <div>\r\n                      <UpdatePaymentMethod paymentMethod={paymentMethod} setPaymentMethodEdit={setPaymentMethodEdit}/>\r\n                    </div>\r\n                }\r\n              </Paper>\r\n          </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n    ","import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Title from '../../adminMain/Title';\r\n// import axios from 'axios';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n// import FormControl from '@material-ui/core/FormControl';\r\n// import clsx from 'clsx';\r\n// import Checkbox from '@material-ui/core/Checkbox';\r\n// import { useHistory } from 'react-router-dom';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\n// import InputLabel from '@material-ui/core/InputLabel';\r\n// import MenuItem from '@material-ui/core/MenuItem';\r\n// import Select from '@material-ui/core/Select';\r\n// import Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport orderServices from '../../adminMain/orders/orderServices';\r\n\r\nimport OrderBasicInfo from './orderBasicInfo';\r\nimport OrderDetails from './orderDetails';\r\n// import { searchConsumer, getConsumerById } from '../../consumerCrud/consumerServices';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  form: {\r\n      height: 'auto',\r\n      padding: '15px'\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\n\r\n  // function sleep(delay = 0) {\r\n  //   return new Promise((resolve) => {\r\n  //     setTimeout(resolve, delay);\r\n  //   });\r\n  // }\r\n\r\n\r\n  // const orderTypeList = ['Consignación', 'Venta', 'Obsequio'];\r\n  // const productionStatusList = ['Por solicitar', 'Solicitado', 'Por producir', 'En producción', 'En diseño'];\r\n  // const shippingStatusList = ['Por entregar', 'Entregado', 'Devuelto', 'Cambio'];\r\n  // const internalShippingList = ['Yalo', 'DH', 'CC', 'No aplica'];\r\n  // const domesticShippingList = ['Tealca', 'Zoom', 'MRW', 'No aplica'];\r\n  // const internationalShippingList = ['FedEx', 'DHL', 'MRW', 'No aplica'];\r\n  // const selectedProductI = [\r\n  //     {\r\n  //         // art: {\r\n  //         //     'artId': '',\r\n  //         //     'title': '',\r\n  //         //     'prixerUsername': '',\r\n  //         //     'userId': '',\r\n  //         // },\r\n  //         base: {\r\n  //             'thumbUrl': '',\r\n  //             'active' : true,\r\n  //             'name' : '',\r\n  //             'description' : '',\r\n  //             'category' : '',\r\n  //             'considerations' : '',\r\n  //             publicPrice: {\r\n  //                 'from': '',\r\n  //                 'to': '',\r\n  //             },\r\n  //             prixerPrice: {\r\n  //                 'from': '',\r\n  //                 'to': '',\r\n  //             },\r\n  //             hasSpecialVar: ''\r\n  //         }\r\n  //     }\r\n  // ];\r\n  // const detailOptionsI = [\r\n  //   {\r\n  //         'artId': '',\r\n  //         'title': '',\r\n  //         'prixerUsername': '',\r\n  //         'userId': ''\r\n  // }]\r\n\r\n  const basicInformation = {\r\n    'consumer': '',\r\n    'orderType': 'Venta',\r\n    'shippingAddress': '',\r\n    'billingAddress': '',\r\n    'shippingPhone': '',\r\n    'internalShippingMethod': 'Yalo',\r\n    'domesticShippingMethod': 'No aplica',\r\n    'internationalShippingMethod': 'No aplica',\r\n    'generalProductionStatus': 'Por solicitar',\r\n    'shippingStatus': 'Por entregar',\r\n    'observations': '',\r\n    'isSaleByPrixer': false,\r\n    'selectedConsumer': ''\r\n  }\r\n\r\n\r\n\r\nexport default function CreateOrder(props) {\r\n    // const [open, setOpen] = React.useState(false);\r\n    const [ orderSteps, setOrderSteps ] = useState('basic');\r\n    // const [options, setOptions] = React.useState([]);\r\n    const [selectedArt, setSelectedArt] = React.useState([]);\r\n    // const consumerLoading = open && options.length === 0;\r\n    const classes = useStyles();\r\n    // const history = useHistory();\r\n    // const [ typedConsumer, setTypedConsumer ] = useState('');\r\n    // const [ orderId, setOrderId ] = useState('');\r\n    // const [ consumer, setConsumer ] = useState('');\r\n    // const [ consumerId, setConsumerId ] = useState('');\r\n    // const [ orderType, setOrderType ] = useState('Venta');\r\n    // const [ createdOn, setCreatedOn ] = useState('');\r\n    // const [ createdBy, setCreatedBy ] = useState('');\r\n    // const [ subtotal, setSubtotal ] = useState(props.order.subtotal);\r\n    // const [ tax, setTax ] = useState(props.order.tax || '');\r\n    // const [ total, setTotal ] = useState(props.order.total || '');\r\n    // const [ shippingAddress, setShippingAddress ] = useState('');\r\n    // const [ billingAddress, setBillingAddress ] = useState('');\r\n    // const [ shippingPhone, setShippingPhone ] = useState('');\r\n    // const [ internalShippingMethod, setInternalShippingMethod ] = useState('Yalo');\r\n    // const [ domesticShippingMethod, setDomesticShippingMethod ] = useState('No aplica');\r\n    // const [ internationalShippingMethod, setInternationalShippingMethod ] = useState('No aplica');\r\n    // const [ paymentMethodID, setPaymentMethodID ] = useState(props.order.paymentMethodID || '');\r\n    // const [ generalProductionStatus, setGeneralProductionStatus ] = useState('Solicitado');\r\n    // const [ paymentStatus, setPaymentStatus ] = useState(props.order.paymentStatus || '');\r\n    // const [ shippingStatus, setShippingStatus ] = useState('Por entregar');\r\n    // const [ observations, setObservations ] = useState('');\r\n    // const [ isSaleByPrixer, setIsSaleByPrixer ] = useState(false);  \r\n    const [ selectedProduct, setSelectedProduct ] = useState([]);  \r\n    const [ detailOptions, setDetailOptions ] = React.useState();\r\n\r\n    const [ basicOptions, setBasicOptions ] = useState([]);\r\n    const [ basicInfo, setBasicInfo ] = useState(basicInformation);   \r\n    \r\n    const [loading, setLoading] = useState(false);\r\n    const [buttonState, setButtonState] = useState(false);\r\n\r\n    //Error states.\r\n    // const [errorMessage, setErrorMessage] = useState();\r\n    // const [snackBarError, setSnackBarError] = useState(false);\r\n    // const [passwordError, setPasswordError] = useState();\r\n    // const [emailError, setEmailError] = useState();\r\n\r\n\r\n    const handleSubmit = async (e)=> {\r\n      e.preventDefault();\r\n      // if(!active){\r\n      //   setErrorMessage('Por favor completa todos los campos requeridos.');\r\n      //   setSnackBarError(true);\r\n      //   e.preventDefault();\r\n      // } else {\r\n        setLoading(true);\r\n        setButtonState(true);\r\n        \r\n        // const data = {\r\n        //   'orderId': orderId,\r\n        //   'consumerId': consumerId, //De búsqueda - Debo obtener la lista de los clientes en caliente.\r\n        //   'orderType' : orderType, // De Lista - Lista cableada ['Consignación', 'Venta', 'Obsequio']\r\n        //   'createdOn' : new Date(),\r\n        //   'createdBy': JSON.parse(localStorage.getItem('adminToken')),\r\n        //   // 'subtotal' : subtotal, // Calculado - Campo calculado en base a la selección de productos en Order Detail\r\n        //   // 'tax': tax, // Calculado - Campo calculado en base a la selección de productos en Order Detail\r\n        //   // 'total' : total, // Calculado - Campo calculado en base a la selección de productos en Order Detail\r\n        //   'shippingAddress' : shippingAddress, //Calculado - Debo obtener la lista de los clientes en caliente.\r\n        //   'billingAddress' : billingAddress, //Calculado - Debo obtener la lista de los clientes en caliente.\r\n        //   'shippingPhone' : shippingPhone, //Calculado - Debo obtener la lista de los clientes en caliente.\r\n        //   'internalShippingMethod': internalShippingMethod, // De Lista - Lista cableada ['Yalo', 'DH', 'CC', etc]\r\n        //   'domesticShippingMethod' : domesticShippingMethod, // De Lista - Lista cableada ['Tealca', 'Zoom', 'MRW', etc]\r\n        //   'internationalShippingMethod': internationalShippingMethod, // De Lista - Lista cableada ['FedEx', 'DHL', 'MRW', etc]\r\n        //   // 'paymentMethodID' : paymentMethodID, // Calculado - Debo obtenerlos de BD\r\n        //   'generalProductionStatus' : generalProductionStatus,  // De Lista - Lista cableada ['Solicitad', 'Por producir', 'En producción', etc]\r\n        //   // 'paymentStatus': paymentStatus,  // Calculado - Hay que validar que la suma de los pagos sea igual al total. De Lista - Lista cableada ['Por pagar', 'Pagado parcialmente', 'Pagado', 'Devuelto', etc]\r\n        //   'shippingStatus' : shippingStatus,  // De Lista - Lista cableada ['Por entregar', 'Entregado', 'Devuelto', etc]\r\n        //   'observations': observations, // Campo simple.\r\n        //   'isSaleByPrixer' : isSaleByPrixer // Campo simple.\r\n        // }\r\n        \r\n        // const base_url= process.env.REACT_APP_BACKEND_URL + \"/order/create\";\r\n        // const response = await axios.post(base_url,data);\r\n        // if(response.data.success === false){\r\n        //   setLoading(false);\r\n        //   setButtonState(false);\r\n        //   setErrorMessage(response.data.message);\r\n        //   setSnackBarError(true);\r\n        // } else {\r\n        //   setErrorMessage('Actualización de consumidor exitosa.');\r\n        //   setSnackBarE rror(true);\r\n        //   history.push('/admin/order/read');\r\n        // }\r\n      // }\r\n\r\n    }\r\n\r\n    // useEffect(()=> {\r\n    //   !selectedProduct && \r\n    //     setSelectedProduct(selectedProductI);\r\n\r\n      \r\n    //   !detailOptions && \r\n    //     setDetailOptions(detailOptionsI);\r\n\r\n      \r\n    //   // !selectedArt && \r\n    //   //   setSelectedArt([]);\r\n    // });\r\n\r\n    useEffect(()=> {\r\n      async function initBlankOrder() {\r\n        const initOrder = await orderServices.initBlankOrder({order: props.orderState});\r\n        props.setOrderState(initOrder);\r\n      };\r\n      initBlankOrder();\r\n    },[props]);\r\n\r\n    return (\r\n        <React.Fragment>\r\n          {\r\n            (props.orderState.selectedOrder) &&\r\n          <>\r\n          {\r\n          <Backdrop className={classes.backdrop} open={loading}>\r\n            <CircularProgress color=\"inherit\" />\r\n          </Backdrop>\r\n          }\r\n          <Title>Creación de orden de venta</Title>\r\n          <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n            {\r\n              orderSteps === 'basic' ?\r\n                <Grid>\r\n                  <Grid container>\r\n                    <OrderBasicInfo orderState={props.orderState} setOrderState={props.setOrderState} basicInfo={basicInfo} setBasicInfo={setBasicInfo} setOptions={setBasicOptions} options={basicOptions} />\r\n                  </Grid>\r\n                  <Grid container>\r\n                    <Grid item xs={6} align=\"left\">\r\n                      <Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={buttonState} style={{ marginTop: 20}}>\r\n                        Crear\r\n                      </Button>\r\n                    </Grid>\r\n                    <Grid item xs={6} align=\"right\">\r\n                      <Button variant=\"contained\" color=\"primary\" disabled={buttonState} style={{ marginTop: 20}} onClick={()=>{setOrderSteps('details')}}>\r\n                        Agregar productos\r\n                      </Button>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              : orderSteps === 'details' &&\r\n                <Grid>\r\n                  <Grid container xs={12} justifyContent=\"space-between\">\r\n                    <OrderDetails orderState={props.orderState} setOrderState={props.setOrderState} \r\n                    selectedProduct={selectedProduct} \r\n                    setSelectedProduct={setSelectedProduct}\r\n                    options={detailOptions}\r\n                    setOptions={setDetailOptions}\r\n                    selectedArt={selectedArt}\r\n                    setSelectedArt={setSelectedArt} />\r\n                  </Grid>\r\n                  <Grid container xs={12} justifyContent=\"space-between\">\r\n                    <Grid item xs={6} align=\"left\">\r\n                      <Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={buttonState} style={{ marginTop: 20}}>\r\n                        Crear\r\n                      </Button>\r\n                    </Grid>\r\n                    <Grid item xs={6} align=\"right\">\r\n                      <Button variant=\"contained\" color=\"primary\" disabled={buttonState} style={{ marginTop: 20}} onClick={()=>{setOrderSteps('basic')}}>\r\n                        Básicos\r\n                      </Button>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n            }\r\n          </form>\r\n          <Snackbar\r\n            // open={snackBarError}\r\n            autoHideDuration={1000}\r\n            // message={errorMessage}\r\n            className={classes.snackbar}\r\n          />\r\n          </>\r\n          }\r\n        </React.Fragment>\r\n      );\r\n}","import React from 'react';\r\nimport {useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Title from '../adminMain/Title';\r\nimport axios from 'axios';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport FormControl from '@material-ui/core/FormControl';\r\n// import clsx from 'clsx';\r\n// import Checkbox from '@material-ui/core/Checkbox';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport { searchConsumer } from '../consumerCrud/consumerServices';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  form: {\r\n      height: 'auto',\r\n      padding: '15px'\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n//Rolo e peo chamo jajajja\r\nexport default function UpdateOrder(props) {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [ typedConsumer, setTypedConsumer ] = useState('');\r\n    const [ consumer, setConsumer ] = useState('');\r\n    // const [ active, setActive ] = useState(props.order.active || '');\r\n    // const [ id, setId ] = useState(props.order.id || '');\r\n    // const [ consumerId, setConsumerId ] = useState('');\r\n    // const [ orderType, setOrderType ] = useState(props.order.orderType || '');\r\n    // const [ createdOn, setCreatedOn ] = useState(props.order.instructions || '');\r\n    // const [ createdBy, setCreatedBy ] = useState(props.order.paymentData || '');\r\n    // const [ subtotal, setSubtotal ] = useState(props.order.subtotal);\r\n    // const [ tax, setTax ] = useState(props.order.tax || '');\r\n    // const [ total, setTotal ] = useState(props.order.total || '');\r\n    // const [ shippingAddress, setShippingAddress ] = useState(props.order.shippingAddress || '');\r\n    // const [ billingAddress, setBillingAddress ] = useState(props.order.billingAddress || '');\r\n    // const [ shippingPhone, setShippingPhone ] = useState(props.order.shippingPhone || '');\r\n    // const [ internalShippingMethod, setInternalShippingMethod ] = useState(props.order.internalShippingMethod || '');\r\n    // const [ domesticShippingMethod, setDomesticShippingMethod ] = useState(props.order.domesticShippingMethod || '');\r\n    // const [ internationalShippingMethod, setInternationalShippingMethod ] = useState(props.order.internationalShippingMethod || '');\r\n    // const [ paymentMethodID, setPaymentMethodID ] = useState(props.order.paymentMethodID || '');\r\n    // const [ generalProductionStatus, setGeneralProductionStatus ] = useState(props.order.generalProductionStatus || '');\r\n    // const [ paymentStatus, setPaymentStatus ] = useState(props.order.paymentStatus || '');\r\n    // const [ shippingStatus, setShippingStatus ] = useState(props.order.shippingStatus || '');\r\n    // const [ observations, setObservations ] = useState(props.order.observations || '');\r\n    // const [ isSaleByPrixer, setIsSaleByPrixer ] = useState(props.order.isSaleByPrixer || '');    \r\n    \r\n    const [loading, setLoading] = useState(false);\r\n    const [buttonState, setButtonState] = useState(false);\r\n\r\n    //Error states.\r\n    const [errorMessage, setErrorMessage] = useState();\r\n    const [snackBarError, setSnackBarError] = useState(false);\r\n    // const [passwordError, setPasswordError] = useState();\r\n    // const [emailError, setEmailError] = useState();\r\n\r\n\r\n    const handleSubmit = async (e)=> {\r\n      e.preventDefault();\r\n      // if(!active){\r\n      //   setErrorMessage('Por favor completa todos los campos requeridos.');\r\n      //   setSnackBarError(true);\r\n      //   e.preventDefault();\r\n      // } else {\r\n        setLoading(true);\r\n        setButtonState(true);\r\n        \r\n        const data = {\r\n          // 'id': id,\r\n          'consumerId': '', //De búsqueda - Debo obtener la lista de los clientes en caliente.\r\n          // 'orderType' : orderType, // De Lista - Lista cableada ['Consignación', 'Venta', 'Obsequio']\r\n          // 'createdOn' : new Date(), // No va\r\n          // 'createdBy': JSON.parse(localStorage.getItem('adminToken')), // No va\r\n          // 'subtotal' : subtotal, // Calculado - Campo calculado en base a la selección de productos en Order Detail\r\n          // 'tax': tax, // Calculado - Campo calculado en base a la selección de productos en Order Detail\r\n          // 'total' : total, // Calculado - Campo calculado en base a la selección de productos en Order Detail\r\n          // 'shippingAddress' : shippingAddress, //Calculado - Debo obtener la lista de los clientes en caliente.\r\n          // 'billingAddress' : billingAddress, //Calculado - Debo obtener la lista de los clientes en caliente.\r\n          // 'shippingPhone' : shippingPhone, //Calculado - Debo obtener la lista de los clientes en caliente.\r\n          // 'internalShippingMethod': internalShippingMethod, // De Lista - Lista cableada ['Yalo', 'DH', 'CC', etc]\r\n          // 'domesticShippingMethod' : domesticShippingMethod, // De Lista - Lista cableada ['Tealca', 'Zoom', 'MRW', etc]\r\n          // 'internationalShippingMethod': internationalShippingMethod, // De Lista - Lista cableada ['FedEx', 'DHL', 'MRW', etc]\r\n          // 'paymentMethodID' : paymentMethodID, // Calculado - Debo obtenerlos de BD\r\n          // 'generalProductionStatus' : generalProductionStatus,  // De Lista - Lista cableada ['Solicitad', 'Por producir', 'En producción', etc]\r\n          // 'paymentStatus': paymentStatus,  // De Lista - Lista cableada ['Por pagar', 'Pagado parcialmente', 'Pagado', 'Devuelto', etc]\r\n          // 'shippingStatus' : shippingStatus,  // De Lista - Lista cableada ['Por entregar', 'Entregado', 'Devuelto', etc]\r\n          // 'observations': observations, // Campo simple.\r\n          // 'isSaleByPrixer' : isSaleByPrixer // Campo simple.\r\n        }\r\n\r\n        const base_url= process.env.REACT_APP_BACKEND_URL + \"/order/update\";\r\n        const response = await axios.post(base_url,data);\r\n        if(response.data.success === false){\r\n          setLoading(false);\r\n          setButtonState(false);\r\n          setErrorMessage(response.data.message);\r\n          setSnackBarError(true);\r\n        } else {\r\n          setErrorMessage('Actualización de consumidor exitosa.');\r\n          setSnackBarError(true);\r\n          history.push('/admin/order/read');\r\n        }\r\n      // }\r\n\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n        {\r\n        <Backdrop className={classes.backdrop} open={loading}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        }\r\n          <Title>Actualización de order de venta</Title>\r\n            <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n                <Grid container spacing={2}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12} sm={12}>\r\n                          <FormControl variant=\"outlined\" className={classes.form} xs={12} sm={12} md={12}>\r\n                            <InputLabel required id=\"consumer\">Consumidor</InputLabel>\r\n                            <Select\r\n                              labelId=\"consumer\"\r\n                              id=\"consumer\"\r\n                              value={typedConsumer}\r\n                              onChange={(e)=>{setConsumer(searchConsumer(e.target.value)); setTypedConsumer(e.target.value)}}\r\n                              label=\"artType\"\r\n                            >\r\n                              <MenuItem value=\"\">\r\n                                <em></em>\r\n                              </MenuItem>\r\n                              {\r\n                              consumer &&\r\n                              consumer.map((n) => (\r\n                                <MenuItem key={n._id} value={n._id}>{n.firstname + ' ' + n.lastname + ' - (' + n.email + ')'}</MenuItem>\r\n                              ))}\r\n                            </Select>\r\n                          </FormControl>\r\n                        </Grid>\r\n                        </Grid>\r\n                  <Button variant=\"contained\" color=\"primary\" type=\"submit\" disabled={buttonState} style={{ marginTop: 20}}>\r\n                    Actualizar\r\n                  </Button>\r\n                </Grid>\r\n            </form>\r\n            <Snackbar\r\n              open={snackBarError}\r\n              autoHideDuration={1000}\r\n              message={errorMessage}\r\n              className={classes.snackbar}\r\n            />\r\n        </React.Fragment>\r\n      );\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport clsx from \"clsx\";\r\nimport orderServices from \"./orderServices\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport ViewListIcon from \"@material-ui/icons/ViewList\";\r\nimport CreateOrder from \"../../orderCrud/createOrder/createOrder\";\r\nimport UpdateOrder from \"../../orderCrud/updateOrder\";\r\nimport Title from \"../Title\";\r\nimport {\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TableBody,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { RowingRounded } from \"@material-ui/icons\";\r\n\r\n// import DisableOrder from '../../orderCrud/disableOrder';\r\n// import ReadOrders from '../../orderCrud/readOrders';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: \"0 8px\",\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: \"100vh\",\r\n    overflow: \"auto\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"none\",\r\n    flexDirection: \"column\",\r\n  },\r\n  fixedHeight: {\r\n    height: \"auto\",\r\n    overflow: \"none\",\r\n  },\r\n  fab: {\r\n    right: 0,\r\n    position: \"absolute\",\r\n  },\r\n  paper2: {\r\n    position: \"absolute\",\r\n    width: \"80%\",\r\n    // maxHeight: 450,\r\n    overflowY: \"auto\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: theme.shadows[2],\r\n    padding: \"16px 32px 24px\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    textAlign: \"justify\",\r\n    minWidth: 320,\r\n    borderRadius: 10,\r\n    marginTop: \"12px\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n}));\r\n\r\nfunction Orders() {\r\n  const classes = useStyles();\r\n  // const history = useHistory();\r\n  // const location = useLocation();\r\n  const theme = useTheme();\r\n\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\r\n  const [isShowDetails, setIsShowDetails] = useState(false);\r\n  const [rows, setRows] = useState();\r\n  const [modalContent, setModalContent] = useState();\r\n\r\n  useEffect(() => {\r\n    readOrders();\r\n  }, []);\r\n\r\n  const readOrders = async () => {\r\n    const base_url = process.env.REACT_APP_BACKEND_URL + \"/order/read-all\";\r\n    axios\r\n      .get(base_url)\r\n      .then((response) => {\r\n        setRows(response.data.orders);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  const deleteOrder = async (id) => {\r\n    const URI = process.env.REACT_APP_BACKEND_URL + \"/order/delete/\" + id;\r\n    await axios.delete(URI);\r\n    readOrders();\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setIsShowDetails(false);\r\n  };\r\n\r\n  const handleChangeStatus = async (id, status) => {\r\n    const URI = process.env.REACT_APP_BACKEND_URL + \"/order/update/\" + id;\r\n    await axios.put(URI, { status: status });\r\n    readOrders();\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: \"relative\" }}>\r\n      <Grid container spacing={3} style={{ margin: isDesktop ? \"12px\" : \"\" }}>\r\n        <Grid item xs={12} md={12} lg={12}>\r\n          <Paper className={fixedHeightPaper}>\r\n            <Title>Órdenes</Title>\r\n            {rows && (\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell align=\"center\">ID</TableCell>\r\n                    <TableCell align=\"center\">Fecha</TableCell>\r\n                    <TableCell align=\"center\">Nombre</TableCell>\r\n                    <TableCell align=\"center\">Productos</TableCell>\r\n                    <TableCell align=\"center\">Total</TableCell>\r\n                    <TableCell align=\"center\">Status</TableCell>\r\n                    {/* <TableCell align=\"center\">Total</TableCell> */}\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {rows &&\r\n                    rows.map((row, index) => (\r\n                      <>\r\n                        <TableRow key={index}>\r\n                          <TableCell align=\"center\">{row.orderId}</TableCell>\r\n                          <TableCell align=\"center\">{row.createdOn}</TableCell>\r\n                          <TableCell align=\"center\">\r\n                            {row.createdBy.firstname} {row.createdBy.lastname}\r\n                          </TableCell>\r\n                          <TableCell align=\"center\">\r\n                            <Button\r\n                              onClick={() => {\r\n                                setIsShowDetails(!isShowDetails);\r\n                                setModalContent(row);\r\n                              }}\r\n                              style={{\r\n                                padding: 10,\r\n                                textTransform: \"none\",\r\n                                backgroundColor: \"#eee\",\r\n                              }}\r\n                            >\r\n                              <div\r\n                                style={{\r\n                                  display: \"flex\",\r\n                                  flexDirection: \"column\",\r\n                                }}\r\n                              >\r\n                                {row.requests?.map((item) => (\r\n                                  <div>\r\n                                    {item.art.title +\r\n                                      \" X \" +\r\n                                      item.product.name +\r\n                                      \" X \" +\r\n                                      item.quantity}\r\n                                  </div>\r\n                                ))}\r\n                              </div>\r\n                            </Button>\r\n                          </TableCell>\r\n\r\n                          <TableCell align=\"center\">${row.total}</TableCell>\r\n                          <TableCell align=\"center\">\r\n                            <Select\r\n                              value={row.status}\r\n                              onChange={(e) => {\r\n                                // setStatus(e.target.value);\r\n                                handleChangeStatus(row.orderId, e.target.value);\r\n                              }}\r\n                            >\r\n                              <MenuItem value={\"Procesando\"}>\r\n                                Procesando\r\n                              </MenuItem>\r\n\r\n                              <MenuItem value={\"Cancelada\"}>Cancelada</MenuItem>\r\n                              <MenuItem value={\"Completada\"}>\r\n                                Completada\r\n                              </MenuItem>\r\n                            </Select>\r\n                            {/* <Fab\r\n                              color=\"default\"\r\n                              style={{ width: 35, height: 35 }}\r\n                              aria-label=\"Delete\"\r\n                              onClick={(e) => {\r\n                                e.preventDefault();\r\n                                deleteOrder(row.orderId);\r\n                                readOrders();\r\n                              }}\r\n                            >\r\n                              <DeleteIcon />\r\n                            </Fab> */}\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      </>\r\n                    ))}\r\n                </TableBody>\r\n              </Table>\r\n            )}\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n      <Modal\r\n        // xl={12}\r\n        // lg={12}\r\n        // md={12}\r\n        // sm={12}\r\n        // xs={12}\r\n        open={isShowDetails}\r\n        // onClose={!}\r\n      >\r\n        <Grid container className={classes.paper2}>\r\n          <Grid\r\n            item\r\n            style={{\r\n              width: \"100%\",\r\n              display: \"flex\",\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <IconButton onClick={handleClose}>\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </Grid>\r\n          <Grid\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: rows?.lenght > 2 || isMobile ? \"column\" : \"row\",\r\n              // margin: \"10px 0px 20px 0px\",\r\n            }}\r\n            item\r\n            xs={12}\r\n            sm={6}\r\n            md={6}\r\n            lg={6}\r\n          >\r\n            {modalContent?.requests.map((item, index) => (\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  margin: \"0px 20px 20px 0px\",\r\n                  // borderWidth: 1,\r\n                }}\r\n              >\r\n                <strong>\r\n                  {\"Item #\"}\r\n                  {index + 1}\r\n                </strong>\r\n                <div>{\"Arte: \" + item.art.title}</div>\r\n                <div>{\"Id: \" + item.art.artId}</div>\r\n                <div style={{ marginBottom: 10 }}>\r\n                  {\"Prixer: \" + item.art.prixerUsername}\r\n                </div>\r\n                <div>{\"Producto: \" + item.product.name}</div>\r\n                <div>{\"Id: \" + item.product._id}</div>\r\n                {item.product.attributes.map((a, i) => {\r\n                  return (\r\n                    <p\r\n                      style={{\r\n                        // fontSize: 12,\r\n                        padding: 0,\r\n                        margin: 0,\r\n                        marginBottom: 10,\r\n                      }}\r\n                    >\r\n                      {a.name + \": \"}\r\n                      {item.product.selection[i]}\r\n                    </p>\r\n                  );\r\n                })}\r\n                <div>{\"Cantidad: \" + item.quantity}</div>\r\n              </div>\r\n            ))}\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12} md={6} lg={3} style={{ marginBottom: 20 }}>\r\n            <strong>Datos de pago</strong>\r\n            <div>{\"Subtotal: $\" + modalContent?.subtotal.toFixed(2)}</div>\r\n            <div>{\"IVA: $\" + modalContent?.tax.toFixed(2)}</div>\r\n            <div style={{ marginBottom: 10 }}>\r\n              {\"Total: $\" + modalContent?.total.toFixed(2)}\r\n            </div>\r\n            <div style={{ marginBottom: 40 }}>\r\n              {\"Forma de pago: \" + modalContent?.orderPaymentMethod}\r\n            </div>\r\n            {/* <div>{\"Dirección: \" + row.billingAddress}</div> */}\r\n            {/* </Grid>\r\n          <Grid item xs={12} sm={12} md={6} lg={3}> */}\r\n            <strong>Datos de envío</strong>\r\n            <div>\r\n              {\"Nombre: \" +\r\n                modalContent?.createdBy.firstname +\r\n                \" \" +\r\n                modalContent?.createdBy.lastname}\r\n            </div>\r\n            <div>{\"Email: \" + modalContent?.createdBy.email}</div>\r\n            <div>{\"Teléfono: \" + modalContent?.createdBy.phone}</div>\r\n            <div>\r\n              {\"Dirección de cobro: \" + modalContent?.createdBy.billingAddress}\r\n            </div>\r\n            <div>\r\n              {\"Dirección de envío: \" + modalContent?.createdBy.shippingAddress}\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n","const generateWaMessage = (tile = \"\") => {\r\n  const waNumber = \"584126377748\";\r\n  const welcomeMessage =\r\n    \"Holaa, cuéntame más. Quiero asesoría y conocer sus productos.\";\r\n  const message = tile !== \"\" ? generateArtMessage(tile, \"wa\") : welcomeMessage;\r\n\r\n  const url = \"https://wa.me/\" + waNumber + \"?text=\" + message;\r\n\r\n  return url;\r\n};\r\n\r\nconst generateWaProductMessage = (tile = \"\") => {\r\n  const waNumber = \"584126377748\";\r\n  const welcomeMessage =\r\n    \"Holaa, cuéntame más. Quiero asesoría y conocer sus productos.\";\r\n  const message =\r\n    tile !== \"\" ? generateProductMessage(tile, \"wa\") : welcomeMessage;\r\n\r\n  const url = \"https://wa.me/\" + waNumber + \"?text=\" + message;\r\n\r\n  return url;\r\n};\r\n\r\nconst generateProductMessage = (tile, type) => {\r\n  let lineBreak = \"\";\r\n\r\n  type === \"wa\" ? (lineBreak = \"%0D%0A\") : (lineBreak = \"\");\r\n\r\n  const productMainMessage = \"Holaa, este es uno de los Prix que me gustan:\";\r\n  const productMessage =\r\n    productMainMessage + lineBreak + \" *Modelo:* \" + tile.name;\r\n\r\n  return productMessage;\r\n};\r\n\r\nconst generateArtMessage = (tile, type) => {\r\n  let lineBreak = \"\";\r\n\r\n  type === \"wa\" ? (lineBreak = \"%0D%0A\") : (lineBreak = \"\");\r\n\r\n  const artMainMessage = \"Holaa, este es uno de los artes que me gustan:\";\r\n  const artMessage =\r\n    artMainMessage +\r\n    lineBreak +\r\n    \" *Título del Arte:* \" +\r\n    tile.title +\r\n    lineBreak +\r\n    \" *Prixer:* \" +\r\n    tile.prixerUsername +\r\n    lineBreak +\r\n    \" *Enlace:* prixelart.com/\" +\r\n    tile.prixerUsername +\r\n    \"/art/\" +\r\n    tile.artId;\r\n\r\n  return artMessage;\r\n};\r\n\r\nconst generateWaBuyMessage = (buy) => {\r\n  //   const waNumber = \"584126377748\";\r\n  const waNumber = \"584149153069\";\r\n  const message =\r\n    \"Hola, quiero conocer el proceso para continuar con la compra de los items que seleccioné: \" +\r\n    buy.map(\r\n      (item, index) =>\r\n        item.art &&\r\n        item.product &&\r\n        \"*Item \" +\r\n          `${index + 1}*\r\n          Arte: ${item.art.title} \r\n          Producto: ${item.product.name}\r\n          ${item.product.attributes.map((a, i) => {\r\n            return \"- \" + a.name + \": \" + item.product.selection[i];\r\n          })}\r\n          Prixer: ${item.art.prixerUsername}`\r\n    );\r\n\r\n  const url = \"https://wa.me/\" + waNumber + \"?text=\" + message;\r\n\r\n  return url;\r\n};\r\n\r\nconst maxPrintCalc = (width, height, ppi, iso) => {\r\n  let widthCm = 0;\r\n  let heightCm = 0;\r\n  const pxToCmConversionRate = 2.54;\r\n  if (iso === \"100\" || iso === \"200\") {\r\n    widthCm = (width * pxToCmConversionRate) / 100;\r\n    heightCm = (height * pxToCmConversionRate) / 100;\r\n  } else if (iso === \"400\") {\r\n    widthCm = (width * pxToCmConversionRate) / 150;\r\n    heightCm = (height * pxToCmConversionRate) / 150;\r\n  }\r\n\r\n  return [Math.trunc(widthCm), Math.trunc(heightCm)];\r\n};\r\n\r\nfunction shuffle(array) {\r\n  var currentIndex = array.length,\r\n    temporaryValue,\r\n    randomIndex;\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element.\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\nconst util = {\r\n  generateArtMessage,\r\n  generateWaMessage,\r\n  maxPrintCalc,\r\n  shuffle,\r\n  generateWaProductMessage,\r\n  generateWaBuyMessage,\r\n};\r\n\r\nexport default util;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport utils from \"../../utils/utils\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"space-around\",\r\n    overflow: \"hidden\",\r\n    // maxWidth: \"70%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  gridList: {\r\n    width: \"100%\",\r\n    height: \"auto\",\r\n  },\r\n  img: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n  icon: {\r\n    color: \"rgba(255, 255, 255, 0.54)\",\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(8),\r\n  },\r\n  card: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  cardMedia: {\r\n    paddingTop: \"81.25%\",\r\n    borderRadius: \"50%\",\r\n    margin: \"28px\",\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nexport default function PrixerGrid(props) {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n  const isDeskTop = useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n  const [tiles, setTiles] = useState([]);\r\n  const history = useHistory();\r\n  const [backdrop, setBackdrop] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/prixer/read-all-full-v2\";\r\n\r\n    axios.get(base_url).then((response) => {\r\n      setTiles(utils.shuffle(response.data.prixers));\r\n      setBackdrop(false);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Backdrop className={classes.backdrop} open={backdrop}>\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n      <Grid container spacing={1}>\r\n        {tiles &&\r\n          tiles\r\n            .filter((tile) => tile.avatar) //quitar?\r\n            .map(\r\n              (tile) =>\r\n                tile.status && (\r\n                  // isDesktop ? (\r\n                  <Grid item key={tile._id} xs={6} sm={6} md={3}>\r\n                    <Card className={classes.card}>\r\n                      <CardMedia\r\n                        alt={tile.title}\r\n                        height=\"100\"\r\n                        image={tile.avatar}\r\n                        className={classes.cardMedia}\r\n                        title={tile.title}\r\n                      />\r\n                      <CardContent className={classes.cardContent}>\r\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                          {tile.firstName} {tile.lastName}\r\n                        </Typography>\r\n                        <Typography\r\n                          gutterBottom\r\n                          variant=\"h6\"\r\n                          component=\"h6\"\r\n                          style={{ fontSize: 16 }}\r\n                        >\r\n                          {tile.username} -\r\n                          {tile.specialty ||\r\n                            tile.specialtyArt?.map((specialty, index) =>\r\n                              tile.specialtyArt?.length === index + 1\r\n                                ? specialty\r\n                                : `${specialty}, `\r\n                            )}\r\n                        </Typography>\r\n                      </CardContent>\r\n                      <CardActions>\r\n                        <Button\r\n                          size=\"small\"\r\n                          color=\"primary\"\r\n                          onClick={(e) =>\r\n                            history.push({ pathname: \"/\" + tile.username })\r\n                          }\r\n                        >\r\n                          Explorar\r\n                        </Button>\r\n                      </CardActions>\r\n                    </Card>\r\n                  </Grid>\r\n                )\r\n            )}\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.2d27ead7.svg\";","import { React, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport PrixerGrid from \"../../../sharedComponents/prixerGrid/prixerGrid\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport utils from \"../../../utils/utils\";\r\nimport logo from \"../../../logo.svg\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  loading: {\r\n    display: \"flex\",\r\n    \"& > * + *\": {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n    marginLeft: \"50vw\",\r\n    marginTop: \"50vh\",\r\n  },\r\n  cardMedia: {\r\n    paddingTop: \"81.25%\",\r\n    borderRadius: \"50%\",\r\n    margin: \"28px\",\r\n  },\r\n  card: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n    marginTop: -10,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    margin: \"15px\",\r\n  },\r\n  snackbar: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      bottom: 90,\r\n    },\r\n    margin: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    withoutLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    textField: {\r\n      width: \"25ch\",\r\n    },\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nexport default function Prixers() {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [tiles, setTiles] = useState([]);\r\n  const [backdrop, setBackdrop] = useState(true); // borrar\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n  // const isDeskTop = useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n  const [state, setState] = useState({\r\n    checkedA: true,\r\n  });\r\n\r\n  const readPrixers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const base_url =\r\n        process.env.REACT_APP_BACKEND_URL + \"/prixer/read-all-full\";\r\n\r\n      const response = await axios.get(base_url);\r\n      setTiles(response.data.prixers);\r\n      setBackdrop(false);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setState({ ...state, [event.target.name]: event.target.checked });\r\n  }; //Switch\r\n\r\n  const ChangeVisibility = async (e, GetId) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setState({ ...state, [e.target.name]: e.target.checked });\r\n\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/prixer/update-home/\" + GetId;\r\n    const response = await axios.put(\r\n      base_url,\r\n      {\r\n        status:\r\n          e.target.value === \"false\" || e.target.value === \"\" ? true : false,\r\n      },\r\n      {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      }\r\n    );\r\n    await readPrixers();\r\n    // console.log(response);\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    readPrixers();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Backdrop className={classes.backdrop} open={loading}>\r\n        <CircularProgress />\r\n      </Backdrop>\r\n      <Paper className={classes.paper}>\r\n        <AppBar position=\"static\">\r\n          <Typography\r\n            style={{\r\n              display: \"flex\",\r\n              alignContent: \"center\",\r\n              padding: \"10px 40px\",\r\n            }}\r\n            variant=\"h6\"\r\n            className={classes.title}\r\n          >\r\n            Prixers\r\n          </Typography>\r\n        </AppBar>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          style={{\r\n            padding: isMobile ? \"0px\" : \"18px\",\r\n            display: \"flex\",\r\n            textAlign: \"start\",\r\n          }}\r\n        >\r\n          {tiles &&\r\n            tiles\r\n              // .filter((tile) => tile.avatar)\r\n              .map((tile, key_id) =>\r\n                isDesktop ? (\r\n                  <Grid item xs={6} sm={6} md={3}>\r\n                    <Card key={tile._id} className={classes.card}>\r\n                      <CardMedia\r\n                        alt={tile.title}\r\n                        height=\"100\"\r\n                        width=\"100\"\r\n                        image={tile.avatar || \"/PrixLogo.png\"}\r\n                        className={classes.cardMedia}\r\n                        title={tile.title}\r\n                      />\r\n                      <CardContent className={classes.cardContent}>\r\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                          {tile.firstName} {tile.lastName}\r\n                        </Typography>\r\n                        <Typography\r\n                          gutterBottom\r\n                          variant=\"h6\"\r\n                          component=\"h6\"\r\n                          style={{ fontSize: 16 }}\r\n                        >\r\n                          {tile.username} -\r\n                          {tile.specialty ||\r\n                            tile.specialtyArt?.map((specialty, index) =>\r\n                              tile.specialtyArt?.length === index + 1\r\n                                ? specialty\r\n                                : `${specialty}, `\r\n                            )}\r\n                        </Typography>\r\n                      </CardContent>\r\n                      <Box\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"end\",\r\n                        }}\r\n                        label=\"Visible\"\r\n                      >\r\n                        <Typography\r\n                          color=\"secondary\"\r\n                          style={{ display: \"flex\", alignItems: \"center\" }}\r\n                        >\r\n                          Visible\r\n                        </Typography>\r\n                        <Switch\r\n                          checked={tile.status}\r\n                          color=\"primary\"\r\n                          onChange={\r\n                            // handleChange\r\n                            (event) =>\r\n                              handleChange(event, tile.state) ||\r\n                              ChangeVisibility(event, tile.prixerId)\r\n                          }\r\n                          name=\"checkedA\"\r\n                          value={tile.status}\r\n                          inputProps={{\r\n                            \"aria-label\": \"secondary checkbox\",\r\n                          }}\r\n                        />\r\n                      </Box>\r\n                    </Card>\r\n                  </Grid>\r\n                ) : (\r\n                  <Grid item xs={12} sm={4} md={4}>\r\n                    <Card key={tile._id} className={classes.card}>\r\n                      <CardMedia\r\n                        alt={tile.title}\r\n                        height=\"100\"\r\n                        image={tile.avatar || \"/PrixLogo.png\"}\r\n                        className={classes.cardMedia}\r\n                        title={tile.title}\r\n                      />\r\n                      <CardContent className={classes.cardContent}>\r\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                          {tile.firstName} {tile.lastName}\r\n                        </Typography>\r\n                        <Typography\r\n                          gutterBottom\r\n                          variant=\"h6\"\r\n                          component=\"h6\"\r\n                          style={{ fontSize: 16 }}\r\n                        >\r\n                          {tile.username} - {tile.specialty}\r\n                        </Typography>\r\n                      </CardContent>\r\n                      <Box\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"end\",\r\n                        }}\r\n                        label=\"Visible\"\r\n                      >\r\n                        <Typography\r\n                          color=\"secondary\"\r\n                          style={{ display: \"flex\", alignItems: \"center\" }}\r\n                        >\r\n                          Visible\r\n                        </Typography>\r\n                        <Switch\r\n                          checked={tile.status}\r\n                          color=\"primary\"\r\n                          onChange={\r\n                            // handleChange\r\n                            (event) => ChangeVisibility(event, tile.prixerId)\r\n                          }\r\n                          name=\"checkedA\"\r\n                          // defaultValue={tile.status}\r\n                          // defaultChecked={tile.status}\r\n                          value={tile.status}\r\n                          inputProps={{\r\n                            \"aria-label\": \"secondary checkbox\",\r\n                          }}\r\n                        />\r\n                      </Box>\r\n                    </Card>\r\n                  </Grid>\r\n                )\r\n              )}\r\n        </Grid>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport MainListItems from \"./listItems\";\r\nimport Dashboard from \"./dashboard/dashboard\";\r\nimport AdminUser from \"./adminUser/adminUser\";\r\nimport Products from \"./products/products\";\r\nimport Consumers from \"./consumers/consumers\";\r\nimport PaymentMethods from \"./orders/paymentMethods\";\r\nimport Orders from \"./orders/orders\";\r\nimport Preferences from \"./preferences/Preferences\";\r\nimport Testimonials from \"../TestimonialsCrud/Testimonials\";\r\nimport Prixers from \"./prixers/prixers\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link color=\"inherit\" href=\"https://prixelart.com/\">\r\n        Prixelart C.A.\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    backgroundColor: \"rgba(102, 102, 102, 0.1)\",\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: \"0 8px\",\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    height: \"100vh\",\r\n    position: \"fixed\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(0),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: \"auto\",\r\n    overflow: \"auto\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: \"700px\",\r\n  },\r\n  fixedHeight: {\r\n    height: 500,\r\n  },\r\n}));\r\n\r\nexport default function AdminMain(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const [active, setActive] = useState(\"user\");\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    location.pathname.split(\"/\").length === 7\r\n      ? setActive(\r\n          location.pathname.split(\"/\")[location.pathname.split(\"/\").length - 5]\r\n        )\r\n      : location.pathname.split(\"/\").length === 5\r\n      ? setActive(\r\n          location.pathname.split(\"/\")[location.pathname.split(\"/\").length - 3]\r\n        )\r\n      : location.pathname.split(\"/\").length === 4 &&\r\n        setActive(\r\n          location.pathname.split(\"/\")[location.pathname.split(\"/\").length - 2]\r\n        );\r\n  }, [location.pathname]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {JSON.parse(localStorage.getItem(\"adminToken\")) ? (\r\n        <>\r\n          <CssBaseline />\r\n          <AppBar\r\n            position=\"fixed\"\r\n            className={clsx(classes.appBar, open && classes.appBarShift)}\r\n          >\r\n            <Toolbar className={classes.toolbar}>\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                aria-label=\"open drawer\"\r\n                onClick={handleDrawerOpen}\r\n                className={clsx(\r\n                  classes.menuButton,\r\n                  open && classes.menuButtonHidden\r\n                )}\r\n              >\r\n                <MenuIcon />\r\n              </IconButton>\r\n              <Typography\r\n                component=\"h1\"\r\n                variant=\"h6\"\r\n                color=\"inherit\"\r\n                noWrap\r\n                className={classes.title}\r\n              >\r\n                Administración\r\n              </Typography>\r\n              <IconButton color=\"inherit\">\r\n                <Badge badgeContent={4} color=\"secondary\">\r\n                  <NotificationsIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            </Toolbar>\r\n          </AppBar>\r\n          <Drawer\r\n            variant=\"permanent\"\r\n            classes={{\r\n              paper: clsx(\r\n                classes.drawerPaper,\r\n                !open && classes.drawerPaperClose\r\n              ),\r\n            }}\r\n            open={open}\r\n          >\r\n            <div className={classes.toolbarIcon}>\r\n              <IconButton onClick={handleDrawerClose}>\r\n                <ChevronLeftIcon />\r\n              </IconButton>\r\n            </div>\r\n            <Divider />\r\n            <List>{<MainListItems active={active} />}</List>\r\n          </Drawer>\r\n          <main className={classes.content}>\r\n            <div className={classes.appBarSpacer} />\r\n            <Container maxWidth=\"lg\" className={classes.container}>\r\n              {active === \"user\" ? (\r\n                <AdminUser />\r\n              ) : active === \"dashboard\" ? (\r\n                <Dashboard />\r\n              ) : active === \"product\" ? (\r\n                <Products />\r\n              ) : active === \"consumer\" ? (\r\n                <Consumers />\r\n              ) : active === \"payment-method\" ? (\r\n                <PaymentMethods />\r\n              ) : active === \"order\" ? (\r\n                <Orders />\r\n              ) : active === \"prixer\" ? (\r\n                <Prixers />\r\n              ) : active === \"preferences\" ? (\r\n                <Preferences />\r\n              ) : active === \"testimonials\" ? (\r\n                <Testimonials />\r\n              ) : (\r\n                <p>POONG</p>\r\n              )}\r\n              <Box pt={4}>\r\n                <Copyright />\r\n              </Box>\r\n            </Container>\r\n          </main>\r\n        </>\r\n      ) : (\r\n        history.push({ pathname: \"/\" })\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\n\r\n\r\nexport default function Copyright() {\r\n    return (\r\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n        {'Copyright © '}\r\n        <Link color=\"inherit\" label='prixelart.com' href=\"https://prixelart.com/\">\r\n          prixelart.com\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    );\r\n  }","//Llevar el Password a un componente propio.\r\n\r\nimport React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport validations from \"../utils/validations\";\r\nimport Copyright from \"../sharedComponents/Copyright/copyright\";\r\n\r\n//material-ui\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport { FormControlLabel } from \"@material-ui/core\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nimport clsx from \"clsx\";\r\nimport jwt from \"jwt-decode\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    position: \"absolute\",\r\n    maxHeight: 450,\r\n    overflowY: \"auto\",\r\n    backgroundColor: \"white\",\r\n    border: \"2px solid #000\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: \"16px 32px 24px\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    textAlign: \"justify\",\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  snackbar: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      bottom: 90,\r\n    },\r\n    margin: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    withoutLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    textField: {\r\n      width: \"25ch\",\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [buttonState, setButtonState] = useState(true);\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  // const [termsAgree, setTermsAgree] = useState(false);\r\n  const theme = useTheme();\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n\r\n  const handleOnChange = () => {\r\n    setIsChecked(!isChecked);\r\n    // setTermsAgree(!isChecked);\r\n  };\r\n  const styles = useStyles();\r\n  const [modal, setModal] = useState(false);\r\n  const openModal = () => {\r\n    setModal(!modal);\r\n  };\r\n  const body = (\r\n    <div className={styles.modal}>\r\n      <div>{value}</div>\r\n      <div align=\"center\">\r\n        <Button variant=\"contained\" color=\"primary\" onClick={() => openModal()}>\r\n          Aceptar\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n  //Error states.\r\n  const [usernameError, setUsernameError] = useState();\r\n  const [emailError, setEmailError] = useState();\r\n  const [passwordError, setPasswordError] = useState();\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n\r\n  const now = new Date();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!username || !email || !firstName || !lastName || !email || !password) {\r\n      setErrorMessage(\"Por favor completa todos los campos requeridos.\");\r\n      setSnackBarError(true);\r\n    } else {\r\n      const base_url = process.env.REACT_APP_BACKEND_URL + \"/register\";\r\n      const data = {\r\n        username: username,\r\n        email: email.toLowerCase(),\r\n        password: password,\r\n        firstName: firstName,\r\n        lastName: lastName,\r\n        // termsAgree: termsAgree,\r\n      };\r\n      setButtonState(true);\r\n      axios\r\n        .post(base_url, data)\r\n        .then((response) => {\r\n          if (response.data.info === \"error_username\") {\r\n            setUsernameError(true);\r\n            setErrorMessage(response.data.message);\r\n            setSnackBarError(true);\r\n          } else if (response.data.info === \"error_email\") {\r\n            setEmailError(true);\r\n            setErrorMessage(response.data.message);\r\n            setSnackBarError(true);\r\n          } else {\r\n            setPasswordError(true);\r\n            setErrorMessage(\"Registro de usuario exitoso.\");\r\n            setSnackBarError(true);\r\n            const token = jwt(response.data.token);\r\n            localStorage.setItem(\"token\", JSON.stringify(token));\r\n            localStorage.setItem(\r\n              \"tokenExpire\",\r\n              JSON.stringify(now.getTime() + 21600000)\r\n            );\r\n            history.push({ pathname: \"/registrar/prixer\" });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          setButtonState(false);\r\n          console.log(error.response);\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (email && username && password) {\r\n      if (\r\n        validations.isAValidEmail(email) &&\r\n        validations.isAValidUsername(username) &&\r\n        validations.isAValidPassword(password)\r\n      ) {\r\n        setButtonState(false);\r\n      } else {\r\n        setButtonState(true);\r\n      }\r\n    } else {\r\n      setButtonState(true);\r\n    }\r\n  });\r\n\r\n  const handleEmailChange = (e) => {\r\n    if (validations.isAValidEmail(e.target.value)) {\r\n      setEmail(e.target.value);\r\n      setEmailError(false);\r\n      setSnackBarError(false);\r\n    } else {\r\n      setEmail(e.target.value);\r\n      setErrorMessage(\"Por favor introduce un correo electrónico válido.\");\r\n      setSnackBarError(true);\r\n      setEmailError(true);\r\n    }\r\n  };\r\n\r\n  const handleUsernameChange = (e) => {\r\n    if (validations.isAValidUsername(e.target.value)) {\r\n      setUsername(e.target.value);\r\n      setUsernameError(false);\r\n      setSnackBarError(false);\r\n    } else {\r\n      setUsername(e.target.value);\r\n      setErrorMessage(\r\n        \"Por favor introduce un nombre de usuario que solo incluya letras en minúscula y números.\"\r\n      );\r\n      setSnackBarError(true);\r\n      setUsernameError(true);\r\n    }\r\n  };\r\n\r\n  //Password\r\n  const handlePasswordChange = (e) => {\r\n    if (validations.isAValidPassword(e.target.value)) {\r\n      setPassword(e.target.value);\r\n      setPasswordError(false);\r\n      setSnackBarError(false);\r\n    } else {\r\n      setPassword(e.target.value);\r\n      setPasswordError(true);\r\n      setErrorMessage(\r\n        \"Disculpa, tu contraseña debe tener entre 8 y 15 caracteres, incluyendo al menos: una minúscula, una mayúscula, un número y un caracter especial.\"\r\n      );\r\n      setSnackBarError(true);\r\n    }\r\n  };\r\n\r\n  const handleClickShowPassword = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Registrar\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                error={usernameError}\r\n                id=\"username\"\r\n                label=\"Usuario\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                value={username}\r\n                onChange={handleUsernameChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"Nombre\"\r\n                autoFocus\r\n                value={firstName}\r\n                onChange={(e) => setFirstName(e.target.value)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Apellido\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n                value={lastName}\r\n                onChange={(e) => setLastName(e.target.value)}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                error={emailError}\r\n                id=\"email\"\r\n                label=\"Correo electrónico\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                value={email}\r\n                onChange={handleEmailChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <FormControl\r\n                className={clsx(classes.margin, classes.textField)}\r\n                variant=\"outlined\"\r\n                xs={12}\r\n                fullWidth={true}\r\n              >\r\n                <InputLabel htmlFor=\"outlined-adornment-password\">\r\n                  Contraseña\r\n                </InputLabel>\r\n                <OutlinedInput\r\n                  id=\"outlined-adornment-password\"\r\n                  type={showPassword ? \"text\" : \"password\"}\r\n                  value={password}\r\n                  label=\"Contraseña\"\r\n                  error={passwordError}\r\n                  onChange={handlePasswordChange}\r\n                  endAdornment={\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton\r\n                        aria-label=\"toggle password visibility\"\r\n                        onClick={handleClickShowPassword}\r\n                        onMouseDown={handleMouseDownPassword}\r\n                        edge=\"end\"\r\n                      >\r\n                        {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  }\r\n                  labelWidth={100}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            value=\"submit\"\r\n          >\r\n            Registrarme\r\n          </Button>\r\n          <Grid container style={{ justifyContent: \"center\" }}>\r\n            <Grid item>\r\n              <Link\r\n                href=\"#\"\r\n                onClick={() => {\r\n                  history.push({ pathname: \"/iniciar\" });\r\n                }}\r\n                variant=\"body2\"\r\n              >\r\n                ¿Ya tienes una cuenta? Inicia sesión.\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n      <Snackbar\r\n        open={snackBarError}\r\n        autoHideDuration={6000}\r\n        message={errorMessage}\r\n        className={classes.snackbar}\r\n      />\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { useState } from \"react\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link color=\"inherit\" href=\"https://prixelart.com/\">\r\n        prixelart.com\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    display: \"flex\",\r\n    \"& > *\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n    borderStyle: \"solid\",\r\n    borderWidth: 1,\r\n    borderColor: \"#000\",\r\n    backgroundColor: \"#fff\",\r\n    width: \"160px\",\r\n    height: \"160px\",\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  snackbar: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      bottom: 90,\r\n    },\r\n    margin: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    withoutLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    textField: {\r\n      width: \"25ch\",\r\n    },\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  loading: {\r\n    display: \"flex\",\r\n    \"& > * + *\": {\r\n      marginLeft: theme.spacing(0),\r\n    },\r\n    marginLeft: \"50%\",\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    maxWidth: 300,\r\n  },\r\n  modal: {\r\n    position: \"absolute\",\r\n    width: \"80%\",\r\n    maxHeight: 450,\r\n    overflowY: \"auto\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: \"16px 32px 24px\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    textAlign: \"justify\",\r\n  },\r\n  button: {\r\n    textAlign: \"center\",\r\n  },\r\n  root: {\r\n    height: 300,\r\n    flexGrow: 1,\r\n    minWidth: 300,\r\n  },\r\n}));\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\nconst specialties = [\"Fotografía\", \"Diseño\", \"Artes plásticas\"];\r\nfunction getStyles(specialty, theme) {\r\n  return {\r\n    fontWeight:\r\n      specialty.indexOf(specialty) === -1\r\n        ? theme.typography.fontWeightRegular\r\n        : theme.typography.fontWeightMedium,\r\n  };\r\n}\r\nexport default function PrixerRegistration() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [instagram, setInstagram] = useState(\"\");\r\n  const [facebook, setFacebook] = useState(\"\");\r\n  const [twitter, setTwitter] = useState(\"\");\r\n  const [dateOfBirth, setDateOfBirth] = useState();\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [country, setCountry] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [avatar, setAvatar] = useState({ file: \"\", _id: \"\" });\r\n  const [avatarObj, setAvatarObj] = useState(\"\");\r\n  const [avatarPic, setAvatarPic] = useState(\"\");\r\n  const [buttonState, setButtonState] = useState(true);\r\n  const [value, setValue] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  const theme = useTheme();\r\n  const [specialty, setSpecialty] = React.useState([]);\r\n  const [change, setChange] = useState(false);\r\n  const [inputChange, setInputChange] = useState(false);\r\n\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n  const status = true;\r\n\r\n  const handleOnChange = () => {\r\n    setIsChecked(!isChecked);\r\n  };\r\n\r\n  const styles = useStyles();\r\n  const [modal, setModal] = useState(false);\r\n  const openModal = () => {\r\n    setModal(!modal);\r\n  };\r\n\r\n  const body = (\r\n    <div className={styles.modal}>\r\n      <div data-color-mode=\"light\">\r\n        <div\r\n          style={{\r\n            textAlign: \"center\",\r\n            marginBottom: \"12px\",\r\n            fontWeight: \"bold\",\r\n          }}\r\n        >\r\n          CONVENIO DE RELACIÓN ENTRE LOS ARTISTAS Y LA COMPAÑÍA\r\n        </div>\r\n        <div>\r\n          <MDEditor.Markdown source={value} style={{ textAlign: \"justify\" }} />\r\n        </div>\r\n      </div>\r\n\r\n      <div align=\"center\">\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            setIsChecked(true);\r\n            setModal(false);\r\n          }}\r\n        >\r\n          Aceptar\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  //Error states.\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n  const termsAgree = isChecked;\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      !specialty ||\r\n      !instagram ||\r\n      !dateOfBirth ||\r\n      !specialty ||\r\n      !phone ||\r\n      !country ||\r\n      !city ||\r\n      !termsAgree\r\n    ) {\r\n      setErrorMessage(\"Por favor completa todos los campos requeridos.\");\r\n      setSnackBarError(true);\r\n      setIsChecked(true);\r\n    } else {\r\n      setLoading(true);\r\n      setButtonState(true);\r\n\r\n      const formData = new FormData();\r\n      formData.append(\"specialtyArt\", specialty);\r\n      formData.append(\"instagram\", instagram);\r\n      formData.append(\"facebook\", facebook);\r\n      formData.append(\"twitter\", twitter);\r\n      formData.append(\"dateOfBirth\", dateOfBirth);\r\n      formData.append(\"phone\", phone);\r\n      formData.append(\"country\", country);\r\n      formData.append(\"city\", city);\r\n      formData.append(\"description\", description);\r\n      formData.append(\"termsAgree\", isChecked);\r\n      formData.append(\"status\", status);\r\n      formData.append(\"avatar\", avatarPic);\r\n      formData.append(\r\n        \"username\",\r\n        JSON.parse(localStorage.getItem(\"token\")).username\r\n      );\r\n\r\n      const base_url =\r\n        process.env.REACT_APP_BACKEND_URL + \"/prixer-registration\";\r\n      axios\r\n        .post(base_url, formData, {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        })\r\n        .then((response) => {\r\n          if (response.data.success === false) {\r\n            setLoading(false);\r\n            setButtonState(false);\r\n            setErrorMessage(response.data.message);\r\n            setSnackBarError(true);\r\n          } else {\r\n            setErrorMessage(\"Registro de Prixer exitoso.\");\r\n            setSnackBarError(true);\r\n            history.push({ pathname: \"/\" + response.data.prixerData.username });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          setLoading(false);\r\n          setButtonState(false);\r\n          console.log(error.response);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setSpecialty(event.target.value);\r\n  };\r\n\r\n  const onImageChange = async (e) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      setInputChange(true);\r\n      setAvatarObj(URL.createObjectURL(e.target.files[0]));\r\n      setAvatarPic(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const getTerms = () => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/termsAndConditions/read\";\r\n    axios\r\n      .get(base_url)\r\n      .then((response) => {\r\n        setValue(response.data.terms.termsAndConditions);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    getTerms();\r\n  }, []);\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Comparte con tus futuros clientes\r\n        </Typography>\r\n        <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n          <Grid\r\n            container\r\n            spacing={3}\r\n            style={{ display: \"flex\", justifyContent: \"center\" }}\r\n          >\r\n            {loading && (\r\n              <div className={classes.loading}>\r\n                <CircularProgress />\r\n              </div>\r\n            )}\r\n            <Grid\r\n              item\r\n              xs={8}\r\n              style={{ display: \"flex\", justifyContent: \"center\" }}\r\n            >\r\n              {avatarObj ? (\r\n                <Avatar className={classes.avatar}>\r\n                  <label htmlFor=\"file-input\">\r\n                    <img\r\n                      src={avatarObj}\r\n                      alt=\"Prixer profile avatar\"\r\n                      style={{ maxHeight: 200 }}\r\n                    />\r\n                  </label>\r\n                  <input\r\n                    style={{ display: \"none\" }}\r\n                    accept=\"image/*\"\r\n                    id=\"file-input\"\r\n                    type=\"file\"\r\n                    onChange={onImageChange}\r\n                    required\r\n                  />\r\n                </Avatar>\r\n              ) : (\r\n                <Avatar className={classes.avatar}>\r\n                  <label htmlFor=\"file-input\">\r\n                    <AddIcon\r\n                      style={{ width: 60, height: 60, color: \"#d33f49\" }}\r\n                    />\r\n                  </label>\r\n                  <input\r\n                    style={{ display: \"none\" }}\r\n                    accept=\"image/*\"\r\n                    id=\"file-input\"\r\n                    type=\"file\"\r\n                    onChange={onImageChange}\r\n                  />\r\n                </Avatar>\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <FormControl\r\n                className={classes.formControl}\r\n                style={{ width: \"100%\" }}\r\n              >\r\n                <InputLabel id=\"demo-mutiple-name-label\">\r\n                  Especialidad\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"demo-mutiple-name-label\"\r\n                  id=\"demo-mutiple-name\"\r\n                  multiple\r\n                  value={specialty}\r\n                  onChange={handleChange}\r\n                  input={<Input />}\r\n                  MenuProps={MenuProps}\r\n                >\r\n                  {specialties.map((specialty) => (\r\n                    <MenuItem\r\n                      key={specialty}\r\n                      value={specialty}\r\n                      style={getStyles(specialty, theme)}\r\n                    >\r\n                      {specialty}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              sm={6}\r\n              style={{ display: \"flex\", alignItems: \"center\" }}\r\n            >\r\n              <TextField\r\n                style={{\r\n                  width: \"100%\",\r\n                }}\r\n                id=\"dateOfBirth\"\r\n                label=\"Fecha de Nacimiento\"\r\n                type=\"date\"\r\n                required\r\n                format=\"dd-MM-yyyy\"\r\n                defaultValue=\"06-07-2016\"\r\n                className={classes.textField}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                onChange={(e) => {\r\n                  setDateOfBirth(new Date(e.target.value));\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={6} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"instagram\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                value={instagram}\r\n                id=\"instagram\"\r\n                label=\"Instagram\"\r\n                autoFocus\r\n                onChange={(e) => {\r\n                  setInstagram(e.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={6} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"facebook\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                value={facebook}\r\n                id=\"facebook\"\r\n                label=\"Facebook\"\r\n                autoFocus\r\n                onChange={(e) => {\r\n                  setFacebook(e.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={6} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"twitter\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                value={twitter}\r\n                id=\"twitter\"\r\n                label=\"Twitter\"\r\n                autoFocus\r\n                onChange={(e) => {\r\n                  setTwitter(e.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"phone\"\r\n                label=\"Teléfono\"\r\n                value={phone}\r\n                onChange={(e) => {\r\n                  setPhone(e.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"country\"\r\n                label=\"País\"\r\n                value={country}\r\n                type=\"country\"\r\n                id=\"country\"\r\n                onChange={(e) => {\r\n                  setCountry(e.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"city\"\r\n                label=\"Ciudad\"\r\n                value={city}\r\n                type=\"city\"\r\n                id=\"city\"\r\n                onChange={(e) => {\r\n                  setCity(e.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                name=\"description\"\r\n                label=\"Descripción\"\r\n                value={description}\r\n                type=\"description\"\r\n                id=\"description\"\r\n                onChange={(e) => {\r\n                  setDescription(e.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            style={{\r\n              display: \"flex\",\r\n              paddingTop: \"24px\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <FormControlLabel\r\n              style={{ margin: 0, paddingRight: 8 }}\r\n              control={\r\n                <Checkbox\r\n                  color=\"primary\"\r\n                  value={isChecked}\r\n                  checked={isChecked}\r\n                />\r\n              }\r\n              label=\"Acepto los\"\r\n              onChange={handleOnChange}\r\n              required\r\n            />\r\n\r\n            <a\r\n              style={{\r\n                textTransform: \"lowercase\",\r\n                fontSize: \"1rem\",\r\n                textDecoration: \"underline\",\r\n                cursor: \"pointer\",\r\n              }}\r\n              onClick={openModal}\r\n            >\r\n              Términos y condiciones\r\n            </a>\r\n            <Modal\r\n              open={modal}\r\n              onClose={openModal}\r\n              xl={800}\r\n              lg={800}\r\n              md={480}\r\n              sm={360}\r\n              xs={360}\r\n            >\r\n              {body}\r\n            </Modal>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            value=\"submit\"\r\n            required\r\n            disabled={!isChecked}\r\n          >\r\n            Guardar e ir a mi perfil\r\n          </Button>\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n      <Snackbar\r\n        open={snackBarError}\r\n        autoHideDuration={1000}\r\n        message={errorMessage}\r\n        className={classes.snackbar}\r\n      />\r\n    </Container>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport utils from \"../../utils/utils\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport logo from \"./Logotipo_Prixelart_H#2.png\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    zIndex: 10,\r\n    width: \"100%\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  a: {\r\n    textDecoration: \"none\",\r\n    color: \"#fff\",\r\n    position: \"relative\",\r\n    borderRadius: \"30%\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  menu: {\r\n    display: \"flex\",\r\n    direction: \"column\",\r\n  },\r\n  button: {\r\n    minWidth: \"0px\",\r\n  },\r\n  root2: {\r\n    display: \"flex\",\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n    // height: \"400px\",\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(0, 1),\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n}));\r\n\r\nexport default function MenuAppBar(props) {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const history = useHistory();\r\n  const open = Boolean(anchorEl);\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\r\n  const [open2, setOpen] = React.useState(false);\r\n  const [avatar, setAvatar] = useState(\"\");\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleMain = () => {\r\n    history.push({ pathname: \"/\" });\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    history.goBack();\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handlePasswordChange = () => {\r\n    history.push({ pathname: \"/cambio-contraseña\" });\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleCTLogin = () => {\r\n    history.push({ pathname: \"/iniciar\" });\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleMyAccount = () => {\r\n    history.push({\r\n      pathname: \"/\" + JSON.parse(localStorage.getItem(\"token\")).username,\r\n    });\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    const base_url = process.env.REACT_APP_BACKEND_URL + \"/logout\";\r\n    axios.post(base_url).then((response) => {\r\n      localStorage.setItem(\"token\", null);\r\n      history.push({ pathname: \"/iniciar\" });\r\n      setAnchorEl(null);\r\n    });\r\n  };\r\n\r\n  const handleGallery = (e) => {\r\n    e.preventDefault();\r\n    history.push({ pathname: \"/galeria\" });\r\n  };\r\n\r\n  const handleProductCatalog = (e) => {\r\n    e.preventDefault();\r\n    history.push({ pathname: \"/productos\" });\r\n  };\r\n\r\n  const handleShoppingCart = (e) => {\r\n    e.preventDefault();\r\n    history.push({ pathname: \"/shopping\" });\r\n  };\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPrixerAvatar();\r\n  }, []);\r\n\r\n  const getPrixerAvatar = async () => {\r\n    if (JSON.parse(localStorage.getItem(\"token\"))) {\r\n      const user = JSON.parse(localStorage.getItem(\"token\")).username;\r\n      const base_url =\r\n        process.env.REACT_APP_BACKEND_URL + \"/prixer/get/\" + user;\r\n      await axios.get(base_url).then((response) => {\r\n        setAvatar(response.data.avatar);\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {isMobile ? (\r\n        <>\r\n          <AppBar\r\n            color=\"secondary\"\r\n            position=\"fixed\"\r\n            className={clsx(classes.appBar, {\r\n              [classes.appBarShift]: open2,\r\n            })}\r\n          >\r\n            <Toolbar\r\n              style={{\r\n                display: \"flex\",\r\n                // alignItems: \"justify\",\r\n                justifyContent: \"space-between\",\r\n              }}\r\n            >\r\n              <IconButton\r\n                color=\"inherit\"\r\n                aria-label=\"open drawer\"\r\n                onClick={handleDrawerOpen}\r\n                className={clsx(classes.menuButton, open2 && classes.hide)}\r\n              >\r\n                <MenuIcon />\r\n              </IconButton>\r\n              <IconButton className={classes.a} onClick={handleMain}>\r\n                <img src={logo} alt=\"Prixelart logo\" style={{ width: 100 }} />\r\n              </IconButton>\r\n              <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleBack}\r\n                color=\"inherit\"\r\n              >\r\n                <ArrowBackIcon edge=\"end\" />\r\n              </IconButton>\r\n            </Toolbar>\r\n          </AppBar>\r\n          <Drawer\r\n            className={classes.drawer}\r\n            variant=\"persistent\"\r\n            anchor=\"left\"\r\n            open={open2}\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n          >\r\n            <div className={classes.drawerHeader}>\r\n              <IconButton onClick={handleDrawerClose}>\r\n                {theme.direction === \"ltr\" ? (\r\n                  <ChevronLeftIcon />\r\n                ) : (\r\n                  <ChevronRightIcon />\r\n                )}\r\n              </IconButton>\r\n            </div>\r\n            <Divider />\r\n\r\n            <Divider />\r\n            {JSON.parse(localStorage.getItem(\"token\")) && (\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignContent: \"center\",\r\n                  justifyContent: \"center\",\r\n                  margin: \"30px 0px\",\r\n                }}\r\n              >\r\n                <img\r\n                  src={avatar}\r\n                  style={{\r\n                    height: 180,\r\n                    width: 180,\r\n                    borderRadius: \"50%\",\r\n                    objectFit: \"cover\",\r\n                  }}\r\n                />\r\n              </div>\r\n            )}\r\n            <Tabs display=\"flex\" orientation=\"vertical\">\r\n              <Tab\r\n                className={classes.button}\r\n                onClick={handleGallery}\r\n                label=\"Galería\"\r\n              />\r\n              <Tab\r\n                className={classes.button}\r\n                onClick={handleProductCatalog}\r\n                label=\"Productos\"\r\n              />\r\n              <Tab\r\n                className={classes.button}\r\n                label=\"Compras\"\r\n                onClick={handleShoppingCart}\r\n              />\r\n              <Tab\r\n                className={classes.button}\r\n                onClick={(e) => {\r\n                  window.open(utils.generateWaMessage(), \"_blank\");\r\n                }}\r\n                label=\"Contáctanos\"\r\n              />\r\n              <Tab\r\n                className={classes.button}\r\n                onClick={(e) => {\r\n                  window.open(\"http://blog.prixelart.com/\", \"_blank\");\r\n                }}\r\n                label=\"Blog\"\r\n              />\r\n            </Tabs>\r\n            <Divider />\r\n            <Divider />\r\n\r\n            {JSON.parse(localStorage.getItem(\"token\")) &&\r\n            JSON.parse(localStorage.getItem(\"token\")).username ? (\r\n              <Tabs display=\"flex\" orientation=\"vertical\">\r\n                <Tab\r\n                  className={classes.button}\r\n                  onClick={handleMyAccount}\r\n                  label=\"Mi Cuenta\"\r\n                />\r\n                <Tab\r\n                  className={classes.button}\r\n                  onClick={handlePasswordChange}\r\n                  label=\"Cambiar contraseña\"\r\n                />\r\n                <Tab\r\n                  className={classes.button}\r\n                  onClick={handleLogout}\r\n                  label=\"Cerrar Sesión\"\r\n                />\r\n              </Tabs>\r\n            ) : (\r\n              <Tabs display=\"flex\" orientation=\"vertical\">\r\n                <Tab\r\n                  className={classes.button}\r\n                  onClick={handleCTLogin}\r\n                  label=\"Iniciar sesión\"\r\n                />\r\n              </Tabs>\r\n            )}\r\n          </Drawer>\r\n        </>\r\n      ) : (\r\n        <AppBar position=\"fixed\" color=\"secondary\">\r\n          <Toolbar style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n            <IconButton className={classes.a} onClick={handleMain}>\r\n              <img src={logo} alt=\"Prixelart logo\" style={{ width: 100 }} />\r\n            </IconButton>\r\n\r\n            <Tabs>\r\n              <Tab\r\n                className={classes.button}\r\n                onClick={handleGallery}\r\n                label=\"Galería\"\r\n              />\r\n              <Tab\r\n                className={classes.button}\r\n                onClick={handleProductCatalog}\r\n                label=\"Productos\"\r\n              />\r\n              <Tab\r\n                className={classes.button}\r\n                label=\"Compras\"\r\n                onClick={handleShoppingCart}\r\n              />\r\n              <Tab\r\n                className={classes.button}\r\n                onClick={(e) => {\r\n                  window.open(utils.generateWaMessage(), \"_blank\");\r\n                }}\r\n                label=\"Contáctanos\"\r\n              />\r\n\r\n              <Tab\r\n                className={classes.button}\r\n                onClick={(e) => {\r\n                  window.open(\"http://blog.prixelart.com/\", \"_blank\");\r\n                }}\r\n                label=\"Blog\"\r\n              />\r\n            </Tabs>\r\n\r\n            <div>\r\n              <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleBack}\r\n                color=\"inherit\"\r\n              >\r\n                <ArrowBackIcon edge=\"end\" />\r\n              </IconButton>\r\n              <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n                size=\"medium\"\r\n              >\r\n                {JSON.parse(localStorage.getItem(\"token\")) ? (\r\n                  <img\r\n                    src={avatar}\r\n                    style={{\r\n                      height: 40,\r\n                      width: 40,\r\n                      borderRadius: \"50%\",\r\n                      objectFit: \"cover\",\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  <AccountCircle />\r\n                )}\r\n              </IconButton>\r\n              {JSON.parse(localStorage.getItem(\"token\")) &&\r\n              JSON.parse(localStorage.getItem(\"token\")).username ? (\r\n                <Menu\r\n                  id=\"menu-appbar\"\r\n                  label=\"menu-appbar\"\r\n                  anchorEl={anchorEl}\r\n                  anchorOrigin={{\r\n                    vertical: \"top\",\r\n                    horizontal: \"right\",\r\n                  }}\r\n                  keepMounted\r\n                  transformOrigin={{\r\n                    vertical: \"top\",\r\n                    horizontal: \"right\",\r\n                  }}\r\n                  open={open}\r\n                  onClose={handleClose}\r\n                >\r\n                  <MenuItem onClick={handleMyAccount}>Mi Cuenta</MenuItem>\r\n                  <MenuItem onClick={handlePasswordChange}>\r\n                    Cambiar contraseña\r\n                  </MenuItem>\r\n                  <MenuItem onClick={handleLogout}>Cerrar Sesión</MenuItem>\r\n                </Menu>\r\n              ) : (\r\n                <Menu\r\n                  id=\"menu-appbar\"\r\n                  label=\"menu-appbar\"\r\n                  anchorEl={anchorEl}\r\n                  anchorOrigin={{\r\n                    vertical: \"top\",\r\n                    horizontal: \"right\",\r\n                  }}\r\n                  keepMounted\r\n                  transformOrigin={{\r\n                    vertical: \"top\",\r\n                    horizontal: \"right\",\r\n                  }}\r\n                  open={open}\r\n                  onClose={handleClose}\r\n                >\r\n                  <MenuItem onClick={handleCTLogin}>Iniciar Sesión</MenuItem>\r\n                </Menu>\r\n              )}\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport axios from \"axios\";\r\nimport AddPhotoAlternateIcon from \"@material-ui/icons/AddPhotoAlternate\";\r\nimport ShoppingCartOutlinedIcon from \"@material-ui/icons/ShoppingCartOutlined\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      // margin: theme.spacing(1),\r\n      margin: 0,\r\n      top: \"auto\",\r\n      // marginLeft:333,\r\n      bottom: 20,\r\n      left: \"auto\",\r\n      position: \"fixed\",\r\n    },\r\n  },\r\n  extendedIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  uwStyles: {\r\n    palette: {\r\n      window: \"#ffffff\",\r\n      sourceBg: \"#f4f4f5\",\r\n      windowBorder: \"#90a0b3\",\r\n      tabIcon: \"#000000\",\r\n      inactiveTabIcon: \"#d33f49\",\r\n      menuIcons: \"#555a5f\",\r\n      link: theme.palette.primary.main,\r\n      action: \"#339933\",\r\n      inProgress: theme.palette.primary.main,\r\n      complete: \"#339933\",\r\n      error: \"#cc0000\",\r\n      textDark: \"#000000\",\r\n      textLight: \"#fcfffd\",\r\n    },\r\n    fonts: {\r\n      default: null,\r\n      \"sans-serif\": {\r\n        url: null,\r\n        active: true,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function FloatingAddButton(props) {\r\n  const classes = useStyles();\r\n\r\n  const handleClick = () => {\r\n    props.setOpenArtFormDialog(true);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Fab color=\"primary\" aria-label=\"add\" onClick={handleClick}>\r\n        <AddPhotoAlternateIcon />\r\n      </Fab>\r\n\r\n      {/* <Fab color=\"primary\" aria-label=\"add\" onClick={handleClick}>\r\n        <ShoppingCartOutlinedIcon />\r\n      </Fab> */}\r\n    </div>\r\n  );\r\n}\r\n","// Debo hacer los unit y functional tests.\r\n// Debo migrar los states a Redux.\r\n\r\nimport React from \"react\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { useState, useEffect } from \"react\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport axios from \"axios\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport InstagramIcon from \"@material-ui/icons/Instagram\";\r\nimport FacebookIcon from \"@material-ui/icons/Facebook\";\r\nimport TwitterIcon from \"@material-ui/icons/Twitter\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  loading: {\r\n    display: \"flex\",\r\n    \"& > * + *\": {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n    marginLeft: \"50vw\",\r\n    marginTop: \"50vh\",\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n    paddingTop: 73,\r\n    width: \"100%\",\r\n    display: \"grid\",\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    margin: \"auto\",\r\n    // width: \"100%\",\r\n  },\r\n  image: {\r\n    width: 128,\r\n    height: 128,\r\n  },\r\n  snackbar: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      bottom: 90,\r\n    },\r\n    margin: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    withoutLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    textField: {\r\n      width: \"25ch\",\r\n    },\r\n  },\r\n  img: {\r\n    margin: \"auto\",\r\n    display: \"block\",\r\n    maxWidth: \"100%\",\r\n    maxHeight: \"100%\",\r\n  },\r\n  avatar: {\r\n    display: \"flex\",\r\n    \"& > *\": {},\r\n    objectFit: \"cover\",\r\n    borderStyle: \"solid\",\r\n    borderWidth: 1,\r\n    borderColor: \"#000\",\r\n    backgroundColor: \"#fff\",\r\n    width: \"160px\",\r\n    height: \"160px\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\n\r\nexport default function UserData(props) {\r\n  const classes = useStyles();\r\n  const [prixerDataState, setPrixerDataState] = useState(\"read\");\r\n  const [username, setUsername] = useState();\r\n  const [email, setEmail] = useState();\r\n  const [firstName, setFirstName] = useState();\r\n  const [lastName, setLastName] = useState();\r\n  const [specialtyArt, setSpecialtyArt] = useState([]);\r\n  const [instagram, setInstagram] = useState();\r\n  const [facebook, setFacebook] = useState();\r\n  const [twitter, setTwitter] = useState();\r\n  const [description, setDescription] = useState();\r\n  const [dateOfBirth, setDateOfBirth] = useState();\r\n  const [phone, setPhone] = useState();\r\n  const [country, setCountry] = useState();\r\n  const [city, setCity] = useState();\r\n  const [ready, setReady] = useState(false);\r\n  const [prixerExists, setPrixerExists] = useState(false);\r\n  const [avatarObj, setAvatarObj] = useState(\"\");\r\n  const [profilePic, setProfilePic] = useState(\"\");\r\n  const [inputChange, setInputChange] = useState(false);\r\n  const [backdrop, setBackdrop] = useState(true);\r\n  const theme = useTheme();\r\n  const history = useHistory();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"lg\"));\r\n  const [prixer, setPrixer] = useState();\r\n\r\n  function getStyles(specialty, specialtyArt, theme) {\r\n    return {\r\n      fontWeight:\r\n        specialty.indexOf(specialty) === -1\r\n          ? theme.typography.fontWeightRegular\r\n          : theme.typography.fontWeightMedium,\r\n    };\r\n  }\r\n\r\n  useEffect(() => {\r\n    const base_url = process.env.REACT_APP_BACKEND_URL + \"/prixer/read\";\r\n    const data = {\r\n      username: props.prixerUsername,\r\n    };\r\n\r\n    axios\r\n      .post(base_url, data)\r\n      .then((response) => {\r\n        if (!response.data.status) {\r\n          return history.push(\"/\");\r\n        }\r\n        setUsername(response.data.username);\r\n        setEmail(response.data.email);\r\n        setFirstName(response.data.firstName);\r\n        setLastName(response.data.lastName);\r\n        setSpecialtyArt(response.data.specialtyArt);\r\n        setInstagram(response.data.instagram);\r\n        setFacebook(response.data.facebook);\r\n        setTwitter(response.data.twitter);\r\n        setDescription(response.data.description);\r\n        setDateOfBirth(response.data.dateOfBirth);\r\n        setPhone(response.data.phone);\r\n        setCountry(response.data.country);\r\n        setCity(response.data.city);\r\n        setAvatarObj(response.data.avatar);\r\n        setProfilePic(response.data.avatar);\r\n        setPrixer(response.data);\r\n        setReady(true);\r\n        setBackdrop(false);\r\n        setPrixerExists(true);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [props.prixerUsername]);\r\n\r\n  const handleProfileDataEdit = async () => {\r\n    if (prixerDataState === \"edit\") {\r\n      setBackdrop(true);\r\n      var formData = new FormData();\r\n      formData.append(\"avatar\", profilePic || avatarObj);\r\n      formData.append(\"username\", username);\r\n      formData.append(\"firstName\", firstName);\r\n      formData.append(\"email\", email);\r\n      formData.append(\"lastName\", lastName);\r\n      formData.append(\"specialtyArt\", specialtyArt);\r\n      formData.append(\"instagram\", instagram);\r\n      formData.append(\"facebook\", facebook);\r\n      formData.append(\"twitter\", twitter);\r\n      formData.append(\"description\", description);\r\n      formData.append(\"dateOfBirth\", dateOfBirth);\r\n      formData.append(\"phone\", phone);\r\n      formData.append(\"country\", country);\r\n      formData.append(\"city\", city);\r\n      console.log(formData);\r\n      const base_url = process.env.REACT_APP_BACKEND_URL + \"/prixer/update\";\r\n      const response = await axios.post(base_url, formData, {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      });\r\n      if (response.data) {\r\n        setUsername(response.data.username);\r\n        setEmail(response.data.email);\r\n        setFirstName(response.data.firstName);\r\n        setLastName(response.data.lastName);\r\n        setSpecialtyArt(response.data.specialtyArt);\r\n        setInstagram(response.data.instagram);\r\n        setFacebook(response.data.facebook);\r\n        setTwitter(response.data.twitter);\r\n        setDescription(response.data.description);\r\n        setDateOfBirth(response.data.dateOfBirth);\r\n        setPhone(response.data.phone);\r\n        setCountry(response.data.country);\r\n        setCity(response.data.city);\r\n        setAvatarObj(response.data.avatar);\r\n        setProfilePic(response.data.avatar);\r\n        setReady(true);\r\n        setBackdrop(false);\r\n        setPrixerExists(true);\r\n        setPrixerDataState(\"read\");\r\n      } else {\r\n        setReady(true);\r\n        setBackdrop(false);\r\n      }\r\n    } else {\r\n      setPrixerDataState(\"edit\");\r\n    }\r\n  };\r\n\r\n  const onImageChange = async (e) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      setInputChange(true);\r\n      setAvatarObj(URL.createObjectURL(e.target.files[0]));\r\n      setProfilePic(e.target.files[0]);\r\n    }\r\n  };\r\n  const handleChange = (e) => {\r\n    setSpecialtyArt(e.target.value);\r\n  };\r\n  return prixerExists ? (\r\n    <div className={classes.root}>\r\n      <Backdrop className={classes.backdrop} open={backdrop}>\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n      <Paper\r\n        className={classes.paper}\r\n        style={{ width: isDesktop ? \"50%\" : \"100%\" }}\r\n      >\r\n        {prixerDataState === \"read\" && (\r\n          <>\r\n            <Box style={{ textAlign: \"end\", marginBottom: \"4px\" }}>\r\n              {JSON.parse(localStorage.getItem(\"token\")) &&\r\n                JSON.parse(localStorage.getItem(\"token\")).username ===\r\n                  username && (\r\n                  <IconButton\r\n                    title=\"Profile Edit\"\r\n                    component=\"span\"\r\n                    color=\"primary\"\r\n                    onClick={handleProfileDataEdit}\r\n                    variant=\"contained\"\r\n                    // style={{ marginBottom: \"8px\" }}\r\n                  >\r\n                    <EditIcon />\r\n                  </IconButton>\r\n                )}\r\n              <Grid container spacing={2}>\r\n                <Grid\r\n                  item\r\n                  xs={12}\r\n                  sm={4}\r\n                  md={4}\r\n                  lg={4}\r\n                  xl={4}\r\n                  // style={{ marginLeft: 15 }}\r\n                >\r\n                  <Box\r\n                    style={{\r\n                      marginBottom: \"4px\",\r\n                      display: \"flex\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    {avatarObj ? (\r\n                      <Avatar\r\n                        className={classes.avatar}\r\n                        src={profilePic}\r\n                        alt=\"Prixer profile avatar\"\r\n                      />\r\n                    ) : (\r\n                      JSON.parse(localStorage.getItem(\"token\")) &&\r\n                      JSON.parse(localStorage.getItem(\"token\")).username ===\r\n                        username && (\r\n                        <Avatar className={classes.avatar}>\r\n                          <label htmlFor=\"file-input\">\r\n                            <img\r\n                              src=\"/PrixLogo.png\"\r\n                              alt=\"Prixer profile avatar\"\r\n                              style={{ maxHeight: 200, height: 120 }}\r\n                              onClick={handleProfileDataEdit}\r\n                            />\r\n                          </label>\r\n                        </Avatar>\r\n                      )\r\n                    )}\r\n                  </Box>\r\n                </Grid>\r\n                <Grid item xs={12} sm={8} md={8} lg={8} xl={8}>\r\n                  <Box\r\n                    display={\"flex\"}\r\n                    style={{\r\n                      marginBottom: \"4px\",\r\n                      justifyContent: isMobile ? \"center\" : \"flexstart\",\r\n                    }}\r\n                  >\r\n                    <Typography variant=\"body1\">\r\n                      {specialtyArt?.map((specialty, index) =>\r\n                        specialtyArt?.length === index + 1\r\n                          ? specialty\r\n                          : `${specialty}, `\r\n                      )}\r\n                    </Typography>\r\n                    {/* <Typography variant=\"h5\">\r\n                    {firstName} {lastName}\r\n                  </Typography> */}\r\n                  </Box>\r\n                  <Box\r\n                    display={\"flex\"}\r\n                    style={{\r\n                      marginBottom: \"4px\",\r\n                      justifyContent: isMobile ? \"center\" : \"flexstart\",\r\n                    }}\r\n                  >\r\n                    <Typography variant=\"body1\" color=\"textSecondary\">\r\n                      {username}\r\n                    </Typography>\r\n                  </Box>\r\n                  {/* <Box style={{ marginBottom: \"4px\" }}>\r\n                  <Typography variant=\"body1\">\r\n                    {specialtyArt?.map((specialty, index) =>\r\n                      specialtyArt?.length === index + 1\r\n                        ? specialty\r\n                        : `${specialty}, `\r\n                    )}\r\n                  </Typography>\r\n                </Box> */}\r\n\r\n                  <Box\r\n                    display={\"flex\"}\r\n                    style={{\r\n                      marginBottom: \"4px\",\r\n                      justifyContent: isMobile ? \"center\" : \"flexstart\",\r\n                    }}\r\n                  >\r\n                    <Typography>{description}</Typography>\r\n                  </Box>\r\n                  <Box\r\n                    style={{\r\n                      marginBottom: \"4px\",\r\n                      justifyContent: isMobile ? \"center\" : \"flexstart\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                    }}\r\n                  >\r\n                    <InstagramIcon style={{ marginRight: \"4px\" }} />\r\n                    <a\r\n                      target=\"_blank\"\r\n                      href={\"https://www.instagram.com/\" + instagram}\r\n                      style={{ textDecoration: \"none\", color: \"#d33f49\" }}\r\n                    >\r\n                      {instagram}\r\n                    </a>\r\n                  </Box>\r\n                  <Box\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      marginBottom: \"4px\",\r\n                      justifyContent: isMobile ? \"center\" : \"flexstart\",\r\n                    }}\r\n                  >\r\n                    {facebook && (\r\n                      <>\r\n                        <FacebookIcon style={{ marginRight: \"4px\" }} />\r\n                        <a\r\n                          target=\"_blank\"\r\n                          href={\"https://www.facebook.com/\" + facebook}\r\n                          style={{ textDecoration: \"none\", color: \"#d33f49\" }}\r\n                        >\r\n                          {facebook}\r\n                        </a>\r\n                      </>\r\n                    )}\r\n                  </Box>\r\n                  <Box\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      marginBottom: \"4px\",\r\n                      justifyContent: isMobile ? \"center\" : \"flexstart\",\r\n                    }}\r\n                  >\r\n                    {twitter && (\r\n                      <>\r\n                        <TwitterIcon style={{ marginRight: \"4px\" }} />\r\n                        <a\r\n                          target=\"_blank\"\r\n                          href={\"https://www.twitter.com/\" + twitter}\r\n                          style={{ textDecoration: \"none\", color: \"#d33f49\" }}\r\n                        >\r\n                          {twitter}\r\n                        </a>\r\n                      </>\r\n                    )}\r\n                  </Box>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </>\r\n        )}\r\n        {prixerDataState === \"edit\" && (\r\n          <>\r\n            <Box style={{ textAlign: \"end\", marginBottom: \"4px\" }}>\r\n              {JSON.parse(localStorage.getItem(\"token\")) &&\r\n                JSON.parse(localStorage.getItem(\"token\")).username ===\r\n                  username && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={handleProfileDataEdit}\r\n                    variant=\"contained\"\r\n                    style={{ marginBottom: \"8px\" }}\r\n                  >\r\n                    Editar\r\n                  </Button>\r\n                )}\r\n            </Box>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} sm={12} md={6} lg={6} xl={6}>\r\n                <Box>\r\n                  <Box\r\n                    marginBottom={2}\r\n                    style={{\r\n                      display: \"flex\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    {avatarObj ? (\r\n                      <Avatar className={classes.avatar}>\r\n                        <label htmlFor=\"file-input\">\r\n                          <img\r\n                            src={avatarObj}\r\n                            alt=\"Prixer profile avatar\"\r\n                            style={{ height: 200, objectFit: \"cover\" }}\r\n                          />\r\n                        </label>\r\n                        <input\r\n                          style={{ display: \"none\" }}\r\n                          accept=\"image/*\"\r\n                          id=\"file-input\"\r\n                          type=\"file\"\r\n                          onChange={onImageChange}\r\n                          required\r\n                        />\r\n                      </Avatar>\r\n                    ) : (\r\n                      <Avatar className={classes.avatar}>\r\n                        <label htmlFor=\"file-input\">\r\n                          <AddIcon\r\n                            style={{ width: 60, height: 60, color: \"#d33f49\" }}\r\n                          />\r\n                        </label>\r\n                        <input\r\n                          style={{ display: \"none\" }}\r\n                          accept=\"image/*\"\r\n                          id=\"file-input\"\r\n                          type=\"file\"\r\n                          onChange={onImageChange}\r\n                        />\r\n                      </Avatar>\r\n                    )}\r\n                  </Box>\r\n                  <Box style={{ marginBottom: \"8px\" }}>\r\n                    <TextField\r\n                      fullWidth\r\n                      id=\"firstName\"\r\n                      variant=\"outlined\"\r\n                      label=\"Nombre\"\r\n                      value={firstName}\r\n                      onChange={(e) => {\r\n                        setFirstName(e.target.value);\r\n                      }}\r\n                    />\r\n                  </Box>\r\n                  <Box style={{ marginBottom: \"8px\" }}>\r\n                    <TextField\r\n                      fullWidth\r\n                      id=\"lastName\"\r\n                      variant=\"outlined\"\r\n                      label=\"Apellido\"\r\n                      value={lastName}\r\n                      onChange={(e) => {\r\n                        setLastName(e.target.value);\r\n                      }}\r\n                    />\r\n                  </Box>\r\n                  <Box>\r\n                    <FormControl\r\n                      className={classes.formControl}\r\n                      style={{ width: \"100%\", marginBottom: 20 }}\r\n                    >\r\n                      <InputLabel id=\"demo-mutiple-name-label\">\r\n                        Especialidad\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId=\"demo-multiple-name-label\"\r\n                        id=\"demo-multiple-name\"\r\n                        multiple\r\n                        value={specialtyArt}\r\n                        onChange={(e) => setSpecialtyArt(e) || handleChange(e)}\r\n                        MenuProps={MenuProps}\r\n                      >\r\n                        {[\"Fotografía\", \"Diseño\", \"Artes plásticas\"].map(\r\n                          (specialty) => (\r\n                            <MenuItem\r\n                              key={specialty}\r\n                              value={specialty}\r\n                              style={getStyles(specialty, specialtyArt, theme)}\r\n                            >\r\n                              {specialty}\r\n                            </MenuItem>\r\n                          )\r\n                        )}\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Box>\r\n                  <Box style={{ marginBottom: \"8px\" }}>\r\n                    <TextField\r\n                      fullWidth\r\n                      id=\"instagram\"\r\n                      variant=\"outlined\"\r\n                      label=\"Instagram\"\r\n                      onChange={(e) => {\r\n                        setInstagram(e.target.value);\r\n                      }}\r\n                      value={instagram}\r\n                    />\r\n                  </Box>\r\n                  <Box style={{ marginBottom: \"8px\" }}>\r\n                    <TextField\r\n                      fullWidth\r\n                      id=\"facebook\"\r\n                      variant=\"outlined\"\r\n                      label=\"Facebook\"\r\n                      onChange={(e) => {\r\n                        setFacebook(e.target.value);\r\n                      }}\r\n                      value={facebook}\r\n                    />\r\n                  </Box>\r\n                  <Box style={{ marginBottom: \"8px\" }}>\r\n                    <TextField\r\n                      fullWidth\r\n                      id=\"twitter\"\r\n                      variant=\"outlined\"\r\n                      label=\"Twitter\"\r\n                      onChange={(e) => {\r\n                        setTwitter(e.target.value);\r\n                      }}\r\n                      value={twitter}\r\n                    />\r\n                  </Box>\r\n                  <Box>\r\n                    <TextField\r\n                      fullWidth\r\n                      id=\"description\"\r\n                      label=\"Descripción\"\r\n                      onChange={(e) => {\r\n                        setDescription(e.target.value);\r\n                      }}\r\n                      value={description}\r\n                      inputProps={{ maxLength: 300 }}\r\n                      multiline\r\n                      item\r\n                    />\r\n                  </Box>\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </>\r\n        )}\r\n      </Paper>\r\n    </div>\r\n  ) : (\r\n    <div className={classes.root}>\r\n      <Paper className={classes.paper}>\r\n        <Backdrop className={classes.backdrop} open={backdrop}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        <Grid container spacing={1}>\r\n          <Grid item xs={12} container>\r\n            <Grid item xs container direction=\"column\" spacing={2}>\r\n              <Grid item xs>\r\n                <Typography gutterBottom variant=\"subtitle1\">\r\n                  Increíble, pero cierto\r\n                </Typography>\r\n                <Typography variant=\"body1\" gutterBottom>\r\n                  Este usuario no existe\r\n                </Typography>\r\n                <Typography variant=\"body1\" color=\"textSecondary\">\r\n                  Inténtalo de nuevo | ig: Wrong\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    minWidth: \"100%\",\r\n    alignItems: \"center\",\r\n    \"& > *\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  paper: {\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n  },\r\n}));\r\n\r\nexport default function BasicButtonGroup() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper className={classes.paper} style={{ width: \"400px\" }}>\r\n        <ButtonGroup\r\n          variant=\"text\"\r\n          color=\"primary\"\r\n          aria-label=\"text primary button group\"\r\n        >\r\n          <Button>Artes</Button>\r\n          {/* <Button>Servicios</Button> */}\r\n        </ButtonGroup>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: \"2px 4px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: 450,\r\n  },\r\n  input: {\r\n    marginLeft: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  iconButton: {\r\n    padding: 10,\r\n  },\r\n  formControl: {\r\n    minWidth: 100,\r\n    width: \"100%\",\r\n    marginTop: \"12px\",\r\n  },\r\n}));\r\n\r\nexport default function CustomizedInputBase(props) {\r\n  const classes = useStyles();\r\n  let params = new URLSearchParams(window.location.search);\r\n  const theme = useTheme();\r\n  const categoriesList = [\r\n    \"Abstracto\",\r\n    \"Animales\",\r\n    \"Arquitectura\",\r\n    \"Atardecer\",\r\n    \"Cacao\",\r\n    \"Café\",\r\n    \"Carros\",\r\n    \"Ciudades\",\r\n    \"Comida\",\r\n    \"Edificios\",\r\n    \"Fauna\",\r\n    \"Flora\",\r\n    \"Lanchas, barcos o yates\",\r\n    \"Montañas\",\r\n    \"Naturaleza\",\r\n    \"Navidad\",\r\n    \"Playas\",\r\n    \"Puentes\",\r\n    \"Surrealista\",\r\n    \"Transportes\",\r\n    \"Vehículos\",\r\n  ];\r\n  const ITEM_HEIGHT = 48;\r\n  const ITEM_PADDING_TOP = 8;\r\n  const MenuProps = {\r\n    PaperProps: {\r\n      style: {\r\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n        width: 250,\r\n      },\r\n    },\r\n  };\r\n\r\n  const [categories, setCategories] = useState(\r\n    // localStorage.getItem(\"filterCategory\")\r\n    //   ? JSON.parse(localStorage.getItem(\"filterCategory\"))\r\n    //   : []\r\n    params.get(\"category\")\r\n  );\r\n  const [queryValue, setQueryValue] = useState(params.get(\"name\"));\r\n\r\n  const [isShowFilter, setIsShowFilter] = useState(\r\n    params.get(\"category\") ? true : false\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!localStorage.getItem(\"filterCategory\")) {\r\n      setCategories([]);\r\n      setIsShowFilter(false);\r\n    }\r\n  }, []);\r\n\r\n  function getStyles(category, categories, theme) {\r\n    return {\r\n      fontWeight:\r\n        categories.indexOf(category) === -1\r\n          ? theme.typography.fontWeightRegular\r\n          : theme.typography.fontWeightMedium,\r\n    };\r\n  }\r\n\r\n  // const handleChange = (event) => {\r\n  //   setCategories(event);\r\n  // };\r\n\r\n  return (\r\n    <div>\r\n      <Paper component=\"form\" className={classes.root}>\r\n        <div style={{ display: \"flex\", width: \"100%\", alignItems: \"center\" }}>\r\n          <IconButton\r\n            type=\"submit\"\r\n            className={classes.iconButton}\r\n            aria-label=\"search\"\r\n            onClick={(e) => {\r\n              props.searchPhotos(e, queryValue, categories);\r\n              localStorage.setItem(\r\n                \"filterCategory\",\r\n                JSON.stringify(categories)\r\n              );\r\n            }}\r\n          >\r\n            <SearchIcon />\r\n          </IconButton>\r\n          <InputBase\r\n            className={classes.input}\r\n            placeholder=\"Busca tu arte favorito\"\r\n            inputProps={{ \"aria-label\": \"Busca tu arte favorito\" }}\r\n            value={queryValue}\r\n            onChange={(e) => {\r\n              setQueryValue(e.target.value);\r\n            }}\r\n          />\r\n          <Tooltip title={\"Aplicar filtro\"}>\r\n            <IconButton\r\n              className={classes.iconButton}\r\n              onClick={() => {\r\n                setIsShowFilter(!isShowFilter);\r\n              }}\r\n            >\r\n              <FilterListIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </div>\r\n      </Paper>\r\n      {isShowFilter && (\r\n        <FormControl className={classes.formControl}>\r\n          <InputLabel>Categoría</InputLabel>\r\n          <Select\r\n            value={categories}\r\n            onChange={(e) => {\r\n              setCategories(e.target.value);\r\n              props.searchPhotos(e, queryValue, e.target.value);\r\n            }}\r\n            input={<Input />}\r\n            MenuProps={MenuProps}\r\n          >\r\n            <MenuItem value=\"\">\r\n              <em>Ninguno</em>\r\n            </MenuItem>\r\n            {categoriesList.map((category) => (\r\n              <MenuItem\r\n                key={category}\r\n                value={category}\r\n                // style={getStyles(category, categories, theme)}\r\n              >\r\n                {category}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","//[]      17. Búsqueda de Prixers.\r\n//[]      16. Filtros para las búsquedas (Por etiqueta).\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Img from \"react-cool-img\";\r\nimport Masonry, { ResponsiveMasonry } from \"react-responsive-masonry\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport utils from \"../../utils/utils\";\r\nimport SearchBar from \"../../sharedComponents/searchBar/searchBar.jsx\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\n\r\nconst IOSSwitch = withStyles((theme) => ({\r\n  root: {\r\n    width: 42,\r\n    height: 26,\r\n    padding: 0,\r\n    margin: theme.spacing(1),\r\n    position: \"absolute\",\r\n    marginLeft: \"-8vh\",\r\n  },\r\n  switchBase: {\r\n    padding: 1,\r\n    \"&$checked\": {\r\n      transform: \"translateX(16px)\",\r\n      color: theme.palette.common.white,\r\n      \"& + $track\": {\r\n        backgroundColor: \"primary\",\r\n        opacity: 1,\r\n        border: \"none\",\r\n      },\r\n    },\r\n    \"&$focusVisible $thumb\": {\r\n      color: \"#52d869\",\r\n      border: \"6px solid #fff\",\r\n    },\r\n  },\r\n  thumb: {\r\n    width: 24,\r\n    height: 24,\r\n  },\r\n  track: {\r\n    borderRadius: 26 / 2,\r\n    border: `1px solid ${theme.palette.grey[400]}`,\r\n    backgroundColor: theme.palette.grey[400],\r\n    opacity: 1,\r\n    transition: theme.transitions.create([\"background-color\", \"border\"]),\r\n  },\r\n  checked: {},\r\n  focusVisible: {},\r\n}))(({ classes, ...props }) => {\r\n  return (\r\n    <Switch\r\n      focusVisibleClassName={classes.focusVisible}\r\n      disableRipple\r\n      classes={{\r\n        root: classes.root,\r\n        switchBase: classes.switchBase,\r\n        thumb: classes.thumb,\r\n        track: classes.track,\r\n        checked: classes.checked,\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"space-around\",\r\n    overflow: \"hidden\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    marginBottom: \"20px\",\r\n  },\r\n  img: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxHeight: 180,\r\n    },\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      minHeight: 300,\r\n      maxHeight: 300,\r\n    },\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      // minHeight: 300,\r\n      // maxHeight: 450,\r\n      minWidth: 300,\r\n    },\r\n    [theme.breakpoints.up(\"xl\")]: {\r\n      minHeight: 450,\r\n      maxHeight: 450,\r\n    },\r\n  },\r\n  imagen: {\r\n    objectFit: \"fill\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nexport default function Grid(props) {\r\n  const classes = useStyles();\r\n  const [tiles, setTiles] = useState([]);\r\n  const history = useHistory();\r\n  let globalParams = new URLSearchParams(window.location.search);\r\n  const [searchValue, setSearchValue] = useState(\r\n    globalParams.get(\"name\") || null\r\n  );\r\n  const [categoryValue, setCategoryValue] = useState(\r\n    globalParams.get(\"category\") || null\r\n  );\r\n  const [backdrop, setBackdrop] = useState(true);\r\n  const theme = useTheme();\r\n  const [snackBar, setSnackBar] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [snackBarMessage, setSnackBarMessage] = useState(false);\r\n  const [selectedArt, setSelectedArt] = useState(undefined);\r\n  const [isOpenAssociateProduct, setIsOpenAssociateProduct] = useState(false);\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [openV, setOpenV] = useState(false);\r\n  const [disabledReason, setDisabledReason] = useState(\"\");\r\n  const [visible, setVisible] = useState(true);\r\n  const [visibles, setVisibles] = useState([]);\r\n\r\n  const handleClickVisible = () => {\r\n    setOpenV(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setSelectedArt(undefined);\r\n  };\r\n  const handleCloseVisible = () => {\r\n    setOpenV(false);\r\n    setSelectedArt(undefined);\r\n  };\r\n\r\n  const setVisibleArt = async (art, id, event) => {\r\n    setLoading(true);\r\n    if (event.target.checked === true) {\r\n      const base_url = process.env.REACT_APP_BACKEND_URL + \"/art/disable/\" + id;\r\n      art.visible = visible;\r\n      const response = await axios.put(base_url, art);\r\n      setSnackBarMessage(\"Arte modificado exitosamente\");\r\n      setSnackBar(true);\r\n      setLoading(false);\r\n      setDisabledReason(\"\");\r\n      setSelectedArt(undefined);\r\n    } else {\r\n      const base_url = process.env.REACT_APP_BACKEND_URL + \"/art/disable/\" + id;\r\n      art.visible = visible;\r\n      art.disabledReason = disabledReason;\r\n      const response = await axios.put(base_url, art);\r\n      handleClose();\r\n      setSnackBarMessage(\"Arte modificado exitosamente\");\r\n      setSnackBar(true);\r\n      setLoading(false);\r\n      setDisabledReason(\"\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.prixerUsername || globalParams.get(\"prixer\")) {\r\n      if (searchValue && categoryValue) {\r\n        const base_url =\r\n          process.env.REACT_APP_BACKEND_URL +\r\n          \"/art/read-by-username-query-and-category\";\r\n        const params = {\r\n          text: searchValue,\r\n          category: categoryValue,\r\n        };\r\n        axios.get(base_url, { params }).then((response) => {\r\n          setTiles(utils.shuffle(response.data.arts));\r\n          setBackdrop(false);\r\n        });\r\n      } else if (searchValue) {\r\n        const base_url =\r\n          process.env.REACT_APP_BACKEND_URL + \"/art/read-by-username-and-query\";\r\n        const params = {\r\n          text: searchValue,\r\n          username: props.prixerUsername || globalParams.get(\"prixer\"),\r\n        };\r\n        axios.get(base_url, { params }).then((response) => {\r\n          setTiles(utils.shuffle(response.data.arts));\r\n          // response.data.arts.map((bool) =>\r\n          //   visibles.push({\r\n          //     id: bool.artId,\r\n          //     visible: bool.visible,\r\n          //   })\r\n          // );\r\n          setBackdrop(false);\r\n        });\r\n      } else if (categoryValue) {\r\n        const base_url =\r\n          process.env.REACT_APP_BACKEND_URL +\r\n          \"/art/read-by-username-and-category\";\r\n        const params = {\r\n          category: categoryValue,\r\n          username: props.prixerUsername || globalParams.get(\"prixer\"),\r\n        };\r\n        axios.get(base_url, { params }).then((response) => {\r\n          setTiles(utils.shuffle(response.data.arts));\r\n          setBackdrop(false);\r\n        });\r\n      } else {\r\n        const base_url =\r\n          process.env.REACT_APP_BACKEND_URL + \"/art/read-by-prixer\";\r\n        const body = {\r\n          username: props.prixerUsername || globalParams.get(\"prixer\"),\r\n        };\r\n        axios.post(base_url, body).then((response) => {\r\n          setTiles(utils.shuffle(response.data.arts));\r\n          setBackdrop(false);\r\n        });\r\n      }\r\n    } else if (searchValue && categoryValue) {\r\n      const base_url =\r\n        process.env.REACT_APP_BACKEND_URL + \"/art/read-by-query-and-category\";\r\n      const params = {\r\n        text: searchValue,\r\n        category: categoryValue,\r\n      };\r\n      axios.get(base_url, { params }).then((response) => {\r\n        setTiles(utils.shuffle(response.data.arts));\r\n        setBackdrop(false);\r\n      });\r\n    } else if (searchValue) {\r\n      const base_url = process.env.REACT_APP_BACKEND_URL + \"/art/read-by-query\";\r\n      const params = {\r\n        text: searchValue,\r\n      };\r\n      axios.get(base_url, { params }).then((response) => {\r\n        setTiles(utils.shuffle(response.data.arts));\r\n        setBackdrop(false);\r\n      });\r\n    } else if (categoryValue) {\r\n      const base_url =\r\n        process.env.REACT_APP_BACKEND_URL + \"/art/read-by-category\";\r\n      const params = {\r\n        category: categoryValue,\r\n      };\r\n      axios.get(base_url, { params }).then((response) => {\r\n        setTiles(utils.shuffle(response.data.arts));\r\n        setBackdrop(false);\r\n      });\r\n    } else {\r\n      const base_url = process.env.REACT_APP_BACKEND_URL + \"/art/read-all\";\r\n      axios.get(base_url).then((response) => {\r\n        setTiles(response.data.arts);\r\n        // getTags(response);\r\n        setBackdrop(false);\r\n      });\r\n    }\r\n  }, [searchValue, categoryValue]);\r\n\r\n  const handleFullImage = (e, tile) => {\r\n    history.push({\r\n      pathname: \"/\" + tile.prixerUsername + \"/art/\" + e.target.id,\r\n    });\r\n  };\r\n\r\n  const searchPhotos = (e, queryValue, categories) => {\r\n    setSearchValue(queryValue);\r\n    setCategoryValue(categories);\r\n    e.preventDefault();\r\n    if (props.prixerUsername || globalParams.get(\"prixer\")) {\r\n      //\r\n      if (queryValue !== null && categories !== null) {\r\n        history.push({\r\n          pathname:\r\n            \"/galeria/s?prixer=\" +\r\n            (props.prixerUsername || globalParams.get(\"prixer\")) +\r\n            \"&category=\" +\r\n            categories +\r\n            \"&name=\" +\r\n            queryValue,\r\n        });\r\n      } else if ((categories !== [] && queryValue === null) || \"\") {\r\n        history.push({\r\n          pathname:\r\n            \"/galeria/s?prixer=\" +\r\n            (props.prixerUsername || globalParams.get(\"prixer\")) +\r\n            \"&category=\" +\r\n            categories,\r\n        });\r\n      } else if (queryValue) {\r\n        history.push({\r\n          pathname:\r\n            \"/galeria/s?prixer=\" +\r\n            (props.prixerUsername || globalParams.get(\"prixer\")) +\r\n            \"&name=\" +\r\n            queryValue,\r\n        });\r\n      } else {\r\n        history.push({\r\n          pathname:\r\n            \"/galeria/s?prixer=\" + props.prixerUsername + \"&name=\" + queryValue,\r\n        });\r\n      }\r\n    } else {\r\n      if (queryValue !== null && categories !== null) {\r\n        history.push({\r\n          pathname: \"/galeria/s?category=\" + categories + \"&name=\" + queryValue,\r\n        });\r\n      } else if ((categories !== [] && queryValue === null) || \"\") {\r\n        history.push({\r\n          pathname: \"/galeria/s?category=\" + categories,\r\n        });\r\n      } else if (queryValue) {\r\n        history.push({\r\n          pathname: \"/galeria/s?name=\" + queryValue,\r\n        });\r\n      } else {\r\n        history.push({\r\n          pathname: \"/galeria/\",\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const addingToCart = (e, tile) => {\r\n    e.preventDefault();\r\n    // props.setSelectedProduct(tile);\r\n    props.setSelectedArt(tile);\r\n    props.setIsOpenAssociateProduct(true);\r\n  };\r\n\r\n  const msnry = new Masonry(\".grid\", {\r\n    columnWidth: 200,\r\n    itemSelector: \".grid-item\",\r\n  });\r\n  return (\r\n    <>\r\n      <div className={classes.root}>\r\n        <Backdrop className={classes.backdrop} open={backdrop}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        <div\r\n          style={{ width: \"100%\", display: \"flex\", justifyContent: \"center\" }}\r\n        >\r\n          <SearchBar\r\n            searchPhotos={searchPhotos}\r\n            searchValue={3}\r\n            setSearchValue={setSearchValue}\r\n          />\r\n        </div>\r\n      </div>\r\n      <ResponsiveMasonry\r\n        columnsCountBreakPoints={{ 350: 1, 750: 2, 900: 3, 1080: 4 }}\r\n      >\r\n        <Masonry style={{ columnGap: \"7px\" }}>\r\n          {tiles ? (\r\n            tiles.map((tile) =>\r\n              tile.visible ? (\r\n                <div>\r\n                  {JSON.parse(localStorage.getItem(\"adminToken\")) &&\r\n                  tile.visible ? (\r\n                    <Button\r\n                      size=\"small\"\r\n                      color=\"primary\"\r\n                      variant=\"contained\"\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        marginTop: \"10px\",\r\n                        marginLeft: \"10px\",\r\n                        color: \"#fff\",\r\n                      }}\r\n                      disabled\r\n                    >\r\n                      <Typography\r\n                        style={{\r\n                          opacity: 0.5,\r\n                          fontSize: \"0.8rem\",\r\n                          fontWeight: 100,\r\n                        }}\r\n                      >\r\n                        Puntos: {tile.points}\r\n                      </Typography>\r\n                    </Button>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                  <Tooltip title=\"Agregar al carrito\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      color=\"primary\"\r\n                      onClick={(e) => {\r\n                        addingToCart(e, tile);\r\n                      }}\r\n                      style={{ position: \"absolute\", padding: \"8px\" }}\r\n                    >\r\n                      <ShoppingCartIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <Img\r\n                    onClick={(e) => {\r\n                      handleFullImage(e, tile);\r\n                    }}\r\n                    placeholder=\"/imgLoading.svg\"\r\n                    style={{\r\n                      backgroundColor: \"#eeeeee\",\r\n                      width: \"100%\",\r\n                      marginBottom: \"7px\",\r\n                      borderRadius: \"4px\",\r\n                      // objectFit: \"cover\",\r\n                    }}\r\n                    src={tile.squareThumbUrl}\r\n                    debounce={1000}\r\n                    cache\r\n                    error=\"/imgError.svg\"\r\n                    // srcSet={tile.smallThumbUrl + ' 600w, ' + tile.mediumThumbUrl + ' 850w, ' + tile.largeThumbUrl + ' 1300w'}\r\n                    // sizes=\"(min-width: 1600px) 850px, (min-width: 960px) 450px, (min-width: 640px) 400px, 200px\"\r\n                    // sizes=\"(min-width: 1600px) 850px, (min-width: 960px) 450px, (min-width: 640px) 200px, (min-width: 375px) 80px\"\r\n                    alt={tile.title}\r\n                    id={tile.artId}\r\n                    key={tile.artId}\r\n                  />\r\n                  {JSON.parse(localStorage.getItem(\"adminToken\")) && (\r\n                    <IOSSwitch\r\n                      color=\"primary\"\r\n                      size=\"normal\"\r\n                      checked={tile.visible}\r\n                      onChange={(e) => {\r\n                        if (e.target.checked === false) {\r\n                          handleClickVisible();\r\n                          setSelectedArt(tile.artId);\r\n                          setVisible(e.target.checked);\r\n                        } else {\r\n                          setVisibleArt(tile, tile.artId, e);\r\n                          setVisible(e.target.checked);\r\n                        }\r\n                      }}\r\n                    />\r\n                  )}\r\n                  <Dialog\r\n                    open={selectedArt === tile.artId}\r\n                    onClose={handleCloseVisible}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                  >\r\n                    <DialogTitle id=\"alert-dialog-title\">\r\n                      {\"¿Estás seguro de ocultar este arte?\"}\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                      <DialogContentText\r\n                        id=\"alert-dialog-description\"\r\n                        style={{\r\n                          textAlign: \"center\",\r\n                        }}\r\n                      >\r\n                        Este arte ya no será visible en tu perfil y la página de\r\n                        inicio.\r\n                      </DialogContentText>\r\n                    </DialogContent>\r\n                    <div\r\n                      item\r\n                      xs={12}\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <TextField\r\n                        style={{ width: \"95%\", marginBottom: \"5px\" }}\r\n                        fullWidth\r\n                        multiline\r\n                        required\r\n                        id=\"disabledReason\"\r\n                        label=\"¿Por qué quieres ocultar este arte?\"\r\n                        variant=\"outlined\"\r\n                        onChange={(e) => {\r\n                          setDisabledReason(e.target.value);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <DialogActions>\r\n                      <Button onClick={handleCloseVisible} color=\"primary\">\r\n                        Cancelar\r\n                      </Button>\r\n                      <Button\r\n                        onClick={(e) => {\r\n                          setVisibleArt(tile, selectedArt, e);\r\n                          setSelectedArt(undefined);\r\n                          handleCloseVisible();\r\n                        }}\r\n                        background=\"primary\"\r\n                        style={{\r\n                          color: \"white\",\r\n                          backgroundColor: \"#d33f49\",\r\n                        }}\r\n                      >\r\n                        Aceptar\r\n                      </Button>\r\n                    </DialogActions>\r\n                  </Dialog>\r\n                </div>\r\n              ) : (\r\n                JSON.parse(localStorage.getItem(\"adminToken\")) && (\r\n                  <div>\r\n                    <Img\r\n                      onClick={(e) => {\r\n                        handleFullImage(e, tile);\r\n                      }}\r\n                      placeholder=\"/imgLoading.svg\"\r\n                      style={{\r\n                        backgroundColor: \"#eeeeee\",\r\n                        width: \"100%\",\r\n                        marginBottom: \"7px\",\r\n                        borderRadius: \"4px\",\r\n                        // objectFit: \"cover\",\r\n                      }}\r\n                      src={tile.squareThumbUrl}\r\n                      debounce={1000}\r\n                      cache\r\n                      error=\"/imgError.svg\"\r\n                      // srcSet={tile.smallThumbUrl + ' 600w, ' + tile.mediumThumbUrl + ' 850w, ' + tile.largeThumbUrl + ' 1300w'}\r\n                      // sizes=\"(min-width: 1600px) 850px, (min-width: 960px) 450px, (min-width: 640px) 400px, 200px\"\r\n                      // sizes=\"(min-width: 1600px) 850px, (min-width: 960px) 450px, (min-width: 640px) 200px, (min-width: 375px) 80px\"\r\n                      alt={tile.title}\r\n                      id={tile.artId}\r\n                      key={tile.artId}\r\n                    />\r\n                    {JSON.parse(localStorage.getItem(\"adminToken\")) && (\r\n                      <IOSSwitch\r\n                        color=\"primary\"\r\n                        size=\"normal\"\r\n                        onChange={(e) => {\r\n                          if (e.target.checked === false) {\r\n                            setVisible(e.target.checked);\r\n                            setSelectedArt(tile.artId);\r\n                          } else {\r\n                            setVisible(e.target.checked);\r\n                            setVisibleArt(tile, tile.artId, e);\r\n                          }\r\n                        }}\r\n                      ></IOSSwitch>\r\n                    )}\r\n                  </div>\r\n                )\r\n              )\r\n            )\r\n          ) : (\r\n            <h1>Pronto encontrarás todo el arte que buscas.</h1>\r\n          )}\r\n        </Masonry>\r\n      </ResponsiveMasonry>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useState, useCallback } from 'react';\r\nimport Cropper from 'react-easy-crop'\r\n\r\nconst useStyles = makeStyles((theme) => ({}));\r\n\r\n\r\nexport default function EasyCropper(props) {\r\n    const  { art, ar, croppedArt, setCroppedArt, index, setCroppedAreaPixels  } = props;\r\n    const classes = useStyles();\r\n    const [aspect, setAspect] = useState(croppedArt[index].aspect);\r\n    const [crop, setCrop] = useState(croppedArt[index].crop);\r\n    const [zoom, setZoom] = useState(croppedArt[index].zoom);\r\n    const croppedArtTemp = croppedArt;\r\n    \r\n    const onCropComplete = useCallback(async (croppedArea, croppedAreaPixels) => {\r\n        croppedArtTemp[index].crop.x = croppedAreaPixels.x;\r\n        croppedArtTemp[index].crop.y = croppedAreaPixels.y;\r\n        setCroppedAreaPixels(croppedAreaPixels);\r\n        setCroppedArt(croppedArtTemp);     \r\n    });\r\n\r\n    return (\r\n        // <div style={{display:'flex', flexDirection:'column', justifyContent:'center'}}>\r\n            <Cropper\r\n            image={art}\r\n            crop={crop}\r\n            zoom={zoom}\r\n            aspect={aspect}\r\n            onCropChange={setCrop}\r\n            onCropComplete={onCropComplete}\r\n            onZoomChange={setZoom}\r\n            />\r\n        // </div>\r\n  )\r\n}","const createImage = url =>\r\n  new Promise((resolve, reject) => {\r\n    const image = new Image()\r\n    image.addEventListener('load', () => resolve(image))\r\n    image.addEventListener('error', error => reject(error))\r\n    image.setAttribute('crossOrigin', 'anonymous') // needed to avoid cross-origin issues on CodeSandbox\r\n    image.src = url\r\n  })\r\n\r\nfunction getRadianAngle(degreeValue) {\r\n  return (degreeValue * Math.PI) / 180\r\n}\r\n\r\n/**\r\n * This function was adapted from the one in the ReadMe of https://github.com/DominicTobias/react-image-crop\r\n * @param {File} image - Image File url\r\n * @param {Object} pixelCrop - pixelCrop Object provided by react-easy-crop\r\n * @param {number} rotation - optional rotation parameter\r\n */\r\nexport default async function getCroppedImg(imageSrc, pixelCrop, rotation = 0) {\r\n  const image = await createImage(imageSrc)\r\n  const canvas = document.createElement('canvas')\r\n  const ctx = canvas.getContext('2d')\r\n\r\n  const maxSize = Math.max(image.width, image.height)\r\n  const safeArea = 2 * ((maxSize / 2) * Math.sqrt(2))\r\n\r\n  // set each dimensions to double largest dimension to allow for a safe area for the\r\n  // image to rotate in without being clipped by canvas context\r\n  canvas.width = safeArea\r\n  canvas.height = safeArea\r\n\r\n  // translate canvas context to a central location on image to allow rotating around the center.\r\n  ctx.translate(safeArea / 2, safeArea / 2)\r\n  ctx.rotate(getRadianAngle(rotation))\r\n  ctx.translate(-safeArea / 2, -safeArea / 2)\r\n\r\n  // draw rotated image and store data.\r\n  ctx.drawImage(\r\n    image,\r\n    safeArea / 2 - image.width * 0.5,\r\n    safeArea / 2 - image.height * 0.5\r\n  )\r\n  const data = ctx.getImageData(0, 0, safeArea, safeArea)\r\n\r\n  // set canvas width to final desired crop size - this will clear existing context\r\n  canvas.width = pixelCrop.width\r\n  canvas.height = pixelCrop.height\r\n\r\n  // paste generated rotate image with correct offsets for x,y crop values.\r\n  ctx.putImageData(\r\n    data,\r\n    Math.round(0 - safeArea / 2 + image.width * 0.5 - pixelCrop.x),\r\n    Math.round(0 - safeArea / 2 + image.height * 0.5 - pixelCrop.y)\r\n  )\r\n\r\n  // As Base64 string\r\n  // return canvas.toDataURL('image/jpeg');\r\n\r\n  // As a blob\r\n  return new Promise(resolve => {\r\n    canvas.toBlob(file => {\r\n      resolve({ croppedImg: URL.createObjectURL(file), croppedImgFile: file })\r\n    }, 'image/jpeg')\r\n  })\r\n}\r\n","import React, { useEffect, useImperativeHandle } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useState, useCallback } from \"react\";\r\nimport EasyCropper from \"./easyCropper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport PhotoLibraryIcon from \"@material-ui/icons/PhotoLibrary\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport getCroppedImg from \"../../utils/cropImage\";\r\nimport CropIcon from \"@material-ui/icons/Crop\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  iconTabs: {\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    margin: \"auto\",\r\n    marginBottom: 10,\r\n  },\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"space-around\",\r\n    overflow: \"hidden\",\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  paper: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"left\",\r\n    flexGrow: 1,\r\n    overflow: \"visible\",\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  cardGrid: {\r\n    position: \"relative\",\r\n  },\r\n  img: {\r\n    maxWidth: \"100%\",\r\n    maxHeight: \"200px\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    objectFit: \"contain\",\r\n    objectPosition: \"50% 50%\",\r\n  },\r\n  tab: {\r\n    minWidth: 100,\r\n  },\r\n  button: {\r\n    width: \"10px\",\r\n  },\r\n}));\r\n\r\nexport default function AspectRatioSelector(props) {\r\n  const { art, croppedArt, setCroppedArt } = props;\r\n  const classes = useStyles();\r\n  const [tabValue, setTabValue] = useState(1);\r\n  const croppedArtTemp = croppedArt;\r\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState();\r\n  const [state, setState] = React.useState({\r\n    checkedA: false,\r\n  });\r\n  //Error states.\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarAction, setSnackBarAction] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n\r\n  useEffect(() => {});\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setTabValue(newValue);\r\n  };\r\n\r\n  const updateCrop = (i) => {\r\n    croppedArtTemp[i].thumb = \"\";\r\n    croppedArtTemp[i].cropped = false;\r\n    setCroppedArt([...croppedArtTemp]);\r\n  };\r\n\r\n  const handleCrop = useCallback(\r\n    async (i) => {\r\n      try {\r\n        const { croppedImg, croppedImgFile } = await getCroppedImg(\r\n          art,\r\n          croppedAreaPixels\r\n        );\r\n        croppedArtTemp[i].thumb = croppedImg;\r\n        croppedArtTemp[i].thumbFile = croppedImgFile;\r\n        croppedArtTemp[i].cropped = true;\r\n        croppedArtTemp[i].croppedAreaPixels = croppedAreaPixels;\r\n        setCroppedArt([...croppedArtTemp]);\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    },\r\n    [croppedAreaPixels]\r\n  );\r\n\r\n  const handleChangeCheck = (event) => {\r\n    setState({ ...state, [event.target.name]: event.target.checked });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {tabValue === 0 || state.checkedA === false ? (\r\n        <>\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            sm={12}\r\n            md={12}\r\n            style={{\r\n              position: \"relative\",\r\n              height: 300,\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <label htmlFor=\"inputfile\" style={{ cursor: \"pointer\" }}>\r\n              <Tooltip\r\n                title={\r\n                  \"Carga tu arte con un mínimo de 1080px tanto de ancho como de alto. Tu Arte debe pesar máximo 5Mb y estar en formato .jpeg o .png\"\r\n                }\r\n              >\r\n                <img className={classes.img} alt=\"Uploaded\" src={art} />\r\n              </Tooltip>\r\n            </label>\r\n          </Grid>\r\n        </>\r\n      ) : (\r\n        state.checkedA === true &&\r\n        croppedArt.map(\r\n          (ar, index) =>\r\n            ar.id === tabValue && (\r\n              <Grid\r\n                item\r\n                xs={12}\r\n                sm={12}\r\n                md={12}\r\n                style={{\r\n                  position: \"relative\",\r\n                  height: 300,\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  justifyContent: \"center\",\r\n                }}\r\n              >\r\n                {croppedArt[index].thumb == \"\" ? (\r\n                  <EasyCropper\r\n                    art={art}\r\n                    ar={ar}\r\n                    croppedArt={croppedArt}\r\n                    setCroppedArt={setCroppedArt}\r\n                    index={index}\r\n                    setCroppedAreaPixels={setCroppedAreaPixels}\r\n                  />\r\n                ) : (\r\n                  <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    style={{\r\n                      position: \"relative\",\r\n                      height: 300,\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <Tooltip\r\n                      title={\r\n                        \"Genera el recorte para recomendar a tus clientes las mejores secciones de tu arte.\"\r\n                      }\r\n                    >\r\n                      <img\r\n                        className={classes.img}\r\n                        alt=\"Uploaded\"\r\n                        src={croppedArtTemp[index].thumb}\r\n                      />\r\n                    </Tooltip>\r\n                  </Grid>\r\n                )}\r\n                {croppedArt[index].cropped ? (\r\n                  <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    style={{ position: \"absolute\", right: 5, bottom: 5 }}\r\n                  >\r\n                    <IconButton\r\n                      color=\"secondary\"\r\n                      aria-label=\"add an alarm\"\r\n                      style={{ padding: 0 }}\r\n                      onClick={() => {\r\n                        updateCrop(index);\r\n                      }}\r\n                    >\r\n                      <Typography>Recortar</Typography>\r\n                      <CropIcon />\r\n                    </IconButton>\r\n                  </Grid>\r\n                ) : (\r\n                  <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    style={{\r\n                      position: \"absolute\",\r\n                      right: 5,\r\n                      bottom: 5,\r\n                      zIndex: 20,\r\n                    }}\r\n                  >\r\n                    <IconButton\r\n                      color=\"secondary\"\r\n                      aria-label=\"add an alarm\"\r\n                      style={{ padding: 0 }}\r\n                      onClick={() => {\r\n                        handleCrop(index);\r\n                      }}\r\n                    >\r\n                      <Typography>Listo</Typography>\r\n                      <CheckCircleOutlineIcon />\r\n                    </IconButton>\r\n                  </Grid>\r\n                )}\r\n              </Grid>\r\n            )\r\n        )\r\n      )}\r\n\r\n      <Grid xs={12} sm={12} md={12}>\r\n        <Paper square className={classes.iconTabs}>\r\n          {state.checkedA === true && (\r\n            <Tabs\r\n              value={tabValue}\r\n              onChange={handleChange}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"secondary\"\r\n              variant=\"scrollable\"\r\n              scrollButtons=\"auto\"\r\n            >\r\n              <Tab\r\n                className={classes.tab}\r\n                icon={<PhotoLibraryIcon />}\r\n                label=\"Original\"\r\n              />\r\n\r\n              {state.checkedA === true &&\r\n                croppedArt.map((ar) => (\r\n                  <Tab\r\n                    className={classes.tab}\r\n                    icon={<PhotoLibraryIcon />}\r\n                    label={ar.name}\r\n                    id={ar.id}\r\n                  />\r\n                ))}\r\n            </Tabs>\r\n          )}\r\n        </Paper>\r\n        <Grid\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <FormControlLabel\r\n            name=\"checkedA\"\r\n            style={{ marginRight: \"0px\" }}\r\n            control={\r\n              <Checkbox\r\n                color={\"primary\"}\r\n                checked={state.checkedA}\r\n                onChange={handleChangeCheck}\r\n              />\r\n            }\r\n          />\r\n          <Typography style={{ color: \"gray\", fontSize: \"0.875rem\" }}>\r\n            Quiero seleccionar los cortes de mi arte.\r\n          </Typography>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useCallback } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport utils from \"../../utils/utils.js\";\r\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AspectRatioSelector from \"./aspectRatioSelector\";\r\nimport Cropper from \"react-easy-crop\";\r\n\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Copyright from \"../Copyright/copyright\";\r\n\r\n//material-ui\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  img: {\r\n    maxWidth: \"80vw\",\r\n    maxHeight: \"300px\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    objectFit: \"cover\",\r\n    objectPosition: \"50% 50%\",\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    width: \"100%\",\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(0),\r\n  },\r\n  snackbar: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      bottom: 90,\r\n    },\r\n    margin: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    withoutLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    textField: {\r\n      width: \"25ch\",\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(3),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  appBar: {\r\n    position: \"relative\",\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nconst photoIsos = [\"100\", \"200\", \"400\"];\r\n\r\nconst artTypes = [\"Diseño\", \"Foto\"];\r\n\r\n// const useValues = [\r\n//   'Impresión',\r\n//   'Catálogo',\r\n//   'Privado para clientes',\r\n// ];\r\n\r\nconst categories = [\r\n  \"Abstracto\",\r\n  \"Animales\",\r\n  \"Arquitectura\",\r\n  \"Atardecer\",\r\n  \"Cacao\",\r\n  \"Café\",\r\n  \"Carros\",\r\n  \"Ciudades\",\r\n  \"Comida\",\r\n  \"Edificios\",\r\n  \"Fauna\",\r\n  \"Flora\",\r\n  \"Lanchas, barcos o yates\",\r\n  \"Montañas\",\r\n  \"Naturaleza\",\r\n  \"Navidad\",\r\n  \"Playas\",\r\n  \"Puentes\",\r\n  \"Surrealista\",\r\n  \"Transportes\",\r\n  \"Vehículos\",\r\n];\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst aspectRatios = [\r\n  {\r\n    id: 1,\r\n    name: \"1:1\",\r\n    aspect: 1,\r\n    thumb: \"\",\r\n    crop: { x: 0, y: 0 },\r\n    zoom: 1,\r\n    cropped: false,\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"3:1\",\r\n    aspect: 3,\r\n    thumb: \"\",\r\n    crop: { x: 0, y: 0 },\r\n    zoom: 1,\r\n    cropped: false,\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"2:1\",\r\n    aspect: 2,\r\n    thumb: \"\",\r\n    crop: { x: 0, y: 0 },\r\n    zoom: 1,\r\n    cropped: false,\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"3:2\",\r\n    aspect: 3 / 2,\r\n    thumb: \"\",\r\n    crop: { x: 0, y: 0 },\r\n    zoom: 1,\r\n    cropped: false,\r\n  },\r\n  {\r\n    id: 5,\r\n    name: \"2:3\",\r\n    aspect: 2 / 3,\r\n    thumb: \"\",\r\n    crop: { x: 0, y: 0 },\r\n    zoom: 1,\r\n    cropped: false,\r\n  },\r\n  {\r\n    id: 6,\r\n    name: \"1:2\",\r\n    aspect: 1 / 2,\r\n    thumb: \"\",\r\n    crop: { x: 0, y: 0 },\r\n    zoom: 1,\r\n    cropped: false,\r\n  },\r\n];\r\n\r\nexport default function ArtUploader(props) {\r\n  const classes = useStyles();\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [artUrl, setArtUrl] = useState();\r\n  const [thumbnailUrl, setThumbnailUrl] = useState();\r\n  const [category, setCategory] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [tags, setTags] = useState([\"foto\", \"arte\"]);\r\n  const preTags = [\"arte\"];\r\n  const [publicId, setPublicId] = useState(\"\");\r\n  const [originalPhotoHeight, setOriginalPhotoHeight] = useState(\"\");\r\n  const [originalPhotoWidth, setOriginalPhotoWidth] = useState(\"\");\r\n  const [originalPhotoIso, setOriginalPhotoIso] = useState(\"\");\r\n  const [originalPhotoPpi, setOriginalPhotoPpi] = useState(\"\");\r\n  const [maxPrintHeightCm, setMaxPrintHeightCm] = useState(\"\");\r\n  const [maxPrintWidthCm, setMaxPrintWidthCm] = useState(\"\");\r\n  const [artType, setArtType] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [requiredPhoto, setRequiredPhoto] = useState(\"\");\r\n  const [uploaded, setUploaded] = useState(false);\r\n  const [mimeType, setMimeType] = useState(\"\");\r\n  const [backdrop, setBackdrop] = useState(false);\r\n  const [croppedArt, setCroppedArt] = useState(aspectRatios);\r\n  const [uploadedArtMeta, setUploadedArtMeta] = useState({\r\n    width: 0,\r\n    height: 0,\r\n    size: 0,\r\n  });\r\n  const [disabledReason, setDisabledReason] = useState(\"\");\r\n  const [visible, setVisible] = useState(true);\r\n  //Error states.\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarAction, setSnackBarAction] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (artType === \"Foto\") {\r\n      handleMaxPrintCalc();\r\n    }\r\n  }, [\r\n    originalPhotoWidth,\r\n    originalPhotoHeight,\r\n    originalPhotoPpi,\r\n    originalPhotoIso,\r\n  ]);\r\n\r\n  const handleArtTypeChange = (e) => {\r\n    if (!e.target.value) {\r\n      setRequiredPhoto(false);\r\n      setErrorMessage(\"Por favor indica a qué categoría pertenece el arte.\");\r\n      setSnackBarError(true);\r\n    } else {\r\n      if (e.target.value === \"Foto\") {\r\n        setRequiredPhoto(true);\r\n      }\r\n      setArtType(e.target.value);\r\n    }\r\n  };\r\n\r\n  const handleCategoryChange = (e) => {\r\n    setCategory(e.target.value);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    props.setOpenArtFormDialog(false);\r\n  };\r\n\r\n  const handleMaxPrintCalc = () => {\r\n    if (\r\n      originalPhotoWidth &&\r\n      originalPhotoHeight &&\r\n      originalPhotoPpi &&\r\n      originalPhotoIso\r\n    ) {\r\n      const [widthCm, heightCm] = utils.maxPrintCalc(\r\n        originalPhotoWidth,\r\n        originalPhotoHeight,\r\n        originalPhotoPpi,\r\n        originalPhotoIso\r\n      );\r\n      setMaxPrintWidthCm(widthCm);\r\n      setMaxPrintHeightCm(heightCm);\r\n    } else if (\r\n      !originalPhotoIso &&\r\n      originalPhotoWidth &&\r\n      originalPhotoHeight &&\r\n      originalPhotoPpi\r\n    ) {\r\n      setErrorMessage(\"Por favor indica a el ISO de la foto. \");\r\n      setSnackBarAction(\r\n        <Button\r\n          target=\"_blank\"\r\n          style={{ color: \"#fff\" }}\r\n          href=\"https://www.ionos.es/digitalguide/paginas-web/diseno-web/que-son-los-datos-exif/#:~:text=los%20datos%20EXIF.-,EXIF%20con%20el%20bot%C3%B3n%20derecho%20del%20rat%C3%B3n,de%20archivo%20y%20el%20nombre).\"\r\n        >\r\n          Aprende cómo\r\n        </Button>\r\n      );\r\n      setSnackBarError(true);\r\n    } else if (\r\n      originalPhotoIso &&\r\n      (!originalPhotoWidth || !originalPhotoHeight) &&\r\n      originalPhotoPpi\r\n    ) {\r\n      setErrorMessage(\"Por favor indica a el Ancho y Alto de la foto. \");\r\n      setSnackBarAction(\r\n        <Button\r\n          target=\"_blank\"\r\n          style={{ color: \"#fff\" }}\r\n          href=\"https://www.ionos.es/digitalguide/paginas-web/diseno-web/que-son-los-datos-exif/#:~:text=los%20datos%20EXIF.-,EXIF%20con%20el%20bot%C3%B3n%20derecho%20del%20rat%C3%B3n,de%20archivo%20y%20el%20nombre).\"\r\n        >\r\n          Aprende cómo\r\n        </Button>\r\n      );\r\n      setSnackBarError(true);\r\n    } else if (\r\n      originalPhotoIso &&\r\n      originalPhotoWidth &&\r\n      originalPhotoHeight &&\r\n      !originalPhotoPpi\r\n    ) {\r\n      setErrorMessage(\"Por favor indica a los PPI de la foto. \");\r\n      setSnackBarAction(\r\n        <Button\r\n          target=\"_blank\"\r\n          style={{ color: \"#fff\" }}\r\n          href=\"https://www.ionos.es/digitalguide/paginas-web/diseno-web/que-son-los-datos-exif/#:~:text=los%20datos%20EXIF.-,EXIF%20con%20el%20bot%C3%B3n%20derecho%20del%20rat%C3%B3n,de%20archivo%20y%20el%20nombre).\"\r\n        >\r\n          Aprende cómo\r\n        </Button>\r\n      );\r\n      setSnackBarError(true);\r\n    } else {\r\n      setErrorMessage(\"Por favor completa los campos requeridos.\");\r\n      setSnackBarAction(\r\n        <Button\r\n          target=\"_blank\"\r\n          style={{ color: \"#fff\" }}\r\n          href=\"https://www.ionos.es/digitalguide/paginas-web/diseno-web/que-son-los-datos-exif/#:~:text=los%20datos%20EXIF.-,EXIF%20con%20el%20bot%C3%B3n%20derecho%20del%20rat%C3%B3n,de%20archivo%20y%20el%20nombre).\"\r\n        >\r\n          Aprende cómo\r\n        </Button>\r\n      );\r\n      setSnackBarError(true);\r\n    }\r\n  };\r\n\r\n  const allCrops = () => {\r\n    const sum = croppedArt.reduce((prev, art, i) => {\r\n      if (art.cropped) {\r\n        return prev + 1;\r\n      } else {\r\n        return prev + 0;\r\n      }\r\n    }, 0);\r\n    if (sum == croppedArt.length) {\r\n      return [null, true];\r\n    } else {\r\n      return [croppedArt.length - sum, false];\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      // const [pendingCrops, isCrops] = allCrops();\r\n      // if (!isCrops) {\r\n      //   setErrorMessage(\r\n      //     \"Por favor realiza los \" +\r\n      //       pendingCrops +\r\n      //       \" recortes restantes de tu arte antes de continuar.\"\r\n      //   );\r\n      //   if (pendingCrops == 1) {\r\n      //     setErrorMessage(\r\n      //       \"Tu arte está casi listo, solo falta realizar \" +\r\n      //         pendingCrops +\r\n      //         \" recorte para continuar.\"\r\n      //     );\r\n      //   }\r\n      //   setSnackBarError(true);\r\n      // } else {\r\n      if (title && description && category && tags) {\r\n        if (\r\n          artType === \"Diseño\" ||\r\n          (originalPhotoWidth &&\r\n            originalPhotoHeight &&\r\n            originalPhotoPpi &&\r\n            originalPhotoIso)\r\n        ) {\r\n          setBackdrop(true);\r\n          await newArtPost();\r\n        } else {\r\n          setErrorMessage(\r\n            \"Por favor indica ancho, alto, PPI e ISO de la foto. \"\r\n          );\r\n          setSnackBarError(true);\r\n        }\r\n      } else {\r\n        setErrorMessage(\"Por favor completa el todos los campos.\");\r\n        setSnackBarError(true);\r\n      }\r\n      // }\r\n    } catch (err) {\r\n      console.log(err);\r\n      setBackdrop(false);\r\n      props.setOpenArtFormDialog(false);\r\n      setErrorMessage(\r\n        \"Ocurrió un error inesperado, por favor valida e inicia sesión.\"\r\n      );\r\n      setSnackBarError(true);\r\n    }\r\n  };\r\n\r\n  const getMimeType = (img) => {\r\n    const fileReader = new FileReader();\r\n    let type = \"\";\r\n    fileReader.onloadend = function (e) {\r\n      const arr = new Uint8Array(e.target.result).subarray(0, 4);\r\n      let header = \"\";\r\n      for (var i = 0; i < arr.length; i++) {\r\n        header += arr[i].toString(16);\r\n      }\r\n\r\n      switch (header) {\r\n        case \"89504e47\":\r\n          type = \"image/png\";\r\n          break;\r\n        case \"ffd8ffe0\":\r\n        case \"ffd8ffe1\":\r\n        case \"ffd8ffe2\":\r\n        case \"ffd8ffe3\":\r\n        case \"ffd8ffe8\":\r\n          type = \"image/jpeg\";\r\n          break;\r\n        default:\r\n          type = \"unknown\";\r\n          break;\r\n      }\r\n      setMimeType(type);\r\n    };\r\n    fileReader.readAsArrayBuffer(img);\r\n  };\r\n\r\n  function blobToFile(theBlob, fileName) {\r\n    //A Blob() is almost a File() - it's just missing the two properties below which we will add\r\n    theBlob.lastModifiedDate = new Date();\r\n    theBlob.name = fileName;\r\n    return theBlob;\r\n  }\r\n\r\n  const handleArtChange = async (e) => {\r\n    let artMeta = {};\r\n    getMimeType(e.target.files[0]);\r\n    if (e.target.files && e.target.files[0]) {\r\n      if (mimeType === \"unknow\") {\r\n        e.target.value = \"\";\r\n        setSnackBarError(true);\r\n        setErrorMessage(\r\n          \"Disculpa, pero el formato de tu arte no está permitido por los momentos.\"\r\n        );\r\n        console.log(\"error, file format not allowed\");\r\n      } else if (e.target.files[0].size >= 5120000) {\r\n        setSnackBarError(true);\r\n        setErrorMessage(\r\n          \"Disculpa, el arte que subiste es muy grande. El máximo por los momentos es de 5 MB.\"\r\n        );\r\n      } else {\r\n        var img = new Image();\r\n        var objectUrl = URL.createObjectURL(e.target.files[0]);\r\n        img.onload = function () {\r\n          if (img.width <= 900 && img.height <= 900) {\r\n            setSnackBarError(true);\r\n            setErrorMessage(\r\n              \"Disculpa, tanto el ancho como el alto de tu arte es menor al establecido. Por favor sube un arte con mayor resolución.\"\r\n            );\r\n          } else if (img.width <= 900) {\r\n            setSnackBarError(true);\r\n            setErrorMessage(\r\n              \"Disculpa, el ancho de tu arte es menor al establecido. Por favor sube un arte con mayor resolución.\"\r\n            );\r\n          } else if (img.height <= 900) {\r\n            setSnackBarError(true);\r\n            setErrorMessage(\r\n              \"Disculpa, el alto de tu arte es menor al establecido. Por favor sube un arte con mayor resolución.\"\r\n            );\r\n          } else {\r\n            artMeta.width = img.width;\r\n            artMeta.height = img.height;\r\n            setUploadedArtMeta(artMeta);\r\n            setUploaded(objectUrl);\r\n          }\r\n        };\r\n        img.src = objectUrl;\r\n        setArtUrl(e.target.files[0]);\r\n        artMeta.size = e.target.files[0].size;\r\n      }\r\n    }\r\n  };\r\n\r\n  const removeCrops = () => {\r\n    croppedArt.map((n) => {\r\n      delete n.thumb;\r\n    });\r\n  };\r\n\r\n  async function newArtPost() {\r\n    var formData = new FormData();\r\n    formData.append(\"title\", title);\r\n    formData.append(\"description\", description);\r\n    formData.append(\"category\", category);\r\n    formData.append(\"tags\", tags);\r\n    formData.append(\"uploadedArtMeta\", uploadedArtMeta);\r\n    formData.append(\"crops\", JSON.stringify(croppedArt));\r\n    formData.append(\"userId\", JSON.parse(localStorage.getItem(\"token\")).id);\r\n    formData.append(\r\n      \"prixerUsername\",\r\n      JSON.parse(localStorage.getItem(\"token\")).username\r\n    );\r\n    formData.append(\"status\", \"Active\");\r\n    formData.append(\"publicId\", publicId);\r\n    formData.append(\"artType\", artType);\r\n    formData.append(\"originalPhotoWidth\", originalPhotoWidth);\r\n    formData.append(\"originalPhotoHeight\", originalPhotoHeight);\r\n    formData.append(\"originalPhotoIso\", originalPhotoIso);\r\n    formData.append(\"originalPhotoPpi\", originalPhotoPpi);\r\n    formData.append(\"artLocation\", location);\r\n    formData.append(\"imageUrl\", artUrl);\r\n    formData.append(\"disabledReason\", disabledReason);\r\n    formData.append(\"visible\", visible);\r\n    const base_url = process.env.REACT_APP_BACKEND_URL + \"/art/create\";\r\n    const data = await axios.post(base_url, formData, {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    });\r\n    if (data.data.success) {\r\n      props.setOpenArtFormDialog(false);\r\n      setBackdrop(false);\r\n      window.location.reload();\r\n    } else {\r\n      setErrorMessage(\r\n        \"Por favor vuelve a intentarlo, puede que exista algún inconveniente de conexión. Si aún no lo has hecho por favor inicia sesión.\"\r\n      );\r\n      setSnackBarError(true);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        xs={12}\r\n        open={props.openArtFormDialog}\r\n        onClose={handleClose}\r\n        TransitionComponent={Transition}\r\n      >\r\n        <Backdrop className={classes.backdrop} open={backdrop}>\r\n          <CircularProgress color=\"inherit\" />\r\n          <p>Esto puede tardar unos pocos minutos.</p>\r\n        </Backdrop>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={handleClose}\r\n              aria-label=\"close\"\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Comparte tu Arte\r\n            </Typography>\r\n            <Button autoFocus color=\"inherit\" onClick={handleSubmit}>\r\n              Guardar\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            <form className={classes.form} noValidate>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12}>\r\n                  <Paper\r\n                    variant=\"outlined\"\r\n                    style={{\r\n                      textAlign: \"center\",\r\n                      hover: { background: \"#000000\" },\r\n                    }}\r\n                  >\r\n                    <div style={{ padding: \"5%\" }}>\r\n                      <input\r\n                        type=\"file\"\r\n                        id=\"inputfile\"\r\n                        accept=\"image/jpeg, image/jpg, image/webp, image/png\"\r\n                        onChange={handleArtChange}\r\n                        style={{ display: \"none\" }}\r\n                      />\r\n                      {!uploaded ? (\r\n                        <label htmlFor=\"inputfile\">\r\n                          <Tooltip\r\n                            title={\r\n                              \"Carga tu arte con un mínimo de 1080px tanto de ancho como de alto. Tu Arte debe pesar máximo 5Mb y estar en formato .jpeg o .png\"\r\n                            }\r\n                          >\r\n                            <Button\r\n                              variant=\"contained\"\r\n                              color=\"primary\"\r\n                              component=\"span\"\r\n                              startIcon={<CloudUploadIcon />}\r\n                            >\r\n                              Cargar arte\r\n                            </Button>\r\n                          </Tooltip>\r\n                        </label>\r\n                      ) : (\r\n                        <AspectRatioSelector\r\n                          art={uploaded}\r\n                          croppedArt={croppedArt}\r\n                          setCroppedArt={setCroppedArt}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  </Paper>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"title\"\r\n                    label=\"Título\"\r\n                    name=\"title\"\r\n                    autoComplete=\"title\"\r\n                    value={title}\r\n                    onChange={(e) => {\r\n                      setTitle(e.target.value);\r\n                    }}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={12}>\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.form}\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                  >\r\n                    <InputLabel required id=\"artTypeLabel\">\r\n                      Tipo\r\n                    </InputLabel>\r\n                    <Select\r\n                      labelId=\"artTypeLabel\"\r\n                      id=\"artType\"\r\n                      value={artType}\r\n                      onChange={handleArtTypeChange}\r\n                      label=\"artType\"\r\n                    >\r\n                      <MenuItem value=\"\">\r\n                        <em></em>\r\n                      </MenuItem>\r\n                      {artTypes.map((n) => (\r\n                        <MenuItem key={n} value={n}>\r\n                          {n}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                {artType === \"Foto\" && (\r\n                  <React.Fragment>\r\n                    <Grid item container xs={12}>\r\n                      <Grid item xs={4} sm={4}>\r\n                        <Typography\r\n                          style={{\r\n                            whiteSpace: \"pre-line\",\r\n                            padding: 15,\r\n                            fontSize: \"0.7em\",\r\n                          }}\r\n                        >\r\n                          {\" \"}\r\n                          Medida del archivo <br /> original en px{\" \"}\r\n                        </Typography>\r\n                      </Grid>\r\n                      <Grid item container xs={8} sm={8}>\r\n                        <Grid item xs={5} sm={5}>\r\n                          <TextField\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            required={requiredPhoto}\r\n                            id=\"originalPhotoWidth\"\r\n                            label=\"Ancho\"\r\n                            type=\"number\"\r\n                            name=\"originalPhotoWidth\"\r\n                            autoComplete=\"originalPhotoWidth\"\r\n                            value={originalPhotoWidth}\r\n                            onChange={(e) => {\r\n                              setOriginalPhotoWidth(e.target.value);\r\n                              if (e.target.value < 2000) {\r\n                                setErrorMessage(\r\n                                  \"La foto original debe tener un ancho mayor a 2.000 px.\"\r\n                                );\r\n                                setSnackBarError(true);\r\n                              }\r\n                            }}\r\n                          />\r\n                        </Grid>\r\n                        <Typography style={{ padding: 10 }}> x </Typography>\r\n                        <Grid item xs={5} sm={5}>\r\n                          <TextField\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            required={requiredPhoto}\r\n                            type=\"number\"\r\n                            id=\"originalPhotoHeight\"\r\n                            label=\"Alto\"\r\n                            name=\"originalPhotoHeight\"\r\n                            autoComplete=\"originalPhotoHeight\"\r\n                            value={originalPhotoHeight}\r\n                            onChange={(e) => {\r\n                              setOriginalPhotoHeight(e.target.value);\r\n                              if (e.target.value < 2000) {\r\n                                setErrorMessage(\r\n                                  \"La foto original debe tener un alto mayor a 2.000 px.\"\r\n                                );\r\n                                setSnackBarError(true);\r\n                              }\r\n                            }}\r\n                          />\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Grid>\r\n                    <Grid item container xs={12}>\r\n                      <Grid item xs={6} sm={6}>\r\n                        <TextField\r\n                          variant=\"outlined\"\r\n                          fullWidth\r\n                          required={requiredPhoto}\r\n                          type=\"number\"\r\n                          id=\"originalPhotoPpi\"\r\n                          label=\"PPI\"\r\n                          name=\"originalPhotoPpi\"\r\n                          autoComplete=\"originalPhotoPpi\"\r\n                          value={originalPhotoPpi}\r\n                          onChange={(e) => {\r\n                            setOriginalPhotoPpi(e.target.value);\r\n                            if (e.target.value < 100) {\r\n                              setErrorMessage(\r\n                                \"La foto original debe ser mayor a 100 ppi.\"\r\n                              );\r\n                              setSnackBarError(true);\r\n                            }\r\n                          }}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={6} sm={6}>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          className={classes.form}\r\n                          xs={12}\r\n                          sm={12}\r\n                          md={12}\r\n                        >\r\n                          <InputLabel\r\n                            required={requiredPhoto}\r\n                            id=\"originalPhotoIsoLabel\"\r\n                          >\r\n                            ISO\r\n                          </InputLabel>\r\n                          <Select\r\n                            labelId=\"originalPhotoIsoLabel\"\r\n                            id=\"originalPhotoIso\"\r\n                            value={originalPhotoIso}\r\n                            onChange={(e) => {\r\n                              setOriginalPhotoIso(e.target.value);\r\n                            }}\r\n                            label=\"originalPhotoIso\"\r\n                          >\r\n                            <MenuItem value=\"\">\r\n                              <em></em>\r\n                            </MenuItem>\r\n                            {photoIsos.map((n) => (\r\n                              <MenuItem key={n} value={n}>\r\n                                {n}\r\n                              </MenuItem>\r\n                            ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                    </Grid>\r\n                    {originalPhotoIso &&\r\n                      originalPhotoWidth &&\r\n                      originalPhotoHeight && (\r\n                        <Grid item container xs={12}>\r\n                          <Grid\r\n                            item\r\n                            xs={6}\r\n                            sm={6}\r\n                            style={{ textAlign: \"center\" }}\r\n                          >\r\n                            <Typography\r\n                              style={{\r\n                                whiteSpace: \"pre-line\",\r\n                                padding: 15,\r\n                                fontSize: \"1em\",\r\n                              }}\r\n                            >\r\n                              {\" \"}\r\n                              Medida máxima <br /> para impresión\r\n                            </Typography>\r\n                          </Grid>\r\n                          <Grid\r\n                            item\r\n                            xs={6}\r\n                            sm={6}\r\n                            style={{ textAlign: \"center\" }}\r\n                          >\r\n                            <Typography\r\n                              style={{\r\n                                whiteSpace: \"pre-line\",\r\n                                padding: 15,\r\n                                fontSize: \"1.5em\",\r\n                              }}\r\n                            >\r\n                              {\" \"}\r\n                              {maxPrintWidthCm} x {maxPrintHeightCm} cm{\" \"}\r\n                            </Typography>\r\n                          </Grid>\r\n                        </Grid>\r\n                      )}\r\n                  </React.Fragment>\r\n                )}\r\n                <Grid item xs={12} sm={12}>\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.form}\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                  >\r\n                    <InputLabel required id=\"categoryLabel\">\r\n                      Categoría\r\n                    </InputLabel>\r\n                    <Select\r\n                      labelId=\"categoryLabel\"\r\n                      id=\"category\"\r\n                      value={category}\r\n                      onChange={handleCategoryChange}\r\n                      label=\"category\"\r\n                    >\r\n                      <MenuItem value=\"\">\r\n                        <em></em>\r\n                      </MenuItem>\r\n                      {categories.map((n) => (\r\n                        <MenuItem key={n} value={n}>\r\n                          {n}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12} sm={12}>\r\n                  <Autocomplete\r\n                    multiple\r\n                    id=\"tags-filled\"\r\n                    options={preTags.map((option) => option)}\r\n                    defaultValue={preTags}\r\n                    freeSolo\r\n                    renderTags={(value, getTagProps) =>\r\n                      value.map(\r\n                        (option, index) => (\r\n                          <Chip\r\n                            variant=\"outlined\"\r\n                            label={option}\r\n                            {...getTagProps({ index })}\r\n                          />\r\n                        ),\r\n                        { ...setTags(value) }\r\n                      )\r\n                    }\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        {...params}\r\n                        variant=\"outlined\"\r\n                        label=\"Etiquetas\"\r\n                      />\r\n                    )}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={12}>\r\n                  <TextField\r\n                    autoComplete=\"description\"\r\n                    required\r\n                    name=\"description\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    id=\"description\"\r\n                    label=\"Descripción\"\r\n                    autoFocus\r\n                    multiline\r\n                    rows={4}\r\n                    value={description}\r\n                    onChange={(e) => setDescription(e.target.value)}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    id=\"location\"\r\n                    label=\"Ubicación\"\r\n                    name=\"location\"\r\n                    autoComplete=\"location\"\r\n                    value={location}\r\n                    onChange={(e) => setLocation(e.target.value)}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </div>\r\n          <Box mt={5}>\r\n            <Copyright />\r\n          </Box>\r\n          <Snackbar\r\n            textalign={\"center\"}\r\n            open={snackBarError}\r\n            autoHideDuration={5000}\r\n            message={errorMessage}\r\n            className={classes.snackbar}\r\n            action={snackBarAction}\r\n            onClose={() => {\r\n              setSnackBarError(false);\r\n              setSnackBarAction(false);\r\n            }}\r\n          />\r\n        </Container>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport AppBar from \"../sharedComponents/appBar/appBar\";\r\nimport FloatingAddButton from \"../sharedComponents/floatingAddButton/floatingAddButton\";\r\nimport UserData from \"./userData/userData\";\r\nimport PrixerOptions from \"./prixerOptions/prixerOptions\";\r\nimport ArtsGrid from \"./grid/grid\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useState } from \"react\";\r\nimport ArtUploader from \"../sharedComponents/artUploader/artUploader\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"left\",\r\n    flexGrow: 1,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  float: {\r\n    position: \"relative\",\r\n    marginLeft: \"95%\",\r\n  },\r\n  paper2: {\r\n    position: \"absolute\",\r\n    width: \"80%\",\r\n    maxHeight: 450,\r\n    overflowY: \"auto\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: \"16px 32px 24px\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    textAlign: \"justify\",\r\n  },\r\n}));\r\n\r\nexport default function PrixerProfile(props) {\r\n  const classes = useStyles();\r\n  const [openArtFormDialog, setOpenArtFormDialog] = useState(false);\r\n  const prixerUsername = props.match.params.username.toLowerCase();\r\n  const [termsAgreeVar, setTermsAgreeVar] = useState(true);\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const TermsAgreeModal = () => {\r\n    const GetId = JSON.parse(localStorage.getItem(\"token\")).username;\r\n    const base_url = process.env.REACT_APP_BACKEND_URL + \"/prixer/get/\" + GetId;\r\n    axios.get(base_url).then((response) => {\r\n      setTermsAgreeVar(response.data.termsAgree);\r\n      getTerms();\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    {\r\n      JSON.parse(localStorage.getItem(\"token\")) && TermsAgreeModal();\r\n    }\r\n  }, []);\r\n\r\n  const getTerms = () => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/termsAndConditions/read\";\r\n    axios\r\n      .get(base_url)\r\n      .then((response) => {\r\n        setValue(response.data.terms.termsAndConditions);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  const handleSubmit = async (e, Id) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    const termsAgree = true;\r\n    formData.append(\"termsAgree\", termsAgree);\r\n    // formData.append(\r\n    //   \"username\",\r\n    //   JSON.parse(localStorage.getItem(\"token\")).username\r\n    // );\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/prixer/update-terms/\" + Id;\r\n    const response = await axios\r\n      .put(\r\n        base_url,\r\n        { termsAgree: true },\r\n        {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        }\r\n      )\r\n      .then((response) => {\r\n        setTermsAgreeVar(true);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\" className={classes.paper}>\r\n      <CssBaseline />\r\n      <Grid>\r\n        <AppBar prixerUsername={prixerUsername} />\r\n      </Grid>\r\n      <UserData prixerUsername={prixerUsername} />\r\n      <PrixerOptions prixerUsername={prixerUsername} />\r\n      <ArtsGrid prixerUsername={prixerUsername} />\r\n      {openArtFormDialog && (\r\n        <ArtUploader\r\n          openArtFormDialog={openArtFormDialog}\r\n          setOpenArtFormDialog={setOpenArtFormDialog}\r\n        />\r\n      )}\r\n      {JSON.parse(localStorage.getItem(\"token\")) &&\r\n        JSON.parse(localStorage.getItem(\"token\")).username && (\r\n          <Grid className={classes.float}>\r\n            <FloatingAddButton setOpenArtFormDialog={setOpenArtFormDialog} />\r\n          </Grid>\r\n        )}\r\n      <Modal\r\n        xl={800}\r\n        lg={800}\r\n        md={480}\r\n        sm={360}\r\n        xs={360}\r\n        open={termsAgreeVar === false}\r\n        onClose={termsAgreeVar === true}\r\n      >\r\n        <div className={classes.paper2}>\r\n          <h2 style={{ textAlign: \"center\", fontWeight: \"Normal\" }}>\r\n            Hemos actualizado nuestros términos y condiciones y queremos que\r\n            estés al tanto.\r\n          </h2>\r\n          <div>\r\n            <div data-color-mode=\"light\">\r\n              <div\r\n                style={{\r\n                  textAlign: \"center\",\r\n                  marginBottom: \"12px\",\r\n                  fontWeight: \"bold\",\r\n                  fontSize: \"1.2rem\",\r\n                }}\r\n              >\r\n                CONVENIO DE RELACIÓN ENTRE LOS ARTISTAS Y LA COMPAÑÍA\r\n              </div>\r\n              <div data-color-mode=\"light\">\r\n                <MDEditor.Markdown\r\n                  source={value}\r\n                  style={{ textAlign: \"justify\" }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style={{ justifyContent: \"center\", display: \"flex\" }}>\r\n            <Button\r\n              onClick={(e) => {\r\n                handleSubmit(\r\n                  e,\r\n                  JSON.parse(localStorage.getItem(\"token\")).username\r\n                );\r\n              }}\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              required\r\n            >\r\n              Acepto los nuevos términos y condiciones\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport axios from \"axios\";\r\nimport AppBar from \"../../sharedComponents/appBar/appBar\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport FloatingAddButton from \"../../sharedComponents/floatingAddButton/floatingAddButton\";\r\nimport ArtUploader from \"../../sharedComponents/artUploader/artUploader\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport utils from \"../../utils/utils\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Img from \"react-cool-img\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\n\r\nconst IOSSwitch = withStyles((theme) => ({\r\n  root: {\r\n    width: 42,\r\n    height: 26,\r\n    padding: 0,\r\n    margin: theme.spacing(1),\r\n  },\r\n  switchBase: {\r\n    padding: 1,\r\n    \"&$checked\": {\r\n      transform: \"translateX(16px)\",\r\n      color: theme.palette.common.white,\r\n      \"& + $track\": {\r\n        backgroundColor: \"primary\",\r\n        opacity: 1,\r\n        border: \"none\",\r\n      },\r\n    },\r\n    \"&$focusVisible $thumb\": {\r\n      color: \"#52d869\",\r\n      border: \"6px solid #fff\",\r\n    },\r\n  },\r\n  thumb: {\r\n    width: 24,\r\n    height: 24,\r\n  },\r\n  track: {\r\n    borderRadius: 26 / 2,\r\n    border: `1px solid ${theme.palette.grey[400]}`,\r\n    backgroundColor: theme.palette.grey[400],\r\n    opacity: 1,\r\n    transition: theme.transitions.create([\"background-color\", \"border\"]),\r\n  },\r\n  checked: {},\r\n  focusVisible: {},\r\n}))(({ classes, ...props }) => {\r\n  return (\r\n    <Switch\r\n      focusVisibleClassName={classes.focusVisible}\r\n      disableRipple\r\n      classes={{\r\n        root: classes.root,\r\n        switchBase: classes.switchBase,\r\n        thumb: classes.thumb,\r\n        track: classes.track,\r\n        checked: classes.checked,\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  loading: {\r\n    display: \"flex\",\r\n    \"& > * + *\": {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n    marginLeft: \"50vw\",\r\n    marginTop: \"50vh\",\r\n  },\r\n  paper: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"left\",\r\n    maxWidth: 850,\r\n    flexGrow: 1,\r\n  },\r\n  root: {\r\n    width: \"100vw\",\r\n  },\r\n  float: {\r\n    position: \"relative\",\r\n    marginLeft: \"87%\",\r\n  },\r\n  paper2: {\r\n    position: \"absolute\",\r\n    width: \"80%\",\r\n    maxHeight: 450,\r\n    overflowY: \"auto\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: \"16px 32px 24px\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    textAlign: \"justify\",\r\n  },\r\n}));\r\n\r\nconst photoIsos = [\"100\", \"200\", \"400\"];\r\n\r\nexport default function FullscreePhoto(props) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [ready, setReady] = useState(false);\r\n  const [tiles, setTiles] = useState([]);\r\n  const [updatedTile, setUpdatedTile] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [artDataState, setArtDataState] = useState();\r\n  const [snackBar, setSnackBar] = useState(false);\r\n  const [snackBarMessage, setSnackBarMessage] = useState(false);\r\n  const [openArtFormDialog, setOpenArtFormDialog] = useState(false);\r\n  const [selectedArt, setSelectedArt] = useState(undefined);\r\n  const [hiddenArt, setHiddenArt] = useState(undefined);\r\n  const [open, setOpen] = useState(false);\r\n  const [openV, setOpenV] = useState(false);\r\n  const [disabledReason, setDisabledReason] = useState(\"\");\r\n  const [visible, setVisible] = useState(true);\r\n  let [points, setPoints] = useState(50);\r\n  const [termsAgreeVar, setTermsAgreeVar] = useState(true);\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const propsRank = {\r\n    min: 0,\r\n    max: 100,\r\n  };\r\n\r\n  const handleArtEdit = (e, tile) => {\r\n    setLoading(true);\r\n    if (artDataState === tile.artId) {\r\n      if (updatedTile.title !== \"\" && updatedTile.description !== \"\") {\r\n        setUpdatedTile(tile);\r\n        setArtDataState(\"\");\r\n        setSnackBarMessage(\"Arte actualizado correctamente\");\r\n        setSnackBar(true);\r\n      } else {\r\n        setSnackBarMessage(\"Por favor llena los campos requeridos\");\r\n        setSnackBar(true);\r\n      }\r\n    } else {\r\n      setArtDataState(tile.artId);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleArtDescriptionEdit = async (e, tile) => {\r\n    let tempTiles = tiles;\r\n    let result = await descriptionEdit(tempTiles, tile, e);\r\n    setTiles(result);\r\n  };\r\n\r\n  const handleArtTitleEdit = async (e, tile) => {\r\n    let tempTiles = tiles;\r\n    let result = await titleEdit(tempTiles, tile, e);\r\n    setTiles(result);\r\n  };\r\n\r\n  const handleOriginalPhotoHeight = async (e, tile) => {\r\n    let tempTiles = tiles;\r\n    let result = await originalPhotoHeightEdit(tempTiles, tile, e);\r\n    setTiles(result);\r\n  };\r\n\r\n  const handleOriginalPhotoWidth = async (e, tile) => {\r\n    let tempTiles = tiles;\r\n    let result = await originalPhotoWidthEdit(tempTiles, tile, e);\r\n    setTiles(result);\r\n  };\r\n\r\n  const handleOriginalPhotoPpi = async (e, tile) => {\r\n    let tempTiles = tiles;\r\n    let result = await originalPhotoPpiEdit(tempTiles, tile, e);\r\n    setTiles(result);\r\n  };\r\n\r\n  const handleOriginalPhotoIso = async (e, tile) => {\r\n    let tempTiles = tiles;\r\n    let result = await originalPhotoIsoEdit(tempTiles, tile, e);\r\n    setTiles(result);\r\n  };\r\n\r\n  // const handleArtTagsEdit = async (e, tile, tags) => {\r\n  //   let tempTiles = tiles;\r\n  //   setNewTag = tile.tags;\r\n  //   let result = await tagsEdit(tempTiles, tile, e, tags);\r\n  //   setTiles(result);\r\n  // };\r\n\r\n  const handleArtLocationEdit = async (e, tile) => {\r\n    let tempTiles = tiles;\r\n    let result = await locationEdit(tempTiles, tile, e);\r\n    setTiles(result);\r\n  };\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClickVisible = () => {\r\n    setOpenV(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setSelectedArt(undefined);\r\n  };\r\n  const handleCloseVisible = () => {\r\n    setOpenV(false);\r\n    setHiddenArt(undefined);\r\n  };\r\n  function tagsEdit(tempTiles, tile, e, tags) {\r\n    console.log(tempTiles);\r\n    return tempTiles.map((item) => {\r\n      const result = tags.trim().split(/\\s+/);\r\n      if (item.artId === tile.artId) {\r\n        item.tags = tags;\r\n      }\r\n      console.log(result);\r\n      return item;\r\n    });\r\n  }\r\n\r\n  function locationEdit(tempTiles, tile, e) {\r\n    return tempTiles.map((item) => {\r\n      if (item.artId === tile.artId) {\r\n        item.artLocation = e.target.value;\r\n      }\r\n      return item;\r\n    });\r\n  }\r\n\r\n  function titleEdit(tempTiles, tile, e) {\r\n    return tempTiles.map((item) => {\r\n      if (item.artId === tile.artId) {\r\n        item.title = e.target.value;\r\n      }\r\n      return item;\r\n    });\r\n  }\r\n\r\n  function originalPhotoHeightEdit(tempTiles, tile, e) {\r\n    return tempTiles.map((item) => {\r\n      if (item.artId === tile.artId) {\r\n        item.originalPhotoHeight = e.target.value;\r\n      }\r\n      return item;\r\n    });\r\n  }\r\n\r\n  function originalPhotoWidthEdit(tempTiles, tile, e) {\r\n    return tempTiles.map((item) => {\r\n      if (item.artId === tile.artId) {\r\n        item.originalPhotoWidth = e.target.value;\r\n      }\r\n      return item;\r\n    });\r\n  }\r\n\r\n  function originalPhotoPpiEdit(tempTiles, tile, e) {\r\n    return tempTiles.map((item) => {\r\n      if (item.artId === tile.artId) {\r\n        item.originalPhotoPpi = e.target.value;\r\n      }\r\n      return item;\r\n    });\r\n  }\r\n\r\n  function originalPhotoIsoEdit(tempTiles, tile, e) {\r\n    return tempTiles.map((item) => {\r\n      if (item.artId === tile.artId) {\r\n        item.originalPhotoIso = e.target.value;\r\n      }\r\n      return item;\r\n    });\r\n  }\r\n\r\n  function descriptionEdit(tempTiles, tile, e) {\r\n    return tempTiles.map((item) => {\r\n      if (item.artId === tile.artId) {\r\n        item.description = e.target.value;\r\n      }\r\n      return item;\r\n    });\r\n  }\r\n\r\n  const maxPrintValues = (tile) => {\r\n    const [maxPrintWidthCm, maxPrintHeightCm] = utils.maxPrintCalc(\r\n      tile.originalPhotoWidth,\r\n      tile.originalPhotoHeight,\r\n      tile.originalPhotoPpi,\r\n      tile.originalPhotoIso\r\n    );\r\n\r\n    return maxPrintWidthCm + \" x \" + maxPrintHeightCm + \" cm\";\r\n  };\r\n\r\n  const navigateToPrixer = (e, prixerUsername) => {\r\n    e.preventDefault();\r\n    history.push({ pathname: \"/\" + prixerUsername });\r\n  };\r\n\r\n  // const copyCodeToClipboard = (e, tile) => {\r\n  //   const el = document.createElement('textarea');\r\n  //   el.value = utils.generateArtMessage(tile, 'copy');\r\n  //   document.body.appendChild(el);\r\n  //   el.select();\r\n  //   document.execCommand('copy');\r\n  //   document.body.removeChild(el);\r\n  // }\r\n\r\n  const deleteArt = async () => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/art/delete/\" + selectedArt;\r\n    let res = await axios.delete(base_url);\r\n    handleClose();\r\n    setSnackBarMessage(\"Arte eliminado exitosamente\");\r\n    setSnackBar(true);\r\n    readArt();\r\n  };\r\n\r\n  const setVisibleArt = async (art, id, event) => {\r\n    setLoading(true);\r\n    if (event.target.checked === true) {\r\n      const base_url = process.env.REACT_APP_BACKEND_URL + \"/art/disable/\" + id;\r\n      art.visible = visible;\r\n      const response = await axios.put(base_url, art);\r\n      setSnackBarMessage(\"Arte modificado exitosamente\");\r\n      setSnackBar(true);\r\n      setLoading(false);\r\n      setDisabledReason(\"\");\r\n      setHiddenArt(undefined);\r\n    } else {\r\n      const base_url = process.env.REACT_APP_BACKEND_URL + \"/art/disable/\" + id;\r\n      art.visible = visible;\r\n      art.disabledReason = disabledReason;\r\n      const response = await axios.put(base_url, art);\r\n      handleClose();\r\n      setSnackBarMessage(\"Arte modificado exitosamente\");\r\n      setSnackBar(true);\r\n      setLoading(false);\r\n      setDisabledReason(\"\");\r\n    }\r\n    readArt();\r\n  };\r\n\r\n  const rankArt = async (art, id, event) => {\r\n    setLoading(true);\r\n    const URI = process.env.REACT_APP_BACKEND_URL + \"/art/rank/\" + id;\r\n    art.points = parseInt(points);\r\n    const response = await axios.put(URI, art);\r\n    setSnackBarMessage(\"Puntuación agregada exitosamente\");\r\n    setInterval(() => {\r\n      setLoading(false);\r\n    }, 3000);\r\n    setSnackBar(true);\r\n    setSelectedArt(undefined);\r\n    readArt();\r\n  };\r\n\r\n  // const getChecked = () => {\r\n  //   setChecked((check) => !check);\r\n  // };\r\n\r\n  const readArt = async () => {\r\n    setLoading(true);\r\n    if (tiles) {\r\n      const base_url =\r\n        process.env.REACT_APP_BACKEND_URL + \"/art/read-by-prixer\";\r\n      const data = {\r\n        username: props.match.params.username,\r\n      };\r\n      await axios.post(base_url, data).then((response) => {\r\n        if (tiles.length !== response.data.arts.length) {\r\n          setTiles(response.data.arts);\r\n          setReady(true);\r\n          if (document.getElementById(props.match.params.artId)) {\r\n            document.getElementById(props.match.params.artId).scrollIntoView({\r\n              behavior: \"smooth\",\r\n              block: \"center\",\r\n            });\r\n          } else {\r\n            setSnackBarMessage(\r\n              \"Arte no encontrado, por favor inténtalo de nuevo.\"\r\n            );\r\n            setSnackBar(true);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    setLoading(false);\r\n  };\r\n  useEffect(() => {\r\n    readArt();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    if (artDataState === \"\") {\r\n      const base_url =\r\n        process.env.REACT_APP_BACKEND_URL + \"/art/update/\" + selectedArt;\r\n      const data = {\r\n        title: updatedTile.title,\r\n        description: updatedTile.description,\r\n        tags: updatedTile.tags,\r\n        category: updatedTile.category,\r\n        artId: updatedTile.artId,\r\n        artType: updatedTile.artType,\r\n        artLocation: updatedTile.artLocation,\r\n      };\r\n      axios\r\n        .put(base_url, data)\r\n        .then((response) => {\r\n          if (response.data.data.success == true) {\r\n            setSnackBarMessage(response.data.data.success);\r\n            setSnackBar(true);\r\n            setSelectedArt(undefined);\r\n          } else {\r\n            setSnackBarMessage(response.data.data.error_message);\r\n            setSnackBar(true);\r\n            setSelectedArt(undefined);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          // console.log(error);\r\n          setSelectedArt(undefined);\r\n        });\r\n    }\r\n    setLoading(false);\r\n  }, [artDataState]);\r\n\r\n  const getTerms = () => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/termsAndConditions/read\";\r\n    axios\r\n      .get(base_url)\r\n      .then((response) => {\r\n        setValue(response.data.terms.termsAndConditions);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  const handleSubmit = async (e, Id) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    const termsAgree = true;\r\n    formData.append(\"termsAgree\", termsAgree);\r\n    // formData.append(\r\n    //   \"username\",\r\n    //   JSON.parse(localStorage.getItem(\"token\")).username\r\n    // );\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/prixer/update-terms/\" + Id;\r\n    const response = await axios\r\n      .put(\r\n        base_url,\r\n        { termsAgree: true },\r\n        {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        }\r\n      )\r\n      .then((response) => {\r\n        setTermsAgreeVar(true);\r\n      });\r\n  };\r\n\r\n  const TermsAgreeModal = () => {\r\n    const GetId = JSON.parse(localStorage.getItem(\"token\")).username;\r\n    const base_url = process.env.REACT_APP_BACKEND_URL + \"/prixer/get/\" + GetId;\r\n    axios.get(base_url).then((response) => {\r\n      setTermsAgreeVar(response.data.termsAgree);\r\n      getTerms();\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    {\r\n      JSON.parse(localStorage.getItem(\"token\")) && TermsAgreeModal();\r\n    }\r\n  }, []);\r\n\r\n  return !ready ? (\r\n    <div className={classes.loading}>\r\n      <CircularProgress />\r\n    </div>\r\n  ) : (\r\n    <>\r\n      <div>\r\n        <AppBar />\r\n      </div>\r\n      <Container component=\"main\" className={classes.paper}>\r\n        <div style={{ marginTop: 55 }}>\r\n          {tiles ? (\r\n            tiles.map((tile) =>\r\n              artDataState !== tile.artId ? (\r\n                <div id={tile.artId} key={tile.artId}>\r\n                  {tile.visible === true ? (\r\n                    <Card style={{ marginTop: 35 }}>\r\n                      <CardActionArea disabled>\r\n                        <Img\r\n                          placeholder=\"/imgLoading.svg\"\r\n                          style={{ backgroundColor: \"#eeeeee\", width: \"100%\" }}\r\n                          src={tile.largeThumbUrl || tile.thumbnailUrl}\r\n                          debounce={1000} // Default is 300 (ms)\r\n                          cache\r\n                          error=\"/imgError.svg\"\r\n                          srcSet={\r\n                            tile.smallThumbUrl +\r\n                            \" 600w, \" +\r\n                            tile.mediumThumbUrl +\r\n                            \" 850w, \" +\r\n                            tile.largeThumbUrl +\r\n                            \" 1300w\"\r\n                          }\r\n                          sizes=\"(min-width: 960px) 1300px, (min-width: 640px) 850px, 600px\"\r\n                          alt={tile.title}\r\n                          id={tile.artId}\r\n                        />\r\n                      </CardActionArea>\r\n                      <CardContent>\r\n                        <Grid\r\n                          item\r\n                          container\r\n                          xs={12}\r\n                          sm={12}\r\n                          style={{\r\n                            whiteSpace: \"nowrap\",\r\n                            padding: 0,\r\n                            margin: 0,\r\n                          }}\r\n                          justify=\"space-between\"\r\n                        >\r\n                          <Typography\r\n                            style={{\r\n                              display: \"inline-block\",\r\n                              fontSize: \"0.8em\",\r\n                              paddingLeft: 0,\r\n                            }}\r\n                          >\r\n                            ID: {tile.artId}\r\n                          </Typography>\r\n                          <Grid\r\n                            container\r\n                            spacing={1}\r\n                            style={{\r\n                              flexWrap: \"nowrap\",\r\n                              alignItems: \"center\",\r\n                              justifyContent: \"flex-end\",\r\n                              marginBottom: \"-35px\",\r\n                            }}\r\n                          >\r\n                            <Grid item>\r\n                              <Button\r\n                                size=\"small\"\r\n                                variant=\"outlined\"\r\n                                onClick={(e) =>\r\n                                  navigateToPrixer(e, tile.prixerUsername)\r\n                                }\r\n                              >\r\n                                <Typography\r\n                                  gutterBottom\r\n                                  variant=\"h7\"\r\n                                  component=\"h2\"\r\n                                  style={{\r\n                                    display: \"inline-block\",\r\n                                    right: 0,\r\n                                    textAlign: \"right\",\r\n                                    margin: 0,\r\n                                    fontSize: 12,\r\n                                  }}\r\n                                >\r\n                                  Prixer: {tile.prixerUsername}\r\n                                </Typography>\r\n                              </Button>\r\n                            </Grid>\r\n                            <Grid item>\r\n                              {JSON.parse(\r\n                                localStorage.getItem(\"adminToken\")\r\n                              ) && (\r\n                                <Button\r\n                                  size=\"small\"\r\n                                  color=\"primary\"\r\n                                  variant=\"contained\"\r\n                                  disabled\r\n                                >\r\n                                  <Typography>Puntos: {tile.points}</Typography>\r\n                                </Button>\r\n                              )}\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n                        <Grid\r\n                          item\r\n                          container\r\n                          xs={12}\r\n                          sm={12}\r\n                          justify=\"space-between\"\r\n                          style={{ textAlign: \"left\", padding: 0, margin: 0 }}\r\n                        >\r\n                          <Grid\r\n                            item\r\n                            xs={6}\r\n                            sm={6}\r\n                            style={{ textAlign: \"left\", padding: 0, margin: 0 }}\r\n                          >\r\n                            <Typography\r\n                              gutterBottom\r\n                              variant=\"h5\"\r\n                              component=\"h2\"\r\n                              style={{ margin: 0 }}\r\n                            >\r\n                              {tile.title}\r\n                            </Typography>\r\n                          </Grid>\r\n                        </Grid>\r\n                        <Grid\r\n                          item\r\n                          container\r\n                          xs={12}\r\n                          sm={12}\r\n                          style={{ textAlign: \"left\", padding: 0, margin: 0 }}\r\n                        >\r\n                          {tile.artLocation && (\r\n                            <Typography\r\n                              style={{\r\n                                fontSize: \"0.8em\",\r\n                                paddingBottom: 10,\r\n                                paddingLeft: 3,\r\n                              }}\r\n                            >\r\n                              Ubicación: {tile.artLocation}\r\n                            </Typography>\r\n                          )}\r\n                        </Grid>\r\n                        <Typography\r\n                          variant=\"body2\"\r\n                          color=\"textSecondary\"\r\n                          component=\"p\"\r\n                          style={{\r\n                            whiteSpace: \"pre-line\",\r\n                            fontSize: \"1.1em\",\r\n                            marginBottom: 10,\r\n                          }}\r\n                        >\r\n                          {tile.description}\r\n                        </Typography>\r\n                        {tile.originalPhotoHeight && tile.originalPhotoWidth && (\r\n                          <Typography\r\n                            variant=\"body2\"\r\n                            color=\"textSecondary\"\r\n                            component=\"p\"\r\n                          >\r\n                            Máximo para impresión: {maxPrintValues(tile)}\r\n                          </Typography>\r\n                        )}\r\n                      </CardContent>\r\n                      <CardActions>\r\n                        {/* <Button size=\"small\" color=\"primary\">\r\n                  Comparte\r\n                </Button> */}\r\n                        <Button\r\n                          size=\"small\"\r\n                          color=\"primary\"\r\n                          onClick={(e) => {\r\n                            window.open(\r\n                              utils.generateWaMessage(tile),\r\n                              \"_blank\"\r\n                            );\r\n                          }}\r\n                        >\r\n                          <WhatsAppIcon /> Escríbenos\r\n                        </Button>\r\n                        {JSON.parse(localStorage.getItem(\"token\")) &&\r\n                          JSON.parse(localStorage.getItem(\"token\")).username ==\r\n                            tile.prixerUsername && (\r\n                            <Button\r\n                              size=\"small\"\r\n                              color=\"primary\"\r\n                              onClick={(e) => {\r\n                                handleArtEdit(e, tile);\r\n                                setSelectedArt(tile.artId);\r\n                              }}\r\n                            >\r\n                              Editar\r\n                            </Button>\r\n                          )}\r\n                        {JSON.parse(localStorage.getItem(\"adminToken\")) && (\r\n                          <IOSSwitch\r\n                            color=\"primary\"\r\n                            size=\"normal\"\r\n                            checked={tile.visible}\r\n                            onChange={(e) => {\r\n                              setHiddenArt(tile.artId);\r\n                              if (e.target.checked === false) {\r\n                                handleClickVisible();\r\n                                setVisible(e.target.checked);\r\n                              } else {\r\n                                setVisibleArt(tile, tile.artId, e);\r\n                                setVisible(e.target.checked);\r\n                              }\r\n                            }}\r\n                          />\r\n                        )}\r\n                        {JSON.parse(localStorage.getItem(\"adminToken\")) && (\r\n                          <>\r\n                            <FormControl>\r\n                              <Grid\r\n                                container\r\n                                spacing={0.5}\r\n                                flexWrap=\"nowrap\"\r\n                                justifyContent=\"center\"\r\n                                alignItems=\"center\"\r\n                                flexDirection=\"row\"\r\n                              >\r\n                                <Grid item xs={8}>\r\n                                  <TextField\r\n                                    type=\"number\"\r\n                                    variant=\"outlined\"\r\n                                    placeholder=\"Points\"\r\n                                    inputProps={propsRank}\r\n                                    onChange={(e) => {\r\n                                      setPoints(e.target.value);\r\n                                    }}\r\n                                  />\r\n                                </Grid>\r\n                                <Grid item xs={3}>\r\n                                  <Button\r\n                                    color=\"primary\"\r\n                                    variant=\"outlined\"\r\n                                    onClick={(e) => {\r\n                                      rankArt(tile, tile.artId, e);\r\n                                    }}\r\n                                  >\r\n                                    Enviar\r\n                                  </Button>\r\n                                </Grid>\r\n                              </Grid>\r\n                            </FormControl>\r\n                            <Dialog\r\n                              open={hiddenArt === tile.artId}\r\n                              onClose={handleCloseVisible}\r\n                            >\r\n                              <DialogTitle>\r\n                                {\"¿Estás seguro de ocultar este arte?\"}\r\n                              </DialogTitle>\r\n                              <DialogContent>\r\n                                <DialogContentText\r\n                                  style={{\r\n                                    textAlign: \"center\",\r\n                                  }}\r\n                                >\r\n                                  Este arte ya no será visible en este perfil y\r\n                                  la página de inicio.\r\n                                </DialogContentText>\r\n                              </DialogContent>\r\n                              <Grid\r\n                                item\r\n                                xs\r\n                                style={{\r\n                                  display: \"flex\",\r\n                                  justifyContent: \"center\",\r\n                                }}\r\n                              >\r\n                                <TextField\r\n                                  style={{ width: \"95%\", marginBottom: \"5px\" }}\r\n                                  fullWidth\r\n                                  multiline\r\n                                  required\r\n                                  id=\"disableReason\"\r\n                                  label=\"¿Por qué quieres ocultar este arte?\"\r\n                                  variant=\"outlined\"\r\n                                  onChange={(e) => {\r\n                                    setDisabledReason(e.target.value);\r\n                                    // handleArtTitleEdit(e, tile);\r\n                                  }}\r\n                                />\r\n                              </Grid>\r\n                              <DialogActions>\r\n                                <Button\r\n                                  onClick={handleCloseVisible}\r\n                                  color=\"primary\"\r\n                                >\r\n                                  Cancelar\r\n                                </Button>\r\n                                <Button\r\n                                  onClick={(e) => {\r\n                                    setVisibleArt(tile, selectedArt, e);\r\n                                    setHiddenArt(undefined);\r\n                                    handleCloseVisible();\r\n                                  }}\r\n                                  background=\"primary\"\r\n                                  style={{\r\n                                    color: \"white\",\r\n                                    backgroundColor: \"#d33f49\",\r\n                                  }}\r\n                                >\r\n                                  Aceptar\r\n                                </Button>\r\n                              </DialogActions>\r\n                            </Dialog>\r\n                          </>\r\n                        )}\r\n\r\n                        {JSON.parse(localStorage.getItem(\"token\")) &&\r\n                          JSON.parse(localStorage.getItem(\"token\")).username ==\r\n                            tile.prixerUsername && (\r\n                            <Button\r\n                              color=\"primary\"\r\n                              size=\"small\"\r\n                              onClick={(e) => {\r\n                                handleClickOpen(e);\r\n                                setSelectedArt(tile.artId);\r\n                              }}\r\n                            >\r\n                              Eliminar\r\n                            </Button>\r\n                          )}\r\n                        <Dialog\r\n                          open={open}\r\n                          onClose={handleClose}\r\n                          aria-labelledby=\"alert-dialog-title\"\r\n                          aria-describedby=\"alert-dialog-description\"\r\n                        >\r\n                          <DialogTitle id=\"alert-dialog-title\">\r\n                            {\"¿Estás seguro de eliminar este arte?\"}\r\n                          </DialogTitle>\r\n                          <DialogContent>\r\n                            <DialogContentText\r\n                              id=\"alert-dialog-description\"\r\n                              style={{\r\n                                textAlign: \"center\",\r\n                              }}\r\n                            >\r\n                              Este arte se eliminará permanentemente de tu\r\n                              perfil.\r\n                            </DialogContentText>\r\n                          </DialogContent>\r\n                          <DialogActions>\r\n                            <Button onClick={handleClose} color=\"primary\">\r\n                              Cancelar\r\n                            </Button>\r\n                            <Button\r\n                              onClick={() => {\r\n                                deleteArt(selectedArt);\r\n                                setSelectedArt(undefined);\r\n                              }}\r\n                              background=\"primary\"\r\n                              style={{\r\n                                color: \"white\",\r\n                                backgroundColor: \"#d33f49\",\r\n                              }}\r\n                            >\r\n                              Aceptar\r\n                            </Button>\r\n                          </DialogActions>\r\n                        </Dialog>\r\n\r\n                        {/* <Button size=\"small\" color=\"primary\" onClick={(e)=>{copyCodeToClipboard(e, tile)}}>\r\n                  <FileCopyIcon/>\r\n                </Button> */}\r\n                      </CardActions>\r\n                    </Card>\r\n                  ) : (\r\n                    JSON.parse(localStorage.getItem(\"adminToken\")) && (\r\n                      <Card style={{ marginTop: 35 }}>\r\n                        <CardActionArea disabled>\r\n                          <Img\r\n                            placeholder=\"/imgLoading.svg\"\r\n                            style={{\r\n                              backgroundColor: \"#eeeeee\",\r\n                              width: \"100%\",\r\n                            }}\r\n                            src={tile.largeThumbUrl || tile.thumbnailUrl}\r\n                            debounce={1000} // Default is 300 (ms)\r\n                            cache\r\n                            error=\"/imgError.svg\"\r\n                            srcSet={\r\n                              tile.smallThumbUrl +\r\n                              \" 600w, \" +\r\n                              tile.mediumThumbUrl +\r\n                              \" 850w, \" +\r\n                              tile.largeThumbUrl +\r\n                              \" 1300w\"\r\n                            }\r\n                            sizes=\"(min-width: 960px) 1300px, (min-width: 640px) 850px, 600px\"\r\n                            alt={tile.title}\r\n                            id={tile.artId}\r\n                          />\r\n                        </CardActionArea>\r\n                        <CardContent>\r\n                          <Grid\r\n                            item\r\n                            container\r\n                            xs={12}\r\n                            sm={12}\r\n                            style={{\r\n                              whiteSpace: \"nowrap\",\r\n                              padding: 0,\r\n                              margin: 0,\r\n                            }}\r\n                            justify=\"space-between\"\r\n                          >\r\n                            <Typography\r\n                              style={{\r\n                                display: \"inline-block\",\r\n                                fontSize: \"0.8em\",\r\n                                paddingLeft: 0,\r\n                              }}\r\n                            >\r\n                              ID: {tile.artId}\r\n                            </Typography>\r\n                            <Button\r\n                              size=\"small\"\r\n                              variant=\"outlined\"\r\n                              onClick={(e) =>\r\n                                navigateToPrixer(e, tile.prixerUsername)\r\n                              }\r\n                            >\r\n                              <Typography\r\n                                gutterBottom\r\n                                variant=\"h7\"\r\n                                component=\"h2\"\r\n                                style={{\r\n                                  display: \"inline-block\",\r\n                                  right: 0,\r\n                                  textAlign: \"right\",\r\n                                  margin: 0,\r\n                                  fontSize: 12,\r\n                                }}\r\n                              >\r\n                                Prixer: {tile.prixerUsername}\r\n                              </Typography>\r\n                            </Button>\r\n                          </Grid>\r\n                          <Grid\r\n                            item\r\n                            container\r\n                            xs={12}\r\n                            sm={12}\r\n                            justify=\"space-between\"\r\n                            style={{ textAlign: \"left\", padding: 0, margin: 0 }}\r\n                          >\r\n                            <Grid\r\n                              item\r\n                              xs={6}\r\n                              sm={6}\r\n                              style={{\r\n                                textAlign: \"left\",\r\n                                padding: 0,\r\n                                margin: 0,\r\n                              }}\r\n                            >\r\n                              <Typography\r\n                                gutterBottom\r\n                                variant=\"h5\"\r\n                                component=\"h2\"\r\n                                style={{ margin: 0 }}\r\n                              >\r\n                                {tile.title}\r\n                              </Typography>\r\n                            </Grid>\r\n                          </Grid>\r\n                          <Grid\r\n                            item\r\n                            container\r\n                            xs={12}\r\n                            sm={12}\r\n                            style={{ textAlign: \"left\", padding: 0, margin: 0 }}\r\n                          >\r\n                            {tile.artLocation && (\r\n                              <Typography\r\n                                style={{\r\n                                  fontSize: \"0.8em\",\r\n                                  paddingBottom: 10,\r\n                                  paddingLeft: 3,\r\n                                }}\r\n                              >\r\n                                Ubicación: {tile.artLocation}\r\n                              </Typography>\r\n                            )}\r\n                          </Grid>\r\n                          <Typography\r\n                            variant=\"body2\"\r\n                            color=\"textSecondary\"\r\n                            component=\"p\"\r\n                            style={{\r\n                              whiteSpace: \"pre-line\",\r\n                              fontSize: \"1.1em\",\r\n                              marginBottom: 10,\r\n                            }}\r\n                          >\r\n                            {tile.description}\r\n                          </Typography>\r\n                          {tile.originalPhotoHeight && tile.originalPhotoWidth && (\r\n                            <Typography\r\n                              variant=\"body2\"\r\n                              color=\"textSecondary\"\r\n                              component=\"p\"\r\n                            >\r\n                              Máximo para impresión: {maxPrintValues(tile)}\r\n                            </Typography>\r\n                          )}\r\n                        </CardContent>\r\n                        <CardActions>\r\n                          {/* <Button size=\"small\" color=\"primary\">\r\n                  Comparte\r\n                </Button> */}\r\n                          <Button\r\n                            size=\"small\"\r\n                            color=\"primary\"\r\n                            onClick={(e) => {\r\n                              window.open(\r\n                                utils.generateWaMessage(tile),\r\n                                \"_blank\"\r\n                              );\r\n                            }}\r\n                          >\r\n                            <WhatsAppIcon /> Escríbenos\r\n                          </Button>\r\n                          {JSON.parse(localStorage.getItem(\"adminToken\")) && (\r\n                            <IOSSwitch\r\n                              color=\"primary\"\r\n                              size=\"normal\"\r\n                              onChange={(e) => {\r\n                                if (e.target.checked === false) {\r\n                                  handleClickVisible();\r\n                                  setVisible(e.target.checked);\r\n                                  setHiddenArt(tile.artId);\r\n                                } else {\r\n                                  setVisible(e.target.checked);\r\n                                  setVisibleArt(tile, tile.artId, e);\r\n                                }\r\n                              }}\r\n                            ></IOSSwitch>\r\n                          )}\r\n                          {JSON.parse(localStorage.getItem(\"token\")) &&\r\n                            JSON.parse(localStorage.getItem(\"token\"))\r\n                              .username == tile.prixerUsername && (\r\n                              <Button\r\n                                color=\"primary\"\r\n                                size=\"small\"\r\n                                onClick={(e) => {\r\n                                  handleClickOpen(e);\r\n                                  setSelectedArt(tile.artId);\r\n                                }}\r\n                              >\r\n                                Eliminar\r\n                              </Button>\r\n                            )}\r\n                          <Dialog\r\n                            open={open}\r\n                            onClose={handleClose}\r\n                            aria-labelledby=\"alert-dialog-title\"\r\n                            aria-describedby=\"alert-dialog-description\"\r\n                          >\r\n                            <DialogTitle id=\"alert-dialog-title\">\r\n                              {\"¿Estás seguro de eliminar este arte?\"}\r\n                            </DialogTitle>\r\n                            <DialogContent>\r\n                              <DialogContentText\r\n                                id=\"alert-dialog-description\"\r\n                                style={{\r\n                                  textAlign: \"center\",\r\n                                }}\r\n                              >\r\n                                Este arte se eliminará permanentemente de tu\r\n                                perfil.\r\n                              </DialogContentText>\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                              <Button onClick={handleClose} color=\"primary\">\r\n                                Cancelar\r\n                              </Button>\r\n                              <Button\r\n                                onClick={() => {\r\n                                  deleteArt(selectedArt);\r\n                                  setSelectedArt(undefined);\r\n                                }}\r\n                                background=\"primary\"\r\n                                style={{\r\n                                  color: \"white\",\r\n                                  backgroundColor: \"#d33f49\",\r\n                                }}\r\n                              >\r\n                                Aceptar\r\n                              </Button>\r\n                            </DialogActions>\r\n                          </Dialog>\r\n                        </CardActions>\r\n                      </Card>\r\n                    )\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <Card id={tile.artId} key={tile.artId}>\r\n                  <Img\r\n                    placeholder=\"/imgLoading.svg\"\r\n                    style={{ backgroundColor: \"#eeeeee\", height: \"100%\" }}\r\n                    src={tile.largeThumbUrl || tile.thumbnailUrl}\r\n                    debounce={1000} // Default is 300 (ms)\r\n                    cache\r\n                    error=\"/imgError.svg\"\r\n                    srcSet={\r\n                      tile.smallThumbUrl +\r\n                      \" 600w, \" +\r\n                      tile.mediumThumbUrl +\r\n                      \" 850w, \" +\r\n                      tile.largeThumbUrl +\r\n                      \" 1300w\"\r\n                    }\r\n                    sizes=\"(min-width: 960px) 1300px, (min-width: 640px) 850px, 600px\"\r\n                    alt={tile.title}\r\n                    id={tile.artId}\r\n                  />\r\n                  <CardContent>\r\n                    <Grid item xs={12} container>\r\n                      <Grid item xs container direction=\"column\">\r\n                        <Grid item xs>\r\n                          <Grid item xs>\r\n                            <TextField\r\n                              fullWidth\r\n                              required\r\n                              id=\"artTitle\"\r\n                              label=\"Titulo del arte\"\r\n                              variant=\"outlined\"\r\n                              value={tile.title}\r\n                              onChange={(e) => {\r\n                                // setTitle(e.target.value);\r\n                                handleArtTitleEdit(e, tile);\r\n                              }}\r\n                            />\r\n                          </Grid>\r\n                          {tile.artType === \"Foto\" && (\r\n                            <React.Fragment>\r\n                              <Grid\r\n                                item\r\n                                container\r\n                                xs={12}\r\n                                style={{ paddingTop: 15, paddingBottom: 15 }}\r\n                              >\r\n                                <Grid\r\n                                  item\r\n                                  xs={12}\r\n                                  sm={12}\r\n                                  style={{ textAlign: \"left\" }}\r\n                                >\r\n                                  <Typography\r\n                                    style={{\r\n                                      whiteSpace: \"pre-line\",\r\n                                      fontSize: \"1.3em\",\r\n                                    }}\r\n                                  >\r\n                                    {\" \"}\r\n                                    Medida del archivo original{\" \"}\r\n                                  </Typography>\r\n                                </Grid>\r\n                                {tile.originalPhotoWidth &&\r\n                                  tile.originalPhotoHeight && (\r\n                                    <Grid\r\n                                      item\r\n                                      container\r\n                                      xs={12}\r\n                                      sm={12}\r\n                                      style={{ paddingTop: 15 }}\r\n                                      justify=\"space-between\"\r\n                                    >\r\n                                      <Grid item xs={5} sm={5}>\r\n                                        <TextField\r\n                                          variant=\"outlined\"\r\n                                          fullWidth\r\n                                          id=\"originalPhotoWidth\"\r\n                                          label=\"Ancho\"\r\n                                          type=\"number\"\r\n                                          name=\"originalPhotoWidth\"\r\n                                          autoComplete=\"originalPhotoWidth\"\r\n                                          value={tile.originalPhotoWidth}\r\n                                          onChange={(e) => {\r\n                                            handleOriginalPhotoWidth(e, tile);\r\n                                            if (e.target.value < 2000) {\r\n                                              setSnackBarMessage(\r\n                                                \"La foto original debe tener un ancho mayor a 2.000 px.\"\r\n                                              );\r\n                                              setSnackBar(true);\r\n                                            }\r\n                                          }}\r\n                                        />\r\n                                      </Grid>\r\n                                      <Typography style={{ paddingTop: 13 }}>\r\n                                        {\" \"}\r\n                                        x{\" \"}\r\n                                      </Typography>\r\n                                      <Grid item xs={5} sm={5}>\r\n                                        <TextField\r\n                                          variant=\"outlined\"\r\n                                          fullWidth\r\n                                          type=\"number\"\r\n                                          id=\"originalPhotoHeight\"\r\n                                          label=\"Alto\"\r\n                                          name=\"originalPhotoHeight\"\r\n                                          autoComplete=\"originalPhotoHeight\"\r\n                                          value={tile.originalPhotoHeight}\r\n                                          onChange={(e) => {\r\n                                            handleOriginalPhotoHeight(e, tile);\r\n                                            if (e.target.value < 2000) {\r\n                                              setSnackBarMessage(\r\n                                                \"La foto original debe tener un alto mayor a 2.000 px.\"\r\n                                              );\r\n                                              setSnackBar(true);\r\n                                            }\r\n                                          }}\r\n                                        />\r\n                                      </Grid>\r\n                                      <Typography\r\n                                        style={{\r\n                                          paddingTop: 13,\r\n                                          paddingLeft: 2,\r\n                                        }}\r\n                                      >\r\n                                        {\" \"}\r\n                                        px{\" \"}\r\n                                      </Typography>\r\n                                    </Grid>\r\n                                  )}\r\n                                <Grid\r\n                                  item\r\n                                  container\r\n                                  xs={12}\r\n                                  sm={12}\r\n                                  style={{ paddingTop: 15 }}\r\n                                  justify=\"space-between\"\r\n                                >\r\n                                  <Grid item xs={5} sm={5}>\r\n                                    <TextField\r\n                                      variant=\"outlined\"\r\n                                      fullWidth\r\n                                      type=\"number\"\r\n                                      id=\"originalPhotoPpi\"\r\n                                      label=\"PPI\"\r\n                                      name=\"originalPhotoPpi\"\r\n                                      autoComplete=\"originalPhotoPpi\"\r\n                                      value={tile.originalPhotoPpi}\r\n                                      onChange={(e) => {\r\n                                        handleOriginalPhotoPpi(e, tile);\r\n                                        if (e.target.value < 100) {\r\n                                          setSnackBarMessage(\r\n                                            \"La foto original debe ser mayor a 100 ppi.\"\r\n                                          );\r\n                                          setSnackBar(true);\r\n                                        }\r\n                                      }}\r\n                                    />\r\n                                  </Grid>\r\n                                  <Grid\r\n                                    item\r\n                                    xs={5}\r\n                                    sm={6}\r\n                                    style={{ paddingLeft: 0 }}\r\n                                  >\r\n                                    <FormControl\r\n                                      variant=\"outlined\"\r\n                                      style={{ width: \"100%\" }}\r\n                                    >\r\n                                      <InputLabel\r\n                                        id=\"originalPhotoIsoLabel\"\r\n                                        style={{ width: \"100%\" }}\r\n                                      >\r\n                                        ISO\r\n                                      </InputLabel>\r\n                                      <Select\r\n                                        labelId=\"originalPhotoIsoLabel\"\r\n                                        id=\"originalPhotoIso\"\r\n                                        value={tile.originalPhotoIso}\r\n                                        onChange={(e) => {\r\n                                          handleOriginalPhotoIso(e, tile);\r\n                                        }}\r\n                                        label=\"originalPhotoIso\"\r\n                                      >\r\n                                        <MenuItem value=\"\">\r\n                                          <em></em>\r\n                                        </MenuItem>\r\n                                        {photoIsos.map((n) => (\r\n                                          <MenuItem key={n} value={n}>\r\n                                            {n}\r\n                                          </MenuItem>\r\n                                        ))}\r\n                                      </Select>\r\n                                    </FormControl>\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n                              <Grid\r\n                                item\r\n                                container\r\n                                xs={12}\r\n                                justify=\"space-between\"\r\n                              >\r\n                                <Grid\r\n                                  item\r\n                                  xs={12}\r\n                                  sm={12}\r\n                                  style={{ textAlign: \"left\" }}\r\n                                >\r\n                                  <Typography\r\n                                    style={{\r\n                                      whiteSpace: \"pre-line\",\r\n                                      fontSize: \"1.3em\",\r\n                                    }}\r\n                                  >\r\n                                    {\" \"}\r\n                                    Medida máxima para impresión:\r\n                                  </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                  item\r\n                                  xs={12}\r\n                                  sm={12}\r\n                                  style={{ textAlign: \"left\" }}\r\n                                >\r\n                                  <Typography\r\n                                    style={{\r\n                                      whiteSpace: \"pre-line\",\r\n                                      fontSize: \"1.3em\",\r\n                                    }}\r\n                                  >\r\n                                    {\" \"}\r\n                                    {maxPrintValues(tile)}{\" \"}\r\n                                  </Typography>\r\n                                </Grid>\r\n                              </Grid>\r\n                              <Grid item container xs={12}></Grid>\r\n                            </React.Fragment>\r\n                          )}\r\n                          {/* <Grid item container xs={12} style={{marginBottom: 15}}>\r\n                  <Grid item xs={4} sm={4}>\r\n                    <Typography style={{whiteSpace: 'pre-line', padding: 15, fontSize: '0.7em'}}> Máximo para <br/> impresión (cm) </Typography>\r\n                  </Grid>\r\n                  <Grid item container xs={8} sm={8}>\r\n                    <Grid item xs={5} sm={5}>\r\n                      <TextField\r\n                        variant=\"outlined\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"originalArtWidth\"\r\n                        label=\"Ancho\"\r\n                        name=\"originalArtWidth\"\r\n                        autoComplete=\"originalArtHeight\"\r\n                        value={tile.originalArtWidth}\r\n                        onChange={(e)=> {handleArtOriginalWidthEdit(e, tile)}}\r\n                      />\r\n                    </Grid>\r\n                      <Typography style={{padding: 10}}> x </Typography>\r\n                    <Grid item xs={5} sm={5}>\r\n                      <TextField\r\n                        variant=\"outlined\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"originalArtHeight\"\r\n                        label=\"Alto\"\r\n                        name=\"originalArtHeight\"\r\n                        autoComplete=\"originalArtHeight\"\r\n                        value={tile.originalArtHeight}\r\n                        onChange={(e)=> {handleArtOriginalHeightEdit(e, tile)}}\r\n                      />\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid> */}\r\n                          <Grid\r\n                            item\r\n                            xs\r\n                            style={{ marginBottom: 20, marginTop: 20 }}\r\n                          >\r\n                            <TextField\r\n                              multiline\r\n                              rows={2}\r\n                              fullWidth\r\n                              required\r\n                              id=\"artDescription\"\r\n                              variant=\"outlined\"\r\n                              label=\"Descripción del arte\"\r\n                              value={tile.description}\r\n                              onChange={(e) => {\r\n                                handleArtDescriptionEdit(e, tile);\r\n                              }}\r\n                            />\r\n                          </Grid>\r\n                          {/* <Grid item xs={12} sm={12}>\r\n                              <Autocomplete\r\n                                multiple\r\n                                id=\"tags-filled\"\r\n                                options={tile.tags.map((option) => option)}\r\n                                defaultValue={tile.tags}\r\n                                freeSolo\r\n                                renderTags={(value, getTagProps) =>\r\n                                  value.map(\r\n                                    (option, index) => (\r\n                                      <Chip\r\n                                        variant=\"outlined\"\r\n                                        label={option}\r\n                                        {...getTagProps({ index })}\r\n                                      />\r\n                                    ),\r\n                                    { ...handleArtTagsEdit(value) }\r\n                                  )\r\n                                }\r\n                                renderInput={(params) => (\r\n                                  <TextField\r\n                                    {...params}\r\n                                    variant=\"outlined\"\r\n                                    label=\"Etiquetas\"\r\n                                  />\r\n                                )}\r\n                              />\r\n                            </Grid> */}\r\n                          <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            style={{ marginBottom: 20, marginTop: 20 }}\r\n                          >\r\n                            <Autocomplete\r\n                              multiple\r\n                              freeSolo\r\n                              id=\"tags-outlined\"\r\n                              options={tile.tags.map((tag) => tag)}\r\n                              value={tile.tags}\r\n                              renderTags={(value, getTagProps) =>\r\n                                value.map((option, index) => (\r\n                                  <Chip\r\n                                    onDelete={() => {\r\n                                      const newTiles = [...tiles];\r\n                                      newTiles.find(\r\n                                        (item) => item.artId === tile.artId\r\n                                      ).tags = tile.tags.filter(\r\n                                        (tag) => tag !== option\r\n                                      );\r\n                                      setTiles(newTiles);\r\n                                    }}\r\n                                    variant=\"outlined\"\r\n                                    label={option}\r\n                                  />\r\n                                ))\r\n                              }\r\n                              renderInput={(params) => (\r\n                                <TextField\r\n                                  {...params}\r\n                                  variant=\"outlined\"\r\n                                  label=\"Etiquetas\"\r\n                                  onKeyDown={(e) => {\r\n                                    if (e.key === \"Enter\" && e.target.value) {\r\n                                      const newTiles = [...tiles];\r\n                                      newTiles\r\n                                        .find(\r\n                                          (item) => item.artId === tile.artId\r\n                                        )\r\n                                        .tags.push(e.target.value);\r\n                                      setTiles(newTiles);\r\n                                    }\r\n                                  }}\r\n                                />\r\n                              )}\r\n                            />\r\n                          </Grid>\r\n                          <Grid item xs={12}>\r\n                            <TextField\r\n                              variant=\"outlined\"\r\n                              fullWidth\r\n                              id=\"artLocation\"\r\n                              label=\"Ubicación\"\r\n                              name=\"artLocation\"\r\n                              autoComplete=\"artLocation\"\r\n                              value={tile.artLocation}\r\n                              onChange={(e) => handleArtLocationEdit(e, tile)}\r\n                            />\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </CardContent>\r\n                  <CardActions>\r\n                    {/* <Button size=\"small\" color=\"primary\">\r\n                Comparte\r\n                </Button> */}\r\n                    {JSON.parse(localStorage.getItem(\"token\")) &&\r\n                      JSON.parse(localStorage.getItem(\"token\")).username && (\r\n                        <Button\r\n                          size=\"small\"\r\n                          color=\"primary\"\r\n                          onClick={(e) => {\r\n                            // updateArtData(e, tile.artId);\r\n                            handleArtEdit(e, tile);\r\n                          }}\r\n                        >\r\n                          Guardar\r\n                        </Button>\r\n                      )}\r\n                  </CardActions>\r\n                </Card>\r\n              )\r\n            )\r\n          ) : (\r\n            <p>Prueba prueba</p>\r\n          )}\r\n          {openArtFormDialog && (\r\n            <ArtUploader\r\n              openArtFormDialog={openArtFormDialog}\r\n              setOpenArtFormDialog={setOpenArtFormDialog}\r\n            />\r\n          )}\r\n          {JSON.parse(localStorage.getItem(\"token\")) &&\r\n            JSON.parse(localStorage.getItem(\"token\")).username && (\r\n              <Grid className={classes.float}>\r\n                <FloatingAddButton\r\n                  setOpenArtFormDialog={setOpenArtFormDialog}\r\n                />\r\n              </Grid>\r\n            )}\r\n          <Snackbar\r\n            open={snackBar}\r\n            autoHideDuration={2000}\r\n            message={snackBarMessage}\r\n            className={classes.snackbar}\r\n            onClose={() => setSnackBar(false)}\r\n          />\r\n        </div>\r\n        <Modal\r\n          xl={800}\r\n          lg={800}\r\n          md={480}\r\n          sm={360}\r\n          xs={360}\r\n          open={termsAgreeVar === false}\r\n          onClose={termsAgreeVar === true}\r\n        >\r\n          <div className={classes.paper2}>\r\n            <h2 style={{ textAlign: \"center\", fontWeight: \"Normal\" }}>\r\n              Hemos actualizado nuestros términos y condiciones y queremos que\r\n              estés al tanto.\r\n            </h2>\r\n            <div>\r\n              <div data-color-mode=\"light\">\r\n                <div\r\n                  style={{\r\n                    textAlign: \"center\",\r\n                    marginBottom: \"12px\",\r\n                    fontWeight: \"bold\",\r\n                    fontSize: \"1.2rem\",\r\n                  }}\r\n                >\r\n                  CONVENIO DE RELACIÓN ENTRE LOS ARTISTAS Y LA COMPAÑÍA\r\n                </div>\r\n                <div data-color-mode=\"light\">\r\n                  <MDEditor.Markdown\r\n                    source={value}\r\n                    style={{ textAlign: \"justify\" }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div style={{ justifyContent: \"center\", display: \"flex\" }}>\r\n              <Button\r\n                onClick={(e) => {\r\n                  handleSubmit(\r\n                    e,\r\n                    JSON.parse(localStorage.getItem(\"token\")).username\r\n                  );\r\n                }}\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                required\r\n              >\r\n                Acepto los nuevos términos y condiciones\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport utils from '../../utils/utils';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function SimpleDialog(props) {\r\n\r\n  const handleClose = () => {\r\n    props.setTabValue(0);\r\n    props.setArts(true);\r\n    props.setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.open}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-slide-title\">{\"Esperamos saber de ti muy pronto.\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n            Te apoyaremos a través de nuestro proceso de asesorías:\r\n                <ol>\r\n                    <li>Escríbenos al whatsapp haciendo click <a href={utils.generateWaMessage()} target=\"blank\">aquí</a>.</li>\r\n                    <li>Puedes ver tus artes favoritos <a href=\"/galeria\" target=\"blank\">aquí</a>.</li>\r\n                    <li>Te ayudaremos a elegir el tamaño y el arte ideal para tu cuadro Prix.</li>\r\n                    <li>Si lo deseas puedes enviarnos una foto de tu espacio y realizaremos una simulación.</li>\r\n                </ol>\r\n                <strong>La asesoría es 100% gratuita.</strong>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import { React, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport Masonry, { ResponsiveMasonry } from \"react-responsive-masonry\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  cardMedia: {\r\n    paddingTop: \"81.25%\",\r\n    borderRadius: \"50%\",\r\n    margin: \"28px\",\r\n  },\r\n  loading: {\r\n    display: \"flex\",\r\n    \"& > * + *\": {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n    marginLeft: \"50vw\",\r\n    marginTop: \"50vh\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    margin: \"15px\",\r\n  },\r\n  input: {\r\n    padding: \"2\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  avatar: {\r\n    width: 80,\r\n    height: 80,\r\n  },\r\n}));\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\n\r\nexport default function TestimonialsFeed() {\r\n  const classes = useStyles();\r\n  const [tiles, setTiles] = useState([]);\r\n  const theme = useTheme();\r\n\r\n  const readTestimonial = async () => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/testimonial/read-all\";\r\n    const res = await axios\r\n      .get(base_url)\r\n      .then((response) => {\r\n        let responsev2 = response.data.testimonials.sort(function (a, b) {\r\n          return a.position - b.position;\r\n        });\r\n        setTiles(responsev2);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  useEffect(() => {\r\n    readTestimonial();\r\n  }, []);\r\n\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  return (\r\n    <Grid\r\n      // container\r\n      spacing={2}\r\n      xs={12}\r\n      style={{\r\n        width: \"100%\",\r\n        padding: isMobile ? \"0px\" : \"18px\",\r\n        // display: \"flex\",\r\n        // textAlign: \"start\",\r\n      }}\r\n    >\r\n      <ResponsiveMasonry columnsCountBreakPoints={{ 350: 1, 750: 2, 900: 3 }}>\r\n        <Masonry style={{ columnGap: \"7px\" }}>\r\n          {tiles.map(\r\n            (tile) =>\r\n              tile.status && (\r\n                <Grid item>\r\n                  <Paper\r\n                    className={classes.paper}\r\n                    style={\r\n                      {\r\n                        // padding: \"15px\",\r\n                        // height: 240,\r\n                      }\r\n                    }\r\n                  >\r\n                    <Grid key={tile._id} style={{ width: \"100%\" }}>\r\n                      <Grid container spacing={1}>\r\n                        <Grid marginBottom={2} style={{ width: \"100%\" }}>\r\n                          <Box style={{ display: \"flex\", paddingLeft: \"20px\" }}>\r\n                            <Avatar\r\n                              className={classes.avatar}\r\n                              src={tile.avatar}\r\n                            />\r\n                            <Box\r\n                              style={{\r\n                                paddingLeft: \"30px\",\r\n                              }}\r\n                            >\r\n                              <Typography>{tile.name}</Typography>\r\n                              <Typography variant={\"body2\"} color={\"secondary\"}>\r\n                                {tile.type}\r\n                              </Typography>\r\n                            </Box>\r\n                          </Box>\r\n                          <Box>\r\n                            <Typography\r\n                              variant={\"body2\"}\r\n                              style={{\r\n                                display: \"flex\",\r\n                                textAlign: \"center\",\r\n                                justifyContent: \"center\",\r\n                                paddingTop: \"10px\",\r\n                              }}\r\n                            >\r\n                              {tile.value}\r\n                            </Typography>\r\n                          </Box>\r\n                          <Box\r\n                            style={{\r\n                              paddingTop: \"8px\",\r\n                            }}\r\n                          >\r\n                            <Typography\r\n                              variant={\"body2\"}\r\n                              color=\"secondary\"\r\n                              style={{\r\n                                display: \"flex\",\r\n                                textAlign: \"center\",\r\n                                justifyContent: \"center\",\r\n                              }}\r\n                            >\r\n                              {tile.footer}\r\n                            </Typography>\r\n                          </Box>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Paper>\r\n                </Grid>\r\n              )\r\n          )}\r\n        </Masonry>\r\n      </ResponsiveMasonry>\r\n    </Grid>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport Carousel from \"react-material-ui-carousel\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport AppBar from \"../sharedComponents/appBar/appBar\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport PhoneIcon from \"@material-ui/icons/Phone\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport PhotoLibraryIcon from \"@material-ui/icons/PhotoLibrary\";\r\nimport ArtsGrid from \"../prixerProfile/grid/grid\";\r\nimport PrixersGrid from \"../sharedComponents/prixerGrid/prixerGrid\";\r\nimport { InsertEmoticon } from \"@material-ui/icons\";\r\nimport InstagramIcon from \"@material-ui/icons/Instagram\";\r\nimport SimpleDialog from \"../sharedComponents/simpleDialog/simpleDialog\";\r\nimport FloatingAddButton from \"../sharedComponents/floatingAddButton/floatingAddButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Img from \"react-cool-img\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\n\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport MaximizeIcon from \"@material-ui/icons/Maximize\";\r\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\n\r\n// import { useHistory } from \"react-router-dom\";\r\nimport ArtUploader from \"../sharedComponents/artUploader/artUploader\";\r\n// import utils from \"../utils/utils\";\r\nimport TestimonialsFeed from \"../admin/TestimonialsCrud/TestimonialsFeed\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link color=\"inherit\" href=\"https://prixelart.com/\">\r\n        Prixelart C.A.\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  iconTabs: {\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    maxWidth: 800,\r\n    margin: \"auto\",\r\n    marginBottom: 50,\r\n  },\r\n  paper: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"left\",\r\n    overflowX: \"none\",\r\n    flexGrow: 1,\r\n    overflow: \"visible\",\r\n  },\r\n  paper2: {\r\n    position: \"absolute\",\r\n    width: \"80%\",\r\n    maxHeight: 450,\r\n    overflowY: \"auto\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: \"16px 32px 24px\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    textAlign: \"justify\",\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  heroContent: {\r\n    padding: theme.spacing(25, 0, 6),\r\n    minHeight: \"100vh\",\r\n  },\r\n  heroButtons: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  cardGrid: {\r\n    width: \"100%\",\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(8),\r\n  },\r\n  card: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  cardMedia: {\r\n    paddingTop: \"56.25%\", // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1,\r\n  },\r\n  footer: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(6),\r\n    position: \"relative\",\r\n    bottom: 0,\r\n  },\r\n  float: {\r\n    position: \"relative\",\r\n    marginLeft: \"95%\",\r\n  },\r\n  CarouselContent: {\r\n    width: \"100vw\",\r\n    heigh: \"92vh\",\r\n  },\r\n  modal: {\r\n    display: \"flex\",\r\n    padding: theme.spacing(1),\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    overflowY: \"auto\",\r\n    width: \"80%\",\r\n    maxHeight: 450,\r\n  },\r\n}));\r\n\r\nexport default function Home(props) {\r\n  const theme = useTheme();\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n  const isDeskTop = useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  // const isPhone5 =\r\n  const classes = useStyles();\r\n  const prixerUsername = \"all\";\r\n  const [imagesDesktop, newImagesDesktop] = useState({ images: [] });\r\n  const [imagesMobile, newImagesMobile] = useState({ images: [] });\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [openPrixers, setOpenPrixers] = useState(false);\r\n  const [openArts, setOpenArts] = useState(true);\r\n  const [openTestimonials, setOpenTestimonials] = useState(false);\r\n  const [selectedArt, setSelectedArt] = useState(undefined);\r\n\r\n  // const [scrolledTop, setScrolledTop] = useState(false);\r\n  // const history = useHistory();\r\n  const [openArtFormDialog, setOpenArtFormDialog] = useState(false);\r\n  // const rootRef = React.useRef(null);\r\n  const [termsAgreeVar, setTermsAgreeVar] = useState(true);\r\n  const [value, setValue] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const imgsMobile = [\r\n    {\r\n      url: \"https://devprix.nyc3.digitaloceanspaces.com/Portada%20de%20Pagina%20Web_Museo%20Chuao%20Espejo_Telefono_V1.jpg\",\r\n    },\r\n    {\r\n      url: \"https://devprix.nyc3.digitaloceanspaces.com/Foto%20de%20Canva%20Studio%20en%20Pexels_16a9.jpg\",\r\n    },\r\n    {\r\n      url: \"https://devprix.nyc3.digitaloceanspaces.com/Foto%20de%20Medhat%20Ayad%20en%20Pexels_9a16.jpg\",\r\n    },\r\n    {\r\n      url: \"https://devprix.nyc3.digitaloceanspaces.com/Pixabay_%203X.2%20Phone.jpg\",\r\n    },\r\n    {\r\n      url: \"https://devprix.nyc3.digitaloceanspaces.com/Foto%20de%20Vecislavas%20Popa%20en%20Pexels_lINEAL%20120X40.2%20%20Phone.jpg\",\r\n    },\r\n    {\r\n      url: \"https://devprix.nyc3.digitaloceanspaces.com/Foto%20de%20Daria%20Shevtsova%20en%20Pexels.jpg\",\r\n    },\r\n  ];\r\n  const handleChange = (event, newValue) => {\r\n    if (newValue === 0) {\r\n      setOpenArts(true);\r\n      setOpenModal(false);\r\n      setOpenPrixers(false);\r\n      setOpenTestimonials(false);\r\n    } else if (newValue === 1) {\r\n      setOpenModal(false);\r\n      setOpenPrixers(true);\r\n      setOpenArts(false);\r\n      setOpenTestimonials(false);\r\n    } else if (newValue === 2) {\r\n      setOpenModal(false);\r\n      setOpenPrixers(false);\r\n      setOpenArts(false);\r\n      setOpenTestimonials(true);\r\n    } else if (newValue === 3) {\r\n      setOpenModal(true);\r\n      setOpenPrixers(false);\r\n      setOpenArts(false);\r\n      setOpenTestimonials(false);\r\n    } else {\r\n      setOpenModal(false);\r\n      setOpenPrixers(false);\r\n      setOpenArts(false);\r\n    }\r\n    setTabValue(newValue);\r\n  };\r\n\r\n  const getTerms = () => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/termsAndConditions/read\";\r\n    axios\r\n      .get(base_url)\r\n      .then((response) => {\r\n        setValue(response.data.terms.termsAndConditions);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  const handleSubmit = async (e, Id) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    const termsAgree = true;\r\n    formData.append(\"termsAgree\", termsAgree);\r\n    // formData.append(\r\n    //   \"username\",\r\n    //   JSON.parse(localStorage.getItem(\"token\")).username\r\n    // );\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/prixer/update-terms/\" + Id;\r\n    const response = await axios\r\n      .put(\r\n        base_url,\r\n        { termsAgree: true },\r\n        {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        }\r\n      )\r\n      .then((response) => {\r\n        setTermsAgreeVar(true);\r\n      });\r\n  };\r\n\r\n  const getImagesForTheCarousel = () => {\r\n    const URI =\r\n      process.env.REACT_APP_BACKEND_URL + \"/admin/preferences/carousel\";\r\n    fetch(URI)\r\n      .then((res) =>\r\n        res\r\n          .json()\r\n          .then((data) => {\r\n            const imagesDesktop = data.imagesCarousels.filter(\r\n              (result) =>\r\n                result.images?.type === \"desktop\" || result.carouselImages\r\n            );\r\n            const imagesMobile = data.imagesCarousels.filter(\r\n              (result) => result.images?.type === \"mobile\"\r\n            );\r\n            newImagesDesktop({\r\n              images:\r\n                imagesDesktop.length > 0 ? imagesDesktop : data.imagesCarousels,\r\n            });\r\n            newImagesMobile({\r\n              images: imagesMobile.length > 0 ? imagesMobile : imgsMobile,\r\n            });\r\n          })\r\n          .catch((err) => console.error(`Your request is wrong: ${err}`))\r\n      )\r\n      .catch((err) => console.error(err));\r\n  };\r\n\r\n  const TermsAgreeModal = () => {\r\n    const GetId = JSON.parse(localStorage.getItem(\"token\")).username;\r\n    const base_url = process.env.REACT_APP_BACKEND_URL + \"/prixer/get/\" + GetId;\r\n    axios.get(base_url).then((response) => {\r\n      setTermsAgreeVar(response.data.termsAgree);\r\n      getTerms();\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getImagesForTheCarousel();\r\n    {\r\n      JSON.parse(localStorage.getItem(\"token\")) && TermsAgreeModal();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <AppBar prixerUsername={prixerUsername} />\r\n      <Container component=\"main\" maxWidth=\"s\" className={classes.paper}>\r\n        <CssBaseline />\r\n\r\n        <main>\r\n          <Card\r\n            className={classes.card}\r\n            style={{\r\n              display: \"flex\",\r\n              position: \"relative\",\r\n              width: \"100vw\",\r\n              marginLeft: isDesktop ? \"-24px\" : \"-16px\",\r\n              marginLeft: isDeskTop ? \"-24px\" : \"-16px\",\r\n              height: \"100vh\",\r\n            }}\r\n          >\r\n            <div className={classes.CarouselContent}>\r\n              <Carousel\r\n                stopAutoPlayOnHover={false}\r\n                animation=\"slide\"\r\n                duration={500}\r\n                fullHeightHover={false}\r\n                style={{ marginTop: isDesktop ? \"0\" : \"-40px\" }}\r\n                IndicatorIcon={<MaximizeIcon />}\r\n                NextIcon={<ArrowForwardIosIcon style={{ fontSize: \"3rem\" }} />}\r\n                PrevIcon={<ArrowBackIosIcon style={{ fontSize: \"3rem\" }} />}\r\n                navButtonsProps={{\r\n                  style: {\r\n                    backgroundColor: \"rgba(0, 0, 0, 0.1)\",\r\n                    width: \"98%\",\r\n                    height: \"100vh\",\r\n                    marginTop: \"-50vh\",\r\n                    borderRadius: \"0\",\r\n                    marginLeft: \"1px\",\r\n                  },\r\n                }}\r\n                indicatorContainerProps={{\r\n                  style: {\r\n                    marginTop: isDesktop ? \"-70px\" : \"-100px\",\r\n                    position: \"absolute\",\r\n                  },\r\n                }}\r\n              >\r\n                {isDesktop\r\n                  ? imagesDesktop.images.map((img, key_id) =>\r\n                      img.images?.type !== undefined &&\r\n                      img.images?.type === \"desktop\" ? (\r\n                        <div\r\n                          className={classes.heroContent}\r\n                          key={key_id}\r\n                          style={{\r\n                            backgroundImage: \"url(\" + img.images.url + \")\",\r\n                            backgroundSize: \"cover\",\r\n                            backgroundPosition: \"top\",\r\n                            marginTop: \"-24px\",\r\n                          }}\r\n                        ></div>\r\n                      ) : (\r\n                        <div\r\n                          className={classes.heroContent}\r\n                          key={key_id}\r\n                          style={{\r\n                            backgroundImage: \"url(\" + img.carouselImages + \")\",\r\n                            backgroundSize: \"cover\",\r\n                            backgroundPosition: \"top\",\r\n                            marginTop: \"-24px\",\r\n                          }}\r\n                        ></div>\r\n                      )\r\n                    )\r\n                  : imagesMobile.images.map((img, key_id) =>\r\n                      img.images?.type !== undefined &&\r\n                      img.images?.type === \"mobile\" ? (\r\n                        <div\r\n                          className={classes.heroContent}\r\n                          key={key_id}\r\n                          style={{\r\n                            backgroundImage: \"url(\" + img.images.url + \")\",\r\n                            backgroundSize: \"cover\",\r\n                            backgroundPosition: \"left\",\r\n                          }}\r\n                        ></div>\r\n                      ) : (\r\n                        <div\r\n                          className={classes.heroContent}\r\n                          key={key_id}\r\n                          style={{\r\n                            backgroundImage: \"url(\" + img.url + \")\",\r\n                            backgroundSize: \"cover\",\r\n                            backgroundPosition: \"top\",\r\n                            marginTop: \"-24px\",\r\n                          }}\r\n                        ></div>\r\n                      )\r\n                    )}\r\n              </Carousel>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexWrap: \"wrap\",\r\n                justifyContent: \"space-around\",\r\n                color: \"#404e5c\",\r\n                backgroundColor: \"#fff\",\r\n                width: \"100%\",\r\n                minHeight: 50,\r\n                bottom: 0,\r\n                position: \"absolute\",\r\n                margin: 0,\r\n                padding: 10,\r\n              }}\r\n            >\r\n              <div style={{ left: 10, alignItems: \"center\", width: \"400px\" }}>\r\n                <Typography\r\n                  component=\"h1\"\r\n                  variant=\"h1\"\r\n                  align=\"left\"\r\n                  style={{\r\n                    fontSize: \"1.7em\",\r\n                    paddingLeft: 10,\r\n                    textAlign: \"center\",\r\n                  }}\r\n                  gutterBottom\r\n                >\r\n                  Encuentra el <strong>cuadro</strong> ideal para ti.\r\n                </Typography>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n          <Container className={classes.cardGrid} maxWidth=\"xl\">\r\n            <Grid container spacing={1}>\r\n              <Paper\r\n                square\r\n                className={classes.iconTabs}\r\n                style={{\r\n                  display: isMobile ? \"grid\" : \"flex\",\r\n                  gridTemplateColumns: isMobile ? \"50%, 2fr\" : \"\",\r\n                  // flexDirection: isMobile ? \"column\" : \"row\",\r\n                  justifyContent: \"center\",\r\n                }}\r\n              >\r\n                <Tabs\r\n                  value={tabValue}\r\n                  onChange={handleChange}\r\n                  variant=\"fullWidth\"\r\n                  indicatorColor=\"primary\"\r\n                  textColor=\"secondary\"\r\n                >\r\n                  <Tab\r\n                    icon={<PhotoLibraryIcon />}\r\n                    label=\"ARTES\"\r\n                    style={{\r\n                      fontSize: isMobile ? \"0.62rem\" : \"0.875rem\",\r\n                      width: \"25%\",\r\n                    }}\r\n                  />\r\n                  <Tab\r\n                    icon={<FavoriteIcon />}\r\n                    label=\"PRIXERS\"\r\n                    style={{\r\n                      fontSize: isMobile ? \"0.62rem\" : \"0.875rem\",\r\n                      width: \"25%\",\r\n                    }}\r\n                  />\r\n                  <Tab\r\n                    icon={<InsertEmoticon />}\r\n                    label=\"TESTIMONIOS\"\r\n                    style={{\r\n                      fontSize: isMobile ? \"0.62rem\" : \"0.875rem\",\r\n                      width: \"25%\",\r\n                    }}\r\n                  />\r\n                  <Tab\r\n                    icon={<PhoneIcon />}\r\n                    label=\"TE ASESORAMOS\"\r\n                    style={{\r\n                      fontSize: isMobile ? \"0.62rem\" : \"0.875rem\",\r\n                      width: \"25%\",\r\n                    }}\r\n                  />\r\n                </Tabs>\r\n              </Paper>\r\n            </Grid>\r\n            {/* } */}\r\n            {\r\n              openArts && (\r\n                // <Suspense fallback={<div>Loading...</div>}>\r\n                <ArtsGrid\r\n                  prixerUsername={null}\r\n                  buyState={props.buyState}\r\n                  addItemToBuyState={props.addItemToBuyState}\r\n                  setIsOpenAssociateProduct={props.setIsOpenAssociateProduct}\r\n                  setSelectedArt={setSelectedArt}\r\n                />\r\n              )\r\n              // </Suspense>\r\n            }\r\n            {\r\n              openPrixers && (\r\n                // <Suspense fallback={<div>Loading...</div>}>\r\n                <PrixersGrid />\r\n              )\r\n              // </Suspense>\r\n            }\r\n            {openTestimonials && (\r\n              // <Suspense fallback={<div>Loading...</div>}>\r\n              <TestimonialsFeed />\r\n              // </Suspense>\r\n            )}\r\n          </Container>\r\n        </main>\r\n        {/* Footer */}\r\n        <footer className={classes.footer}>\r\n          <Typography variant=\"h6\" align=\"center\" gutterBottom>\r\n            Si quieres convertirte en un Prixer{\" \"}\r\n            <a target=\"blank\" href=\"https://prixelart.com/registrar\">\r\n              regístrate\r\n            </a>\r\n            .\r\n          </Typography>\r\n          <Typography\r\n            variant=\"subtitle1\"\r\n            align=\"center\"\r\n            color=\"textSecondary\"\r\n            component=\"p\"\r\n          >\r\n            <a target=\"blank\" href=\"https://instagram.com/prixelart\">\r\n              <InstagramIcon />\r\n            </a>\r\n          </Typography>\r\n          <Copyright />\r\n        </footer>\r\n        {/* End footer */}\r\n      </Container>\r\n      {openArtFormDialog && (\r\n        <ArtUploader\r\n          openArtFormDialog={openArtFormDialog}\r\n          setOpenArtFormDialog={setOpenArtFormDialog}\r\n        />\r\n      )}\r\n      {JSON.parse(localStorage.getItem(\"token\")) &&\r\n        JSON.parse(localStorage.getItem(\"token\")).username && (\r\n          <Grid className={classes.float}>\r\n            <FloatingAddButton setOpenArtFormDialog={setOpenArtFormDialog} />\r\n          </Grid>\r\n        )}\r\n      {openModal && (\r\n        <SimpleDialog\r\n          arts={openArts}\r\n          setTabValue={setTabValue}\r\n          setArts={setOpenArts}\r\n          open={openModal}\r\n          setOpen={setOpenModal}\r\n        />\r\n      )}\r\n      <Modal\r\n        xl={800}\r\n        lg={800}\r\n        md={480}\r\n        sm={360}\r\n        xs={360}\r\n        open={termsAgreeVar === false}\r\n        onClose={termsAgreeVar === true}\r\n      >\r\n        <div className={classes.paper2}>\r\n          <h2 style={{ textAlign: \"center\", fontWeight: \"Normal\" }}>\r\n            Hemos actualizado nuestros términos y condiciones y queremos que\r\n            estés al tanto.\r\n          </h2>\r\n          <div>\r\n            <div data-color-mode=\"light\">\r\n              <div\r\n                style={{\r\n                  textAlign: \"center\",\r\n                  marginBottom: \"12px\",\r\n                  fontWeight: \"bold\",\r\n                  fontSize: \"1.2rem\",\r\n                }}\r\n              >\r\n                CONVENIO DE RELACIÓN ENTRE LOS ARTISTAS Y LA COMPAÑÍA\r\n              </div>\r\n              <div data-color-mode=\"light\">\r\n                <MDEditor.Markdown\r\n                  source={value}\r\n                  style={{ textAlign: \"justify\" }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style={{ justifyContent: \"center\", display: \"flex\" }}>\r\n            <Button\r\n              onClick={(e) => {\r\n                handleSubmit(\r\n                  e,\r\n                  JSON.parse(localStorage.getItem(\"token\")).username\r\n                );\r\n              }}\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              required\r\n            >\r\n              Acepto los nuevos términos y condiciones\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n      <Dialog\r\n        open={props.isOpenAssociateProduct}\r\n        keepMounted\r\n        fullWidth\r\n        onClose={() => props.setIsOpenAssociateProduct(false)}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-slide-title\">\r\n          {\"Asocia el arte a un producto dentro de tu carrito de compras\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n            {!props.selectedProductToAssociate?.previous &&\r\n              props.buyState.length > 0 &&\r\n              props.buyState.find((buy) => buy.product !== undefined) && (\r\n                <strong>\r\n                  Puedes asociar el arte a un producto de tu carrito de compras\r\n                  o agregarlo y asociarlo mas tarde.\r\n                </strong>\r\n              )}\r\n            <div style={{ display: \"flex\" }}>\r\n              {props.selectedProductToAssociate?.previous ? (\r\n                \"¿Deseas asociar este producto al item seleccionado previamente en el carrito?\"\r\n              ) : props.buyState.length > 0 &&\r\n                props.buyState.find((buy) => buy.product !== undefined) ? (\r\n                props.buyState.map((buy, index) => {\r\n                  return (\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        width: \"180px\",\r\n                      }}\r\n                    >\r\n                      {buy.product && (\r\n                        <div\r\n                          key={index}\r\n                          style={{\r\n                            marginBottom: \"32px\",\r\n                            height: \"180px\",\r\n                            width: \"180px\",\r\n                          }}\r\n                          onClick={() =>\r\n                            props.setSelectedProductToAssociate({\r\n                              index,\r\n                              item: buy.product,\r\n                            })\r\n                          }\r\n                        >\r\n                          <Img\r\n                            placeholder=\"/imgLoading.svg\"\r\n                            style={{\r\n                              backgroundColor: \"#eeeeee\",\r\n                              height: \"180px\",\r\n                              width: \"180px\",\r\n                              opacity:\r\n                                props.selectedProductToAssociate?.index ===\r\n                                index\r\n                                  ? \"1\"\r\n                                  : \"0.6\",\r\n                            }}\r\n                            src={buy.product ? buy.product.thumbUrl : \"\"}\r\n                            debounce={1000}\r\n                            cache\r\n                            error=\"/imgError.svg\"\r\n                            // srcSet={tile.smallThumbUrl + ' 600w, ' + tile.mediumThumbUrl + ' 850w, ' + tile.largeThumbUrl + ' 1300w'}\r\n                            sizes=\"(min-width: 1600px) 850px, (min-width: 960px) 450px, (min-width: 640px) 400px, 200px\"\r\n                            alt={buy.product && buy.product.name}\r\n                            id={index}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })\r\n              ) : (\r\n                <strong>\r\n                  Parece que no tienes ningun producto dentro del carrito de\r\n                  compras, aun asi, puedes agregar este producto y asociarlo más\r\n                  tarde.\r\n                </strong>\r\n              )}\r\n            </div>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              !props.selectedProductToAssociate?.previous &&\r\n                props.setSelectedProductToAssociate(undefined);\r\n              props.setIsOpenAssociateProduct(false);\r\n            }}\r\n            color=\"primary\"\r\n          >\r\n            {props.selectedProductToAssociate?.previous ? \"No\" : \"Cerrar\"}\r\n          </Button>\r\n          {props.buyState.length > 0 &&\r\n            props.buyState.find((buy) => buy.product !== undefined) && (\r\n              <Button\r\n                disabled={!props.selectedProductToAssociate}\r\n                onClick={() => {\r\n                  props.AssociateProduct({\r\n                    index: props.selectedProductToAssociate.index,\r\n                    item: selectedArt,\r\n                    type: \"art\",\r\n                  });\r\n                  props.setSelectedProductToAssociate(undefined);\r\n                  setSelectedArt(undefined);\r\n                  props.setIsOpenAssociateProduct(false);\r\n                  history.push({ pathname: \"/\" });\r\n                }}\r\n                color=\"primary\"\r\n              >\r\n                {props.selectedProductToAssociate?.previous ? \"Sí\" : \"Asociar\"}\r\n              </Button>\r\n            )}\r\n          {!props.selectedProductToAssociate?.previous && (\r\n            <Button\r\n              onClick={() => {\r\n                props.addItemToBuyState({\r\n                  type: \"art\",\r\n                  item: selectedArt,\r\n                });\r\n\r\n                setSelectedArt(undefined);\r\n                history.push({ pathname: \"/productos\" });\r\n              }}\r\n              color=\"primary\"\r\n            >\r\n              Agregar como nuevo\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>{\" \"}\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport AppBar from \"../sharedComponents/appBar/appBar\";\r\nimport FloatingAddButton from \"../sharedComponents/floatingAddButton/floatingAddButton\";\r\nimport ArtsGrid from \"../prixerProfile/grid/grid\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useState } from \"react\";\r\nimport ArtUploader from \"../sharedComponents/artUploader/artUploader\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Img from \"react-cool-img\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"left\",\r\n    flexGrow: 1,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  float: {\r\n    position: \"relative\",\r\n    marginLeft: \"95%\",\r\n  },\r\n  paper2: {\r\n    position: \"absolute\",\r\n    width: \"80%\",\r\n    maxHeight: 450,\r\n    overflowY: \"auto\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: \"16px 32px 24px\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    textAlign: \"justify\",\r\n  },\r\n}));\r\n\r\nexport default function Gallery(props) {\r\n  const [openArtFormDialog, setOpenArtFormDialog] = useState(false);\r\n  const prixerUsername = \"all\";\r\n  const [termsAgreeVar, setTermsAgreeVar] = useState(true);\r\n  const [value, setValue] = useState(\"\");\r\n  const [selectedArt, setSelectedArt] = useState(undefined);\r\n  const history = useHistory();\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    {\r\n      JSON.parse(localStorage.getItem(\"token\")) && TermsAgreeModal();\r\n    }\r\n\r\n    return () => {\r\n      localStorage.removeItem(\"filterCategorie\");\r\n    };\r\n  }, []);\r\n\r\n  const getTerms = () => {\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/termsAndConditions/read\";\r\n    axios\r\n      .get(base_url)\r\n      .then((response) => {\r\n        setValue(response.data.terms.termsAndConditions);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const handleSubmit = async (e, Id) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    const termsAgree = true;\r\n    formData.append(\"termsAgree\", termsAgree);\r\n    // formData.append(\r\n    //   \"username\",\r\n    //   JSON.parse(localStorage.getItem(\"token\")).username\r\n    // );\r\n    const base_url =\r\n      process.env.REACT_APP_BACKEND_URL + \"/prixer/update-terms/\" + Id;\r\n    const response = await axios\r\n      .put(\r\n        base_url,\r\n        { termsAgree: true },\r\n        {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        }\r\n      )\r\n      .then((response) => {\r\n        setTermsAgreeVar(true);\r\n      });\r\n  };\r\n  const TermsAgreeModal = () => {\r\n    const GetId = JSON.parse(localStorage.getItem(\"token\")).username;\r\n    const base_url = process.env.REACT_APP_BACKEND_URL + \"/prixer/get/\" + GetId;\r\n    axios.get(base_url).then((response) => {\r\n      setTermsAgreeVar(response.data.termsAgree);\r\n      getTerms();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppBar prixerUsername={prixerUsername} />\r\n\r\n      <Container component=\"main\" maxWidth=\"s\" className={classes.paper}>\r\n        <CssBaseline />\r\n\r\n        <Grid style={{ marginTop: 90 }}>\r\n          <h1 style={{ margin: 0 }}>Galería</h1>\r\n          <Typography\r\n            variant=\"body2\"\r\n            color=\"textSecondary\"\r\n            component=\"p\"\r\n            style={{ marginBottom: 20 }}\r\n          >\r\n            Encuentra tu arte preferido. Ejemplo: escribe \"playa\" y toca la\r\n            lupa.\r\n          </Typography>\r\n        </Grid>\r\n        <Grid>\r\n          <ArtsGrid\r\n            prixerUsername={null}\r\n            buyState={props.buyState}\r\n            addItemToBuyState={props.addItemToBuyState}\r\n            setIsOpenAssociateProduct={props.setIsOpenAssociateProduct}\r\n            setSelectedArt={setSelectedArt}\r\n          />\r\n        </Grid>\r\n        {openArtFormDialog && (\r\n          <ArtUploader\r\n            openArtFormDialog={openArtFormDialog}\r\n            setOpenArtFormDialog={setOpenArtFormDialog}\r\n          />\r\n        )}\r\n        {JSON.parse(localStorage.getItem(\"token\")) &&\r\n          JSON.parse(localStorage.getItem(\"token\")).username && (\r\n            <Grid className={classes.float}>\r\n              <FloatingAddButton setOpenArtFormDialog={setOpenArtFormDialog} />\r\n            </Grid>\r\n          )}\r\n        <Modal\r\n          xl={800}\r\n          lg={800}\r\n          md={480}\r\n          sm={360}\r\n          xs={360}\r\n          open={termsAgreeVar === false}\r\n          onClose={termsAgreeVar === true}\r\n        >\r\n          <div className={classes.paper2}>\r\n            <h2 style={{ textAlign: \"center\", fontWeight: \"Normal\" }}>\r\n              Hemos actualizado nuestros términos y condiciones y queremos que\r\n              estés al tanto.\r\n            </h2>\r\n            <div>\r\n              <div data-color-mode=\"light\">\r\n                <div\r\n                  style={{\r\n                    textAlign: \"center\",\r\n                    marginBottom: \"12px\",\r\n                    fontWeight: \"bold\",\r\n                    fontSize: \"1.2rem\",\r\n                  }}\r\n                >\r\n                  CONVENIO DE RELACIÓN ENTRE LOS ARTISTAS Y LA COMPAÑÍA\r\n                </div>\r\n                <div data-color-mode=\"light\">\r\n                  <MDEditor.Markdown\r\n                    source={value}\r\n                    style={{ textAlign: \"justify\" }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div style={{ justifyContent: \"center\", display: \"flex\" }}>\r\n              <Button\r\n                onClick={(e) => {\r\n                  handleSubmit(\r\n                    e,\r\n                    JSON.parse(localStorage.getItem(\"token\")).username\r\n                  );\r\n                }}\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                required\r\n              >\r\n                Acepto los nuevos términos y condiciones\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n        <Dialog\r\n          open={props.isOpenAssociateProduct}\r\n          keepMounted\r\n          fullWidth\r\n          onClose={() => props.setIsOpenAssociateProduct(false)}\r\n          aria-labelledby=\"alert-dialog-slide-title\"\r\n          aria-describedby=\"alert-dialog-slide-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-slide-title\">\r\n            {\"Asocia el arte a un producto dentro de tu carrito de compras\"}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-slide-description\">\r\n              {!props.selectedProductToAssociate?.previous &&\r\n                props.buyState.length > 0 &&\r\n                props.buyState.find((buy) => buy.product !== undefined) && (\r\n                  <strong>\r\n                    Puedes asociar el arte a un producto de tu carrito de\r\n                    compras o agregarlo y asociarlo mas tarde.\r\n                  </strong>\r\n                )}\r\n              <div style={{ display: \"flex\" }}>\r\n                {props.selectedProductToAssociate?.previous ? (\r\n                  \"¿Deseas asociar este producto al item seleccionado previamente en el carrito?\"\r\n                ) : props.buyState.length > 0 &&\r\n                  props.buyState.find((buy) => buy.product !== undefined) ? (\r\n                  props.buyState.map((buy, index) => {\r\n                    return (\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          width: \"180px\",\r\n                        }}\r\n                      >\r\n                        {buy.product && (\r\n                          <div\r\n                            key={index}\r\n                            style={{\r\n                              marginBottom: \"32px\",\r\n                              height: \"180px\",\r\n                              width: \"180px\",\r\n                            }}\r\n                            onClick={() =>\r\n                              props.setSelectedProductToAssociate({\r\n                                index,\r\n                                item: buy.product,\r\n                              })\r\n                            }\r\n                          >\r\n                            <Img\r\n                              placeholder=\"/imgLoading.svg\"\r\n                              style={{\r\n                                backgroundColor: \"#eeeeee\",\r\n                                height: \"180px\",\r\n                                width: \"180px\",\r\n                                opacity:\r\n                                  props.selectedProductToAssociate?.index ===\r\n                                  index\r\n                                    ? \"1\"\r\n                                    : \"0.6\",\r\n                              }}\r\n                              src={buy.product ? buy.product.thumbUrl : \"\"}\r\n                              debounce={1000}\r\n                              cache\r\n                              error=\"/imgError.svg\"\r\n                              // srcSet={tile.smallThumbUrl + ' 600w, ' + tile.mediumThumbUrl + ' 850w, ' + tile.largeThumbUrl + ' 1300w'}\r\n                              sizes=\"(min-width: 1600px) 850px, (min-width: 960px) 450px, (min-width: 640px) 400px, 200px\"\r\n                              alt={buy.product && buy.product.name}\r\n                              id={index}\r\n                            />\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <strong>\r\n                    Parece que no tienes ningun producto dentro del carrito de\r\n                    compras, aun asi, puedes agregar este producto y asociarlo\r\n                    más tarde.\r\n                  </strong>\r\n                )}\r\n              </div>\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button\r\n              onClick={() => {\r\n                !props.selectedProductToAssociate?.previous &&\r\n                  props.setSelectedProductToAssociate(undefined);\r\n                props.setIsOpenAssociateProduct(false);\r\n              }}\r\n              color=\"primary\"\r\n            >\r\n              {props.selectedProductToAssociate?.previous ? \"No\" : \"Cerrar\"}\r\n            </Button>\r\n            {props.buyState.length > 0 &&\r\n              props.buyState.find((buy) => buy.product !== undefined) && (\r\n                <Button\r\n                  disabled={!props.selectedProductToAssociate}\r\n                  onClick={() => {\r\n                    props.AssociateProduct({\r\n                      index: props.selectedProductToAssociate.index,\r\n                      item: selectedArt,\r\n                      type: \"art\",\r\n                    });\r\n                    props.setSelectedProductToAssociate(undefined);\r\n                    setSelectedArt(undefined);\r\n                    props.setIsOpenAssociateProduct(false);\r\n                    history.push({ pathname: \"/\" });\r\n                  }}\r\n                  color=\"primary\"\r\n                >\r\n                  {props.selectedProductToAssociate?.previous\r\n                    ? \"Sí\"\r\n                    : \"Asociar\"}\r\n                </Button>\r\n              )}\r\n            {!props.selectedProductToAssociate?.previous && (\r\n              <Button\r\n                onClick={() => {\r\n                  props.addItemToBuyState({\r\n                    type: \"art\",\r\n                    item: selectedArt,\r\n                  });\r\n\r\n                  setSelectedArt(undefined);\r\n                }}\r\n                color=\"primary\"\r\n              >\r\n                Agregar como nuevo\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Dialog>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","//[]      17. Búsqueda de Prixers.\r\n//[]      16. Filtros para las búsquedas (Por etiqueta).\r\n//[]      25. Editar datos de la imagen en la tarjeta del grid grande.\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { isWidthUp } from \"@material-ui/core/withWidth\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Carousel from \"react-material-ui-carousel\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport utils from \"../utils/utils\";\r\nimport axios from \"axios\";\r\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\nimport MaximizeIcon from \"@material-ui/icons/Maximize\";\r\nimport MDEditor from \"@uiw/react-md-editor\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Masonry, { ResponsiveMasonry } from \"react-responsive-masonry\";\r\nimport { setProductAtts, getAttributes, getEquation } from \"./services.js\";\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    overflow: \"hidden\",\r\n    alignContent: \"space-between\",\r\n    padding: 10,\r\n    marginTop: 10,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  gridList: {\r\n    overflow: \"hidden\",\r\n    padding: 10,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    justifyContent: \"space-around\",\r\n  },\r\n  img: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n  },\r\n  CarouselContent: {\r\n    width: \"100%\",\r\n    heigh: \"40vh\",\r\n  },\r\n}));\r\n\r\nexport default function ProductGrid(props) {\r\n  const classes = useStyles();\r\n  const [tiles, setTiles] = useState();\r\n  const [imagesVariants, setImagesVariants] = useState([]);\r\n  const [imagesProducts, setImagesProducts] = useState();\r\n  const [width, setWidth] = useState([]);\r\n  const [height, setHeight] = useState([]);\r\n  const [order, setOrder] = useState(\"\");\r\n\r\n  const handleChange = (event) => {\r\n    setOrder(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const base_url = process.env.REACT_APP_BACKEND_URL + \"/product/read-all\";\r\n    axios.get(base_url).then(async (response) => {\r\n      let productsAttTemp1 = response.data.products;\r\n      await productsAttTemp1.map(async (p, iProd, pArr) => {\r\n        p.variants.map((variant) => {\r\n          imagesVariants.push(variant.variantImage);\r\n        });\r\n        productsAttTemp1 = await getEquation(p, iProd, pArr);\r\n      });\r\n      if (order === \"\") {\r\n        setTiles(getAttributes(productsAttTemp1));\r\n      } else if (order === \"A-Z\") {\r\n        let products = productsAttTemp1.sort(function (a, b) {\r\n          if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n            return 1;\r\n          }\r\n          if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        });\r\n        setTiles(getAttributes(products));\r\n      } else if (order === \"Z-A\") {\r\n        let products = productsAttTemp1.sort(function (a, b) {\r\n          if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n            return 1;\r\n          }\r\n          if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        });\r\n        setTiles(getAttributes(products));\r\n      } else if (order === \"Price\") {\r\n        let products = productsAttTemp1.sort(function (a, b) {\r\n          let aPrice = a.publicPrice.from.replace(/[$]/gi, \"\");\r\n          let bPrice = b.publicPrice.from.replace(/[$]/gi, \"\");\r\n          return aPrice - bPrice;\r\n        });\r\n        setTiles(getAttributes(products));\r\n      }\r\n    });\r\n  }, [order]);\r\n\r\n  const addingToCart = (e, tile) => {\r\n    e.preventDefault();\r\n    props.setSelectedProduct(tile);\r\n    props.setIsOpenAssociateArt(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ display: \"flex\", justifyContent: \"end\" }}>\r\n        <FormControl className={classes.formControl}>\r\n          <InputLabel id=\"demo-simple-select-label\">Ordenar</InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-label\"\r\n            id=\"demo-simple-select\"\r\n            value={order}\r\n            onChange={handleChange}\r\n          >\r\n            <MenuItem value={\"A-Z\"}>A-Z</MenuItem>\r\n            <MenuItem value={\"Z-A\"}>Z-A</MenuItem>\r\n            <MenuItem value={\"Price\"}>Menor precio</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </div>\r\n      <ResponsiveMasonry\r\n        columnsCountBreakPoints={{ 350: 1, 750: 2, 900: 3, 1080: 3 }}\r\n      >\r\n        <Masonry style={{ columnGap: \"30px\" }}>\r\n          {tiles ? (\r\n            tiles.map((tile, iProd, productsArr) => (\r\n              <Card className={classes.root}>\r\n                <CardMedia style={{ width: \"110%\" }}>\r\n                  <Carousel\r\n                    autoPlay={false}\r\n                    stopAutoPlayOnHover={true}\r\n                    animation=\"slide\"\r\n                    duration={500}\r\n                    fullHeightHover={true}\r\n                    IndicatorIcon={<MaximizeIcon />}\r\n                    NextIcon={<ArrowForwardIosIcon />}\r\n                    PrevIcon={<ArrowBackIosIcon />}\r\n                    activeIndicatorIconButtonProps={{\r\n                      style: {\r\n                        color: \"#d33f49\",\r\n                      },\r\n                    }}\r\n                    navButtonsProps={{\r\n                      style: {\r\n                        backgroundColor: \"rgba(0, 0, 0, 0)\",\r\n                        color: \"#d33f49\",\r\n                        width: \"98%\",\r\n                        height: \"100vh\",\r\n                        marginTop: \"-50vh\",\r\n                        borderRadius: \"0\",\r\n                        marginLeft: \"1px\",\r\n                      },\r\n                    }}\r\n                    indicatorContainerProps={{\r\n                      style: {\r\n                        position: \"absolute\",\r\n                        marginTop: \"-17px\",\r\n                      },\r\n                    }}\r\n                  >\r\n                    {tile.needsEquation ? (\r\n                      tile.variants[0].variantImage ? (\r\n                        tile.variants[0].variantImage.map((img, key_id) =>\r\n                          img.type === \"images\" ? (\r\n                            <img\r\n                              key={key_id}\r\n                              src={img.url}\r\n                              className={classes.img}\r\n                              alt=\"variant\"\r\n                            />\r\n                          ) : (\r\n                            <span\r\n                              key={key_id}\r\n                              style={{ width: \"100%\" }}\r\n                              dangerouslySetInnerHTML={{ __html: img.url }}\r\n                            ></span>\r\n                          )\r\n                        )\r\n                      ) : (\r\n                        <img\r\n                          src={tile.thumbUrl}\r\n                          className={classes.img}\r\n                          alt=\"product\"\r\n                        />\r\n                      )\r\n                    ) : tile.sources && tile.sources.images?.length > 0 ? (\r\n                      tile.sources.images.map((img, key_id) =>\r\n                        img.type === \"images\" ? (\r\n                          <img\r\n                            key={key_id}\r\n                            src={img.url}\r\n                            className={classes.img}\r\n                            alt=\"product\"\r\n                          />\r\n                        ) : (\r\n                          <span\r\n                            key={key_id}\r\n                            style={{ width: \"100%\" }}\r\n                            dangerouslySetInnerHTML={{ __html: img.url }}\r\n                          />\r\n                        )\r\n                      )\r\n                    ) : (\r\n                      <img\r\n                        src={tile.thumbUrl}\r\n                        className={classes.img}\r\n                        alt=\"product\"\r\n                      />\r\n                    )}\r\n                  </Carousel>\r\n                </CardMedia>\r\n                {/* <CardActionArea style={{ alignContent: \"space-between\" }}> */}\r\n                <CardContent\r\n                  data-color-mode=\"light\"\r\n                  style={{ alignContent: \"space-between\" }}\r\n                >\r\n                  <Typography\r\n                    gutterBottom\r\n                    style={{ padding: 0, marginBotom: 12, width: 10 }}\r\n                    variant=\"h5\"\r\n                    component=\"h2\"\r\n                  >\r\n                    {tile.name}\r\n                  </Typography>\r\n                  <Typography\r\n                    gutterBottom\r\n                    style={{ fontSize: 15, padding: 0, marginBottom: 15 }}\r\n                    variant=\"h5\"\r\n                    component=\"h2\"\r\n                  >\r\n                    {JSON.parse(localStorage.getItem(\"token\")) &&\r\n                    JSON.parse(localStorage.getItem(\"token\")).username\r\n                      ? tile.needsEquation &&\r\n                        tile.prixerEquation &&\r\n                        tile.prixerEquation != 0\r\n                        ? \"PVP: $\" +\r\n                          Math.round(parseFloat(tile.publicEquation)) +\r\n                          \" \\n PVM: $\" +\r\n                          Math.round(parseFloat(tile.prixerEquation))\r\n                        : \"PVP: $\" +\r\n                          tile.publicPrice?.from +\r\n                          \" - \" +\r\n                          tile.publicPrice?.to +\r\n                          \" \\n PVM: $\" +\r\n                          tile.prixerPrice?.from +\r\n                          \" - \" +\r\n                          tile.prixerPrice?.to\r\n                      : tile.needsEquation &&\r\n                        tile.publicEquation &&\r\n                        tile.publicEquation != 0\r\n                      ? \"PVP: $\" + Math.round(parseFloat(tile.publicEquation))\r\n                      : \"PVP: \" +\r\n                        tile.publicPrice?.from +\r\n                        \" - \" +\r\n                        tile.publicPrice?.to}\r\n                  </Typography>\r\n                  <MDEditor.Markdown\r\n                    source={tile.description}\r\n                    style={{ whiteSpace: \"pre-wrap\" }}\r\n                  />\r\n                </CardContent>\r\n                {/* </CardActionArea> */}\r\n                {tile.hasSpecialVar && (\r\n                  <>\r\n                    <CardActions style={{ width: \"25%\" }}>\r\n                      <Grid item xs={12} md={12}>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          className={classes.form}\r\n                        >\r\n                          <TextField\r\n                            variant=\"outlined\"\r\n                            display=\"inline\"\r\n                            id=\"width\"\r\n                            label=\"Ancho\"\r\n                            name=\"width\"\r\n                            autoComplete=\"width\"\r\n                            value={width[iProd]}\r\n                            onChange={async (e) => {\r\n                              if (!e.target.value) {\r\n                                let w = width;\r\n                                w[iProd] = e.target.value;\r\n                                setWidth([...w]);\r\n                                let l = await getEquation(\r\n                                  tile,\r\n                                  iProd,\r\n                                  tiles,\r\n                                  width,\r\n                                  height\r\n                                );\r\n                                setTiles([...l]);\r\n                              } else {\r\n                                if (\r\n                                  /^\\d+$/.test(e.target.value) &&\r\n                                  e.target.value[0] !== \"0\"\r\n                                ) {\r\n                                  if (e.target.value && e.target.value != 0) {\r\n                                    let w = width;\r\n                                    w[iProd] = e.target.value;\r\n                                    setWidth([...w]);\r\n                                    let l = await getEquation(\r\n                                      tile,\r\n                                      iProd,\r\n                                      tiles,\r\n                                      width,\r\n                                      height\r\n                                    );\r\n                                    setTiles([...l]);\r\n                                  } else {\r\n                                    let w = width;\r\n                                    w[iProd] = e.target.value;\r\n                                    setWidth([...w]);\r\n                                    let l = await getEquation(\r\n                                      tile,\r\n                                      iProd,\r\n                                      tiles,\r\n                                      width,\r\n                                      height\r\n                                    );\r\n                                    setTiles([...l]);\r\n                                  }\r\n                                }\r\n                              }\r\n                            }}\r\n                          />\r\n                        </FormControl>\r\n                      </Grid>\r\n                    </CardActions>\r\n                    <CardActions style={{ width: \"25%\" }}>\r\n                      <Grid item xs={12} md={12}>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          className={classes.form}\r\n                        >\r\n                          <TextField\r\n                            variant=\"outlined\"\r\n                            display=\"inline\"\r\n                            id=\"height\"\r\n                            label=\"Alto\"\r\n                            name=\"height\"\r\n                            autoComplete=\"height\"\r\n                            value={height[iProd]}\r\n                            onChange={async (e) => {\r\n                              if (!e.target.value) {\r\n                                let h = height;\r\n                                h[iProd] = e.target.value;\r\n                                setHeight([...h]);\r\n                                let l = await getEquation(\r\n                                  tile,\r\n                                  iProd,\r\n                                  tiles,\r\n                                  width,\r\n                                  height\r\n                                );\r\n                                setTiles([...l]);\r\n                              } else {\r\n                                if (\r\n                                  /^\\d+$/.test(e.target.value) &&\r\n                                  e.target.value[0] !== \"0\"\r\n                                ) {\r\n                                  if (e.target.value && e.target.value != 0) {\r\n                                    let h = height;\r\n                                    h[iProd] = e.target.value;\r\n                                    setHeight([...h]);\r\n                                    let l = await getEquation(\r\n                                      tile,\r\n                                      iProd,\r\n                                      tiles,\r\n                                      width,\r\n                                      height\r\n                                    );\r\n                                    setTiles([...l]);\r\n                                  } else {\r\n                                    let h = height;\r\n                                    h[iProd] = e.target.value;\r\n                                    setHeight([...h]);\r\n                                    let l = await getEquation(\r\n                                      tile,\r\n                                      iProd,\r\n                                      tiles,\r\n                                      width,\r\n                                      height\r\n                                    );\r\n                                    setTiles([...l]);\r\n                                  }\r\n                                }\r\n                              }\r\n                            }}\r\n                          />\r\n                        </FormControl>\r\n                      </Grid>\r\n                      {/* </Grid> */}\r\n                    </CardActions>\r\n                  </>\r\n                )}\r\n                {tile.attributes &&\r\n                  tile.attributes.map((att, iAtt, attributesArr) => (\r\n                    <CardActions key={iAtt} style={{ width: \"50%\" }}>\r\n                      <Grid item xs={12} sm={12} md={12}>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          className={classes.form}\r\n                          xs={12}\r\n                          sm={12}\r\n                          md={12}\r\n                        >\r\n                          <InputLabel required id=\"att.name\">\r\n                            {att.name}\r\n                          </InputLabel>\r\n                          <Select\r\n                            labelId=\"artTypeLabel\"\r\n                            id=\"artType\"\r\n                            value={tile.selection && tile.selection[iAtt]}\r\n                            onChange={async (e) => {\r\n                              const pAtts = await setProductAtts(\r\n                                e.target.value,\r\n                                attributesArr,\r\n                                iProd,\r\n                                iAtt,\r\n                                productsArr,\r\n                                width,\r\n                                height\r\n                              );\r\n                              if (pAtts) {\r\n                                setTiles(\r\n                                  pAtts.pAtt ? [...pAtts.pAtt] : [...pAtts.att]\r\n                                );\r\n                              }\r\n                            }}\r\n                            label={att.selection}\r\n                          >\r\n                            <MenuItem value=\"\">\r\n                              <em></em>\r\n                            </MenuItem>\r\n                            {att.value &&\r\n                              att.value.map((n, i) => (\r\n                                <MenuItem key={n} value={n}>\r\n                                  {n}\r\n                                </MenuItem>\r\n                              ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                    </CardActions>\r\n                  ))}\r\n                <CardActions>\r\n                  <Button\r\n                    size=\"small\"\r\n                    color=\"primary\"\r\n                    onClick={(e) => {\r\n                      window.open(\r\n                        utils.generateWaProductMessage(tile),\r\n                        \"_blank\"\r\n                      );\r\n                    }}\r\n                  >\r\n                    Información <WhatsAppIcon />\r\n                  </Button>\r\n                </CardActions>\r\n                <CardActions>\r\n                  {tile.variants &&\r\n                    tile.variants.map((v) => {\r\n                      if (v.attributes) {\r\n                        const test = v.attributes.reduce((r, a) => {\r\n                          return a.name in tile.attributes === true;\r\n                        }, true);\r\n                      }\r\n                    })}\r\n                </CardActions>\r\n                <Grid\r\n                  item\r\n                  xs={12}\r\n                  sm={12}\r\n                  md={12}\r\n                  lg={12}\r\n                  xl={12}\r\n                  style={{ display: \"flex\", justifyContent: \"center\" }}\r\n                >\r\n                  <Button\r\n                    size=\"small\"\r\n                    color=\"primary\"\r\n                    onClick={(e) => {\r\n                      addingToCart(e, tile);\r\n                    }}\r\n                  >\r\n                    <ShoppingCartIcon />\r\n                    Agregar\r\n                  </Button>\r\n                </Grid>\r\n              </Card>\r\n            ))\r\n          ) : (\r\n            <h1>Pronto encontrarás los productos ideales para ti.</h1>\r\n          )}\r\n        </Masonry>\r\n      </ResponsiveMasonry>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport AppBar from \"../sharedComponents/appBar/appBar\";\r\nimport FloatingAddButton from \"../sharedComponents/floatingAddButton/floatingAddButton\";\r\nimport ProductsGrid from \"./productsGrid\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useState } from \"react\";\r\nimport ArtUploader from \"../sharedComponents/artUploader/artUploader\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Img from \"react-cool-img\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    overflow: \"hidden\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"left\",\r\n    flexGrow: 1,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  float: {\r\n    position: \"relative\",\r\n    marginLeft: \"95%\",\r\n  },\r\n  img: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxHeight: 200,\r\n      width: \"100%\",\r\n    },\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      maxHeight: 480,\r\n      width: \"100%\",\r\n    },\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      maxHeight: 480,\r\n      width: \"100%\",\r\n    },\r\n    [theme.breakpoints.up(\"xl\")]: {\r\n      maxHeight: 480,\r\n      width: \"100%\",\r\n    },\r\n    \"&:hover\": {\r\n      cursor: \"pointer\",\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function ProductsCatalog(props) {\r\n  const [openArtFormDialog, setOpenArtFormDialog] = useState(false);\r\n  const [selectedProduct, setSelectedProduct] = useState(undefined);\r\n  const prixerUsername = \"all\";\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  return (\r\n    <>\r\n      <AppBar prixerUsername={prixerUsername} />\r\n\r\n      <Container component=\"main\" className={classes.paper}>\r\n        <CssBaseline />\r\n        <Grid style={{ marginTop: 80 }}>\r\n          <h1>Productos Prix</h1>\r\n        </Grid>\r\n        <ProductsGrid\r\n          prixerUsername={null}\r\n          buyState={props.buyState}\r\n          addItemToBuyState={props.addItemToBuyState}\r\n          setSelectedProduct={setSelectedProduct}\r\n          setIsOpenAssociateArt={props.setIsOpenAssociateArt}\r\n        />\r\n        {openArtFormDialog && (\r\n          <ArtUploader\r\n            openArtFormDialog={openArtFormDialog}\r\n            setOpenArtFormDialog={setOpenArtFormDialog}\r\n          />\r\n        )}\r\n        {JSON.parse(localStorage.getItem(\"token\")) &&\r\n          JSON.parse(localStorage.getItem(\"token\")).username && (\r\n            <Grid className={classes.float}>\r\n              <FloatingAddButton setOpenArtFormDialog={setOpenArtFormDialog} />\r\n            </Grid>\r\n          )}\r\n        <Dialog\r\n          open={props.isOpenAssociateArt}\r\n          keepMounted\r\n          fullWidth\r\n          onClose={() => props.setIsOpenAssociateArt(false)}\r\n          aria-labelledby=\"alert-dialog-slide-title\"\r\n          aria-describedby=\"alert-dialog-slide-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-slide-title\">\r\n            {\"Asocia el producto a un arte dentro de tu carrito de compras\"}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-slide-description\">\r\n              {!props.selectedArtToAssociate?.previous &&\r\n                props.buyState.length > 0 &&\r\n                props.buyState.find((buy) => buy.art !== undefined) && (\r\n                  <strong>\r\n                    Puedes asociar el produto a un arte de tu carrito de compras\r\n                    o agregarlo y asociarlo mas tarde.\r\n                  </strong>\r\n                )}\r\n              <div style={{ display: \"flex\" }}>\r\n                {props.selectedArtToAssociate?.previous ? (\r\n                  \"¿Deseas asociar este producto al item seleccionado previamente en el carrito?\"\r\n                ) : props.buyState.length > 0 &&\r\n                  props.buyState.find((buy) => buy.art !== undefined) ? (\r\n                  props.buyState.map((buy, index) => {\r\n                    return (\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                        }}\r\n                      >\r\n                        {buy.art && (\r\n                          <div\r\n                            onClick={() => {\r\n                              props.setSelectedArtToAssociate({\r\n                                index,\r\n                                item: buy.art,\r\n                              });\r\n                            }}\r\n                          >\r\n                            <Img\r\n                              placeholder=\"/imgLoading.svg\"\r\n                              style={{\r\n                                backgroundColor: \"#eeeeee\",\r\n                                // maxWidth: 200,\r\n                                maxHeight: 200,\r\n                                borderRadius: 10,\r\n                                marginRight: 10,\r\n                                opacity:\r\n                                  props.selectedArtToAssociate?.index === index\r\n                                    ? \"1\"\r\n                                    : \"0.6\",\r\n                              }}\r\n                              src={buy.art ? buy.art.squareThumbUrl : \"\"}\r\n                              debounce={1000}\r\n                              cache\r\n                              error=\"/imgError.svg\"\r\n                              alt={buy.art && buy.art.title}\r\n                              id={buy.art && buy.art.artId}\r\n                            />\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <strong>\r\n                    Parece que no tienes ningún arte dentro del carrito de\r\n                    compras, aún así, puedes agregar este producto y asociarlo\r\n                    más tarde.\r\n                  </strong>\r\n                )}\r\n              </div>\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button\r\n              onClick={() => {\r\n                props.selectedArtToAssociate?.previous &&\r\n                  props.setSelectedArtToAssociate(undefined);\r\n                props.setIsOpenAssociateArt(false);\r\n              }}\r\n              color=\"primary\"\r\n            >\r\n              {props.selectedArtToAssociate?.previous ? \"No\" : \"Cerrar\"}\r\n            </Button>\r\n            {props.buyState.length > 0 &&\r\n              props.buyState.find((buy) => buy.art !== undefined) && (\r\n                <Button\r\n                  disabled={!props.selectedArtToAssociate}\r\n                  onClick={() => {\r\n                    props.AssociateProduct({\r\n                      index: props.selectedArtToAssociate.index,\r\n                      item: selectedProduct,\r\n                      type: \"product\",\r\n                    });\r\n                    setSelectedProduct(undefined);\r\n                    props.setSelectedArtToAssociate(undefined);\r\n                    props.setIsOpenAssociateArt(false);\r\n                    history.push({ pathname: \"/\" });\r\n                  }}\r\n                  color=\"primary\"\r\n                >\r\n                  {props.selectedArtToAssociate?.previous ? \"Sí\" : \"Asociar\"}\r\n                </Button>\r\n              )}\r\n            {!props.selectedArtToAssociate?.previous && (\r\n              <Button\r\n                onClick={() => {\r\n                  props.addItemToBuyState({\r\n                    type: \"product\",\r\n                    item: selectedProduct,\r\n                  });\r\n                  setSelectedProduct(undefined);\r\n                }}\r\n                color=\"primary\"\r\n              >\r\n                Agregar como nuevo\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Dialog>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport React, { useState, Suspense } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport LocalPhoneIcon from \"@material-ui/icons/LocalPhone\";\r\nimport EmailIcon from \"@material-ui/icons/Email\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport BusinessIcon from \"@material-ui/icons/Business\";\r\nimport UtilVals from \"../utils/validations\";\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  gridInput: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    marginBottom: \"12px\",\r\n  },\r\n  textField: {\r\n    marginRight: \"8px\",\r\n  },\r\n}));\r\nfunction ConsumerForm(props) {\r\n  const classes = useStyles();\r\n  const [shippingDataCheck, setShippingDataCheck] = useState(true);\r\n  const [billingDataCheck, setBillingDataCheck] = useState(true);\r\n  const [billingShDataCheck, setBillingShDataCheck] = useState(false);\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  const handleAccordionExpansion = (panel) => (event, isExpanded) => {\r\n    setExpanded(isExpanded ? panel : false);\r\n  };\r\n\r\n  const handleShippingDataCheck = () => {\r\n    if (shippingDataCheck) {\r\n      props.setValues({\r\n        ...props.values,\r\n        shippingName: \"\",\r\n        shippingLastName: \"\",\r\n        shippingPhone: \"\",\r\n        shippingAddress: \"\",\r\n      });\r\n    } else {\r\n      props.setValues({\r\n        ...props.values,\r\n        shippingName: props.values.name,\r\n        shippingLastName: props.values.lastName,\r\n        shippingPhone: props.values.phone,\r\n        shippingAddress: props.values.address,\r\n      });\r\n    }\r\n\r\n    setShippingDataCheck(!shippingDataCheck);\r\n  };\r\n\r\n  const handleBillingDataCheck = () => {\r\n    if (shippingDataCheck) {\r\n      props.setValues({\r\n        ...props.values,\r\n        billingName: \"\",\r\n        billingLastName: \"\",\r\n        billingPhone: \"\",\r\n        billingAddress: \"\",\r\n      });\r\n    } else {\r\n      props.setValues({\r\n        ...props.values,\r\n        billingName: props.values.shippingName,\r\n        billingLastName: props.values.shippingLastName,\r\n        billingPhone: props.values.shippingPhone,\r\n        billingAddress: props.values.shippingAddress,\r\n      });\r\n    }\r\n\r\n    setShippingDataCheck(!shippingDataCheck);\r\n  };\r\n\r\n  const handleBillingShDataCheck = () => {\r\n    if (billingShDataCheck) {\r\n      props.setValues({\r\n        ...props.values,\r\n        billingName: \"\",\r\n        billingLastName: \"\",\r\n        billingPhone: \"\",\r\n        billingAddress: \"\",\r\n      });\r\n    } else {\r\n      props.setValues({\r\n        ...props.values,\r\n        shippingName: props.values.shippingName,\r\n        shippingLastName: props.values.shippingLastName,\r\n        shippingPhone: props.values.shippingPhone,\r\n        shippingAddress: props.values.shippingAddress,\r\n      });\r\n    }\r\n\r\n    setShippingDataCheck(!shippingDataCheck);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Accordion\r\n        expanded={expanded === \"basic\"}\r\n        onChange={handleAccordionExpansion(\"basic\")}\r\n      >\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id=\"panel1a-header\"\r\n        >\r\n          <Typography>Datos básicos</Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <form autoComplete=\"off\">\r\n            <Grid container>\r\n              <Grid\r\n                item\r\n                lg={4}\r\n                md={4}\r\n                sm={4}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  label=\"Nombre\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  value={props.values?.name ? props.values.name : \"\"}\r\n                  onChange={(e) =>\r\n                    props.setValues({ ...props.values, name: e.target.value })\r\n                  }\r\n                  required\r\n                  margin=\"normal\"\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={4}\r\n                md={4}\r\n                sm={4}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  label=\"Apellido\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  value={props.values?.lastName ? props.values.lastName : \"\"}\r\n                  required\r\n                  onChange={(e) =>\r\n                    props.setValues({\r\n                      ...props.values,\r\n                      lastName: e.target.value,\r\n                    })\r\n                  }\r\n                  margin=\"normal\"\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={4}\r\n                md={4}\r\n                sm={4}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  className={classes.textField}\r\n                  id=\"standard-name\"\r\n                  label=\"Usuario\"\r\n                  fullWidth\r\n                  required\r\n                  value={\r\n                    props.values?.username\r\n                      ? props.values.username.toLowerCase()\r\n                      : \"\"\r\n                  }\r\n                  error={!UtilVals.isAValidUsername(props.values?.username)}\r\n                  onChange={(e) =>\r\n                    props.setValues({\r\n                      ...props.values,\r\n                      username: e.target.value,\r\n                    })\r\n                  }\r\n                  margin=\"normal\"\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={4}\r\n                md={4}\r\n                sm={4}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  label=\"Cédula o RIF\"\r\n                  fullWidth\r\n                  helperText=\"ej: V-12345679 o V-1234567-0\"\r\n                  className={classes.textField}\r\n                  value={props.values?.ci ? props.values.ci : \"\"}\r\n                  onChange={(e) =>\r\n                    props.setValues({ ...props.values, ci: e.target.value })\r\n                  }\r\n                  required\r\n                  margin=\"normal\"\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={4}\r\n                md={4}\r\n                sm={4}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  label=\"Telefono\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  helperText=\"ej: 584141234567 o +584141234567 o 04143201028\"\r\n                  value={props.values?.phone ? props.values.phone : \"\"}\r\n                  //   error={!UtilVals.isAValidPhoneNum(props.values?.phone)}\r\n                  onChange={(e) =>\r\n                    props.setValues({ ...props.values, phone: e.target.value })\r\n                  }\r\n                  required\r\n                  margin=\"normal\"\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <LocalPhoneIcon />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={4}\r\n                md={4}\r\n                sm={4}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  label=\"Correo\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  value={props.values?.email ? props.values.email : \"\"}\r\n                  onChange={(e) =>\r\n                    props.setValues({ ...props.values, email: e.target.value })\r\n                  }\r\n                  error={!UtilVals.isAValidEmail(props.values?.email)}\r\n                  required\r\n                  margin=\"normal\"\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <EmailIcon />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={12}\r\n                md={12}\r\n                sm={12}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  fullWidth\r\n                  label=\"Dirección de envio\"\r\n                  className={classes.textField}\r\n                  multiline\r\n                  rows={3}\r\n                  helperText=\"Incluir todos los detalles posibles, incluidas referencias.\"\r\n                  value={props.values?.address ? props.values.address : \"\"}\r\n                  required\r\n                  onChange={(e) =>\r\n                    props.setValues({\r\n                      ...props.values,\r\n                      address: e.target.value,\r\n                    })\r\n                  }\r\n                  margin=\"normal\"\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <HomeIcon />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n\r\n      <Accordion\r\n        expanded={expanded === \"shipping\"}\r\n        onChange={handleAccordionExpansion(\"shipping\")}\r\n      >\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id=\"panel1a-header\"\r\n        >\r\n          <Typography>Datos de Envío</Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <form autoComplete=\"off\">\r\n            <Grid container>\r\n              <Grid\r\n                item\r\n                lg={12}\r\n                md={12}\r\n                sm={12}\r\n                xs={12}\r\n                // className={classes.gridInput}\r\n              >\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      checked={shippingDataCheck}\r\n                      onChange={() => {\r\n                        handleShippingDataCheck();\r\n                      }}\r\n                    />\r\n                  }\r\n                  label=\"Igual a Datos básicos\"\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={4}\r\n                md={4}\r\n                sm={4}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  label=\"Nombre\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  disabled={shippingDataCheck}\r\n                  value={\r\n                    shippingDataCheck\r\n                      ? props.values?.name\r\n                        ? props.values.name\r\n                        : \"\"\r\n                      : props.values.shippingName\r\n                  }\r\n                  onChange={(e) =>\r\n                    props.setValues({\r\n                      ...props.values,\r\n                      shippingName: e.target.value,\r\n                    })\r\n                  }\r\n                  required\r\n                  margin=\"normal\"\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={4}\r\n                md={4}\r\n                sm={4}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  label=\"Apellido\"\r\n                  fullWidth\r\n                  disabled={shippingDataCheck}\r\n                  className={classes.textField}\r\n                  value={\r\n                    shippingDataCheck\r\n                      ? props.values?.lastName\r\n                        ? props.values.lastName\r\n                        : \"\"\r\n                      : props.values.shippingLastName\r\n                  }\r\n                  required\r\n                  onChange={(e) =>\r\n                    props.setValues({\r\n                      ...props.values,\r\n                      shippingLastName: e.target.value,\r\n                    })\r\n                  }\r\n                  margin=\"normal\"\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={4}\r\n                md={4}\r\n                sm={4}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  label=\"Telefono\"\r\n                  fullWidth\r\n                  disabled={shippingDataCheck}\r\n                  className={classes.textField}\r\n                  helperText=\"ej: 584141234567 o +584141234567 o 04143201028\"\r\n                  value={\r\n                    shippingDataCheck\r\n                      ? props.values?.phone\r\n                        ? props.values.phone\r\n                        : \"\"\r\n                      : props.values.shippingPhone\r\n                  }\r\n                  // error={\r\n                  //   shippingDataCheck\r\n                  //     ? props.values?.phone != undefined &&\r\n                  //       !UtilVals.isAValidPhoneNum(props.values?.phone)\r\n                  //     : props.values?.shippingPhone != undefined &&\r\n                  //       !UtilVals.isAValidPhoneNum(props.values?.shippingPhone)\r\n                  // }\r\n                  onChange={(e) => {\r\n                    props.setValues({\r\n                      ...props.values,\r\n                      shippingPhone: e.target.value,\r\n                    });\r\n                  }}\r\n                  required\r\n                  margin=\"normal\"\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <LocalPhoneIcon />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={12}\r\n                md={12}\r\n                sm={12}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  fullWidth\r\n                  label=\"Dirección de envio\"\r\n                  className={classes.textField}\r\n                  multiline\r\n                  disabled={shippingDataCheck}\r\n                  rows={3}\r\n                  helperText=\"Incluir todos los detalles posibles, incluidas referencias.\"\r\n                  value={\r\n                    shippingDataCheck\r\n                      ? props.values?.address\r\n                        ? props.values.address\r\n                        : \"\"\r\n                      : props.values.shippingAddress\r\n                  }\r\n                  required\r\n                  onChange={(e) =>\r\n                    props.setValues({\r\n                      ...props.values,\r\n                      shippingAddress: e.target.value,\r\n                    })\r\n                  }\r\n                  margin=\"normal\"\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <HomeIcon />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n\r\n      <Accordion\r\n        expanded={expanded === \"billing\"}\r\n        onChange={handleAccordionExpansion(\"billing\")}\r\n      >\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id=\"panel1a-header\"\r\n        >\r\n          <Typography>Datos de facturación</Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <form autoComplete=\"off\">\r\n            <Grid container>\r\n              <Grid\r\n                item\r\n                lg={12}\r\n                md={12}\r\n                sm={12}\r\n                xs={12}\r\n                // className={classes.gridInput}\r\n              >\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      checked={billingDataCheck}\r\n                      onChange={(e) => {\r\n                        if (billingShDataCheck) {\r\n                          setBillingDataCheck(!billingDataCheck);\r\n                          setBillingShDataCheck(!billingShDataCheck);\r\n                        } else {\r\n                          setBillingDataCheck(!billingDataCheck);\r\n                        }\r\n                      }}\r\n                    />\r\n                  }\r\n                  label=\"Igual a Datos básicos\"\r\n                />\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      checked={billingShDataCheck}\r\n                      onChange={(e) => {\r\n                        if (billingDataCheck) {\r\n                          setBillingShDataCheck(!billingShDataCheck);\r\n                          setBillingDataCheck(!billingDataCheck);\r\n                        } else {\r\n                          setBillingShDataCheck(!billingShDataCheck);\r\n                        }\r\n                      }}\r\n                    />\r\n                  }\r\n                  label=\"Igual a Datos de envío\"\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={6}\r\n                md={6}\r\n                sm={4}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  label=\"Nombre\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  disabled={billingDataCheck || billingShDataCheck}\r\n                  value={\r\n                    billingShDataCheck\r\n                      ? props.values?.shippingName\r\n                        ? props.values.shippingName\r\n                        : \"\"\r\n                      : billingDataCheck\r\n                      ? props.values?.name\r\n                        ? props.values.name\r\n                        : \"\"\r\n                      : props.values.billingShName\r\n                  }\r\n                  onChange={(e) =>\r\n                    props.setValues({\r\n                      ...props.values,\r\n                      billingShName: e.target.value,\r\n                    })\r\n                  }\r\n                  required\r\n                  margin=\"normal\"\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={6}\r\n                md={6}\r\n                sm={4}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  label=\"Apellido\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  disabled={billingDataCheck || billingShDataCheck}\r\n                  value={\r\n                    billingShDataCheck\r\n                      ? props.values?.shippingLastName\r\n                        ? props.values.shippingLastName\r\n                        : \"\"\r\n                      : billingDataCheck\r\n                      ? props.values?.lastName\r\n                        ? props.values.lastName\r\n                        : \"\"\r\n                      : props.values.billingShLastName\r\n                  }\r\n                  required\r\n                  onChange={(e) =>\r\n                    props.setValues({\r\n                      ...props.values,\r\n                      billingShLastName: e.target.value,\r\n                    })\r\n                  }\r\n                  margin=\"normal\"\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={4}\r\n                md={4}\r\n                sm={4}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  label=\"Telefono\"\r\n                  fullWidth\r\n                  disabled={billingDataCheck || billingShDataCheck}\r\n                  className={classes.textField}\r\n                  helperText=\"ej: 584141234567 o +584141234567 o 04143201028\"\r\n                  value={\r\n                    billingShDataCheck\r\n                      ? props.values?.shippingPhone\r\n                        ? props.values.shippingPhone\r\n                        : \"\"\r\n                      : billingDataCheck\r\n                      ? props.values?.phone\r\n                        ? props.values.phone\r\n                        : \"\"\r\n                      : props.values.billingShPhone\r\n                  }\r\n                  // error={\r\n                  //   billingDataCheck\r\n                  //     ? props.values?.phone != undefined &&\r\n                  //       !UtilVals.isAValidPhoneNum(props.values?.phone)\r\n                  //     : billingShDataCheck\r\n                  //     ? (props.values?.billingPhone != undefined ||\r\n                  //         (shippingDataCheck &&\r\n                  //           props.values?.phone != undefined)) &&\r\n                  //       !UtilVals.isAValidPhoneNum(props.values?.billingPhone)\r\n                  //     : props.values?.billingShPhone != undefined &&\r\n                  //       !UtilVals.isAValidPhoneNum(props.values?.billingShPhone)\r\n                  // }\r\n                  onChange={(e) =>\r\n                    props.setValues({\r\n                      ...props.values,\r\n                      billingShPhone: e.target.value,\r\n                    })\r\n                  }\r\n                  required\r\n                  margin=\"normal\"\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <LocalPhoneIcon />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                lg={12}\r\n                md={12}\r\n                sm={12}\r\n                xs={12}\r\n                className={classes.gridInput}\r\n              >\r\n                <TextField\r\n                  id=\"standard-name\"\r\n                  fullWidth\r\n                  label=\"Dirección de facturación\"\r\n                  multiline\r\n                  rows={3}\r\n                  disabled={billingDataCheck || billingShDataCheck}\r\n                  className={classes.textField}\r\n                  value={\r\n                    billingShDataCheck\r\n                      ? props.values?.shippingAddress\r\n                        ? props.values.shippingAddress\r\n                        : \"\"\r\n                      : billingDataCheck\r\n                      ? props.values?.address\r\n                        ? props.values.address\r\n                        : \"\"\r\n                      : props.values.billingShAddress\r\n                  }\r\n                  required\r\n                  onChange={(e) =>\r\n                    props.setValues({\r\n                      ...props.values,\r\n                      billingShAddress: e.target.value,\r\n                    })\r\n                  }\r\n                  margin=\"normal\"\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <BusinessIcon />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ConsumerForm;\r\n","import { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport util from \"../utils/utils\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport BusinessIcon from \"@material-ui/icons/Business\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport EmailIcon from \"@material-ui/icons/Email\";\r\nimport LocalPhoneIcon from \"@material-ui/icons/LocalPhone\";\r\nimport { Typography } from \"@material-ui/core\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  gridInput: {\r\n    width: \"100%\",\r\n    marginBottom: \"12px\",\r\n  },\r\n  textField: {\r\n    marginRight: \"8px\",\r\n  },\r\n}));\r\n\r\nfunction OrderForm(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const isIphone = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\r\n\r\n  const getTotalPrice = (state) => {\r\n    let prices = [];\r\n    state.map(\r\n      (item) =>\r\n        item.product &&\r\n        item.art &&\r\n        prices.push(\r\n          (item.product.publicEquation ||\r\n            item.product.publicPrice.from.replace(/[$]/gi, \"\")) *\r\n            (item.quantity || 1)\r\n        )\r\n    );\r\n    let total = prices.reduce(function (a, b) {\r\n      return a + b;\r\n    });\r\n    return total;\r\n  };\r\n\r\n  const getTotalCombinedItems = (state) => {\r\n    const totalNotCompleted = state.filter(\r\n      (item) => !item.art || !item.product\r\n    );\r\n    return {\r\n      totalNotCompleted,\r\n    };\r\n  };\r\n\r\n  const getIvaCost = (state) => {\r\n    let iva = getTotalPrice(state) * 0.16;\r\n    return iva;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* <h2>Datos de la orden</h2> */}\r\n      <form noValidate autoComplete=\"off\">\r\n        <Grid container>\r\n          <Grid\r\n            item\r\n            lg={12}\r\n            md={12}\r\n            sm={12}\r\n            xs={12}\r\n            className={classes.gridInput}\r\n          >\r\n            <AppBar position=\"static\" style={{ borderRadius: 5 }}>\r\n              <Toolbar>Orden de compra</Toolbar>\r\n            </AppBar>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                padding: \"8px\",\r\n              }}\r\n            >\r\n              <div style={{ width: \"100%\" }}>\r\n                <div style={{ fontWeight: \"bold\" }}>Items:</div>\r\n                <div>\r\n                  <List component=\"div\" disablePadding>\r\n                    {props.buyState?.map((item, index) => (\r\n                      <>\r\n                        {item.product && item.art && (\r\n                          <>\r\n                            <ListItem>\r\n                              <ListItemText primary={`#${index + 1}`} />\r\n                            </ListItem>\r\n                            <Collapse in={true} timeout=\"auto\" unmountOnExit>\r\n                              <List component=\"div\" disablePadding>\r\n                                <ListItem>\r\n                                  <ListItemText\r\n                                    inset\r\n                                    style={{ marginLeft: 0, paddingLeft: 0 }}\r\n                                    primary={\r\n                                      <Grid container>\r\n                                        <Grid item xs={12} md={8}>\r\n                                          {item.product.name +\r\n                                            \" X \" +\r\n                                            item.art.title}\r\n                                        </Grid>\r\n                                        <Grid\r\n                                          item\r\n                                          xs={12}\r\n                                          md={4}\r\n                                          style={{\r\n                                            display: \"flex\",\r\n                                            justifyContent: isMobile\r\n                                              ? \"space-between\"\r\n                                              : \"\",\r\n                                          }}\r\n                                        >\r\n                                          <div>\r\n                                            Cantidad: {item.quantity || 1}\r\n                                          </div>\r\n                                          <div\r\n                                            style={{\r\n                                              textAlign: \"end\",\r\n                                              paddingLeft: 10,\r\n                                            }}\r\n                                          >\r\n                                            {`Precio: $${\r\n                                              (item.product.publicEquation ||\r\n                                                item.product.publicPrice.from.replace(\r\n                                                  /[$]/gi,\r\n                                                  \"\"\r\n                                                )) * (item.quantity || 1)\r\n                                            }`}\r\n                                          </div>\r\n                                        </Grid>\r\n                                      </Grid>\r\n                                    }\r\n                                  />\r\n                                </ListItem>\r\n                              </List>\r\n                            </Collapse>\r\n                            <Divider />\r\n                            {getTotalCombinedItems(props.buyState)\r\n                              .totalNotCompleted?.length >= 1 && (\r\n                              <Typography\r\n                                style={{\r\n                                  fontSize: \"11px\",\r\n                                  // color: \"primary\",\r\n                                }}\r\n                              >\r\n                                {getTotalCombinedItems(props.buyState)\r\n                                  .totalNotCompleted?.length > 1\r\n                                  ? `Faltan ${\r\n                                      getTotalCombinedItems(props.buyState)\r\n                                        .totalNotCompleted.length\r\n                                    } productos por definir.`\r\n                                  : `Falta 1 producto por definir.`}\r\n                              </Typography>\r\n                            )}\r\n                          </>\r\n                        )}\r\n                      </>\r\n                    ))}\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-between\",\r\n                      }}\r\n                    >\r\n                      <Grid\r\n                        item\r\n                        lg={6}\r\n                        md={6}\r\n                        sm={6}\r\n                        xs={6}\r\n                        style={{ paddingLeft: 0 }}\r\n                      >\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          fullWidth\r\n                          style={{ marginTop: 25 }}\r\n                          required\r\n                        >\r\n                          <InputLabel htmlFor=\"outlined-age-simple\">\r\n                            Método de pago\r\n                          </InputLabel>\r\n                          <Select\r\n                            input={\r\n                              <OutlinedInput\r\n                                name=\"age\"\r\n                                id=\"outlined-age-simple\"\r\n                              />\r\n                            }\r\n                            value={props.orderPaymentMethod}\r\n                            onChange={(event) =>\r\n                              props.setOrderPaymentMethod(event.target.value)\r\n                            }\r\n                          >\r\n                            <MenuItem value={\"Pago móvil\"}>Pago Movil</MenuItem>\r\n                            <MenuItem value={\"Transferecian en Bolívares\"}>\r\n                              Transferencia en Bs\r\n                            </MenuItem>\r\n                            <MenuItem value={\"Banco Panamá\"}>\r\n                              Banco Panamá\r\n                            </MenuItem>\r\n                            <MenuItem value={\"Zelle\"}>Zelle</MenuItem>\r\n                            <MenuItem value={\"USD efectivo\"}>\r\n                              Efectivo en dólares\r\n                            </MenuItem>\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                      <Grid\r\n                        item\r\n                        lg={6}\r\n                        md={6}\r\n                        sm={6}\r\n                        xs={6}\r\n                        style={{\r\n                          display: \"flex\",\r\n                          alignItems: \"end\",\r\n                          marginTop: \"24px\",\r\n                          marginRight: \"14px\",\r\n                          flexDirection: \"column\",\r\n                        }}\r\n                      >\r\n                        <strong>{`Subtotal: $${getTotalPrice(\r\n                          props.buyState\r\n                        ).toFixed(2)}`}</strong>\r\n                        <strong>\r\n                          {`IVA: $${getIvaCost(props.buyState).toFixed(2)}`}\r\n                        </strong>\r\n                        <strong>{`Total: $${\r\n                          getTotalPrice(props.buyState) +\r\n                          getIvaCost(props.buyState)\r\n                        }`}</strong>\r\n                        <br />\r\n                      </Grid>\r\n                    </div>\r\n                  </List>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default OrderForm;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport utils from \"../utils/utils\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Img from \"react-cool-img\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"left\",\r\n    flexGrow: 1,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  float: {\r\n    position: \"relative\",\r\n    marginLeft: \"95%\",\r\n  },\r\n  iconButton: {\r\n    \"& > *\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function CartReview(props) {\r\n  const prixerUsername = \"all\";\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\r\n  const isIphone = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n  const [orderPaymentMethod, setOrderPaymentMethod] = useState(undefined);\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n  const steps = [`Tus datos`, `Orden de compra`];\r\n\r\n  return (\r\n    <>\r\n      <Grid item style={{ width: \"100%\" }}>\r\n        <h1 style={{ marginBottom: 20, marginTop: 90 }}>Carrito de compras</h1>\r\n      </Grid>\r\n\r\n      <Grid item xs={12} sm={12} md={6} lg={7} xl={7}>\r\n        {props.buyState.map((buy, index) => {\r\n          return (\r\n            <Grid\r\n              key={index}\r\n              style={{\r\n                // height: isMobile ? \"370px\" : \"240px\",\r\n                marginBottom: 20,\r\n              }}\r\n            >\r\n              <Paper\r\n                style={{\r\n                  padding: isMobile ? 10 : \"10px 10px 0px 10px\",\r\n                  marginTop: \"2px\",\r\n                  // height: isMobile ? \"400px\" : \"230px\",\r\n                  display: \"flex\",\r\n                  flexDirection: isMobile ? \"column\" : \"row\",\r\n                }}\r\n                elevation={3}\r\n              >\r\n                <Grid\r\n                  item\r\n                  // xs={12}\r\n                  // sm={12}\r\n                  // md={12}\r\n                  // lg\r\n                  // xl\r\n                  style={{\r\n                    display: \"flex\",\r\n                    height: isIphone ? 160 : 220,\r\n                  }}\r\n                >\r\n                  {buy.art ? (\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        height: isIphone ? 160 : 220,\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          backgroundColor: \"#eeeeee\",\r\n                          width: isIphone ? 120 : 180,\r\n                          height: isIphone ? 120 : 180,\r\n                          borderRadius: \"10px\",\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                          justifyContent: \"center\",\r\n                        }}\r\n                      >\r\n                        <Img\r\n                          placeholder=\"/imgLoading.svg\"\r\n                          style={{\r\n                            backgroundColor: \"#eeeeee\",\r\n                            maxWidth: isIphone ? 120 : 180,\r\n                            maxHeight: isIphone ? 120 : 180,\r\n                            borderRadius: 10,\r\n                          }}\r\n                          src={buy.art ? buy.art.squareThumbUrl : \"\"}\r\n                          debounce={1000}\r\n                          cache\r\n                          error=\"/imgError.svg\"\r\n                          alt={buy.art && buy.art.title}\r\n                          id={buy.art && buy.art.artId}\r\n                        />\r\n                      </div>\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"space-evenly\",\r\n                        }}\r\n                      >\r\n                        <IconButton\r\n                          className={classes.iconButton}\r\n                          style={{ height: 40, width: 40 }}\r\n                          onClick={() =>\r\n                            props.deleteProductInItem({\r\n                              id: index,\r\n                              type: \"art\",\r\n                            })\r\n                          }\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          className={classes.iconButton}\r\n                          style={{ height: 40, width: 40 }}\r\n                          onClick={() => {\r\n                            props.setSelectedArtToAssociate({\r\n                              index,\r\n                              item: buy.product,\r\n                              previous: true,\r\n                            });\r\n                            history.push({ pathname: \"/galeria\" });\r\n                          }}\r\n                        >\r\n                          <AddIcon fontSize=\"medium\" />\r\n                        </IconButton>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div\r\n                      style={{\r\n                        height: \"180px\",\r\n                        width: \"180px\",\r\n                        display: \"grid\",\r\n                      }}\r\n                    >\r\n                      <IconButton\r\n                        className={classes.addItemContainer}\r\n                        onClick={() => {\r\n                          props.setSelectedArtToAssociate({\r\n                            index,\r\n                            item: buy.art,\r\n                            previous: true,\r\n                          });\r\n                          history.push({ pathname: \"/galeria\" });\r\n                        }}\r\n                      >\r\n                        <AddIcon style={{ fontSize: 80 }} color=\"primary\" />\r\n                      </IconButton>\r\n                    </div>\r\n                  )}\r\n                  {buy.product ? (\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        height: isIphone ? 160 : 220,\r\n                      }}\r\n                    >\r\n                      <Img\r\n                        placeholder=\"/imgLoading.svg\"\r\n                        style={{\r\n                          backgroundColor: \"#eeeeee\",\r\n                          height: isIphone ? 120 : 180,\r\n                          borderRadius: \"10px\",\r\n                          marginRight: \"20px\",\r\n                          marginLeft: \"20px\",\r\n                        }}\r\n                        src={buy.product ? buy.product.thumbUrl : \"\"}\r\n                        debounce={1000}\r\n                        cache\r\n                        error=\"/imgError.svg\"\r\n                        alt={buy.product && buy.product.name}\r\n                        id={index}\r\n                      />\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"space-evenly\",\r\n                          marginRight: \"20px\",\r\n                          marginLeft: \"20px\",\r\n                        }}\r\n                      >\r\n                        <IconButton\r\n                          className={classes.iconButton}\r\n                          style={{ height: 40, width: 40 }}\r\n                          onClick={() =>\r\n                            props.deleteProductInItem({\r\n                              id: index,\r\n                              type: \"product\",\r\n                            })\r\n                          }\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          className={classes.iconButton}\r\n                          style={{ height: 40, width: 40 }}\r\n                          onClick={() => {\r\n                            props.setSelectedArtToAssociate({\r\n                              index,\r\n                              item: buy.art,\r\n                              previous: true,\r\n                            });\r\n                            history.push({ pathname: \"/productos\" });\r\n                          }}\r\n                        >\r\n                          <AddIcon fontSize=\"medium\" />\r\n                        </IconButton>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div\r\n                      style={{\r\n                        height: \"180px\",\r\n                        width: \"180px\",\r\n                        display: \"grid\",\r\n                        marginLeft: \"20px\",\r\n                        marginRight: \"20px\",\r\n                      }}\r\n                    >\r\n                      <IconButton\r\n                        className={classes.addItemContainer}\r\n                        onClick={() => {\r\n                          props.setSelectedArtToAssociate({\r\n                            index,\r\n                            item: buy.art,\r\n                            previous: true,\r\n                          });\r\n                          history.push({ pathname: \"/productos\" });\r\n                        }}\r\n                      >\r\n                        <AddIcon style={{ fontSize: 80 }} color=\"primary\" />\r\n                      </IconButton>\r\n                    </div>\r\n                  )}\r\n                  {isMobile && (\r\n                    <Grid\r\n                      item\r\n                      xs\r\n                      sm\r\n                      md\r\n                      lg\r\n                      xl\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"end\",\r\n                        height: 160,\r\n                      }}\r\n                    >\r\n                      <Tooltip\r\n                        title=\"Eliminar item\"\r\n                        style={{ height: 40, width: 40 }}\r\n                      >\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() =>\r\n                            props.deleteItemInBuyState({ id: index })\r\n                          }\r\n                          color=\"primary\"\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                    </Grid>\r\n                  )}\r\n                </Grid>\r\n\r\n                <Grid\r\n                  item\r\n                  xs={12}\r\n                  sm={12}\r\n                  md\r\n                  lg\r\n                  xl\r\n                  style={{\r\n                    minWidth: 290,\r\n                    height: 200,\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    alignContent: \"space-between\",\r\n                  }}\r\n                >\r\n                  <div>\r\n                    {buy.product && buy.art && (\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"space-between\",\r\n                        }}\r\n                      >\r\n                        <Typography variant=\"h6\">\r\n                          {buy.product.name + \" X \" + buy.art.title}\r\n                        </Typography>\r\n                      </div>\r\n                    )}\r\n                    {buy.product ? (\r\n                      <>\r\n                        <p\r\n                          style={{\r\n                            fontSize: \"12px\",\r\n                            padding: 0,\r\n                            margin: 0,\r\n                          }}\r\n                        >\r\n                          <strong> Producto: </strong>{\" \"}\r\n                          {buy.product?.name.substring(0, 10)}\r\n                        </p>\r\n                        {buy.product.attributes.map((a, i) => {\r\n                          return (\r\n                            <p\r\n                              style={{\r\n                                fontSize: 12,\r\n                                padding: 0,\r\n                                margin: 0,\r\n                              }}\r\n                            >\r\n                              <strong>{a.name + \": \"} </strong>{\" \"}\r\n                              {buy.product.selection[i]}\r\n                            </p>\r\n                          );\r\n                        })}\r\n                      </>\r\n                    ) : (\r\n                      <Button\r\n                        style={{ fontSize: 14 }}\r\n                        size=\"small\"\r\n                        onClick={() => {\r\n                          props.setSelectedArtToAssociate({\r\n                            index,\r\n                            item: buy.art,\r\n                            previous: true,\r\n                          });\r\n                          history.push({\r\n                            pathname: \"/productos\",\r\n                          });\r\n                        }}\r\n                      >\r\n                        Elige tu producto\r\n                      </Button>\r\n                    )}\r\n                    {buy.art ? (\r\n                      <>\r\n                        <p\r\n                          style={{\r\n                            fontSize: \"12px\",\r\n                            padding: 0,\r\n                            margin: 0,\r\n                          }}\r\n                        >\r\n                          <strong> Arte: </strong>{\" \"}\r\n                          {buy.art?.title.substring(0, 10)}\r\n                        </p>\r\n                        <p\r\n                          style={{\r\n                            fontSize: \"12px\",\r\n                            padding: 0,\r\n                            margin: 0,\r\n                          }}\r\n                        >\r\n                          <strong> Prixer: </strong>{\" \"}\r\n                          {buy.art?.prixerUsername.substring(0, 10)}\r\n                        </p>\r\n                      </>\r\n                    ) : (\r\n                      <Button\r\n                        style={{ fontSize: 14 }}\r\n                        size=\"small\"\r\n                        onClick={() => {\r\n                          props.setSelectedArtToAssociate({\r\n                            index,\r\n                            item: buy.product,\r\n                            previous: true,\r\n                          });\r\n                          history.push({ pathname: \"/galeria\" });\r\n                        }}\r\n                      >\r\n                        Elige tu arte\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                  {buy.product ? (\r\n                    <Grid\r\n                      item\r\n                      xs={12}\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-between\",\r\n                        alignItems: \"end\",\r\n                      }}\r\n                    >\r\n                      <div style={{ paddingBottom: 5 }}>\r\n                        <strong>Precio:</strong>\r\n                        {`$${\r\n                          buy.product?.publicEquation ||\r\n                          buy.product?.publicPrice.from.replace(/[$]/gi, \"\")\r\n                        }`}\r\n                      </div>\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                        }}\r\n                      >\r\n                        <strong>Cantidad: </strong>\r\n                        <input\r\n                          style={{\r\n                            width: 80,\r\n                            padding: \"10px\",\r\n                            borderRadius: 4,\r\n                          }}\r\n                          type=\"number\"\r\n                          defaultValue={1}\r\n                          value={buy.quantity}\r\n                          min=\"1\"\r\n                          InputLabelProps={{\r\n                            shrink: true,\r\n                          }}\r\n                          onChange={(e) => {\r\n                            props.changeQuantity({\r\n                              index,\r\n                              art: buy.art,\r\n                              product: buy.product,\r\n                              quantity: e.target.value,\r\n                            });\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </Grid>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </Grid>\r\n                {!isMobile && (\r\n                  <Tooltip\r\n                    title=\"Eliminar item\"\r\n                    style={{ height: 40, width: 40 }}\r\n                  >\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => props.deleteItemInBuyState({ id: index })}\r\n                      color=\"primary\"\r\n                    >\r\n                      <DeleteIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                )}\r\n              </Paper>\r\n            </Grid>\r\n          );\r\n        })}\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport AppBar from \"../sharedComponents/appBar/appBar\";\r\nimport FloatingAddButton from \"../sharedComponents/floatingAddButton/floatingAddButton\";\r\nimport ArtUploader from \"../sharedComponents/artUploader/artUploader\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport utils from \"../utils/utils\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Img from \"react-cool-img\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\n\r\nimport ConsumerForm from \"./consumerForm\";\r\nimport OrderForm from \"./orderForm\";\r\nimport CartReview from \"./cartReview\";\r\nimport { nanoid } from \"nanoid\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"left\",\r\n    flexGrow: 1,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  float: {\r\n    position: \"relative\",\r\n    marginLeft: \"95%\",\r\n  },\r\n  iconButton: {\r\n    \"& > *\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function ShoppingPage(props) {\r\n  const prixerUsername = \"all\";\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\r\n  const isIphone = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n  const [orderPaymentMethod, setOrderPaymentMethod] = useState(undefined);\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n  const [valuesOrderForm, setValuesOrderForm] = useState();\r\n\r\n  const steps = [`Tus datos`, `Orden de compra`];\r\n  // const [openCheckoutDialog, setOpenCheckoutDialog] = useState(false); //probando\r\n\r\n  // useEffect(() => {\r\n  //   {\r\n  //     JSON.parse(localStorage.getItem(\"token\")) && TermsAgreeModal();\r\n  //   }\r\n\r\n  //   return () => {\r\n  //     localStorage.removeItem(\"filterCategorie\");\r\n  //   };\r\n  // }, []);\r\n\r\n  // const getTerms = () => {\r\n  //   const base_url =\r\n  //     process.env.REACT_APP_BACKEND_URL + \"/termsAndConditions/read\";\r\n  //   axios\r\n  //     .get(base_url)\r\n  //     .then((response) => {\r\n  //       setValue(response.data.terms.termsAndConditions);\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       console.log(error);\r\n  //     });\r\n  // };\r\n\r\n  // const handleSubmit = async (e, Id) => {\r\n  //   e.preventDefault();\r\n  //   const formData = new FormData();\r\n  //   const termsAgree = true;\r\n  //   formData.append(\"termsAgree\", termsAgree);\r\n  //   formData.append(\r\n  //     \"username\",\r\n  //     JSON.parse(localStorage.getItem(\"token\")).username\r\n  //   );\r\n  //   const base_url =\r\n  //     process.env.REACT_APP_BACKEND_URL + \"/prixer/update-terms/\" + Id;\r\n  //   const response = await axios\r\n  //     .put(\r\n  //       base_url,\r\n  //       { termsAgree: true },\r\n  //       {\r\n  //         \"Content-Type\": \"multipart/form-data\",\r\n  //       }\r\n  //     )\r\n  //     .then((response) => {\r\n  //       setTermsAgreeVar(true);\r\n  //     });\r\n  // };\r\n\r\n  // const TermsAgreeModal = () => {\r\n  //   const GetId = JSON.parse(localStorage.getItem(\"token\")).username;\r\n  //   const base_url = process.env.REACT_APP_BACKEND_URL + \"/prixer/get/\" + GetId;\r\n  //   axios.get(base_url).then((response) => {\r\n  //     setTermsAgreeVar(response.data.termsAgree);\r\n  //     getTerms();\r\n  //   });\r\n  // };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n  const getTotalPrice = (state) => {\r\n    let prices = [];\r\n    state.map(\r\n      (item) =>\r\n        item.product &&\r\n        item.art &&\r\n        prices.push(\r\n          (item.product.publicEquation ||\r\n            item.product.publicPrice.from.replace(/[$]/gi, \"\")) *\r\n            (item.quantity || 1)\r\n        )\r\n    );\r\n    let total = prices.reduce(function (a, b) {\r\n      return a + b;\r\n    });\r\n    return total;\r\n  };\r\n\r\n  const createOrder = async () => {\r\n    if (orderPaymentMethod) {\r\n      let orderLines = [];\r\n\r\n      props.buyState.map((s) => {\r\n        s.product &&\r\n          s.art &&\r\n          orderLines.push({\r\n            product: s.product,\r\n            art: s.art,\r\n            quantity: s.quantity,\r\n          });\r\n      });\r\n      window.open(utils.generateWaBuyMessage(orderLines), \"_blank\");\r\n\r\n      const consumer = await axios.post(\r\n        process.env.REACT_APP_BACKEND_URL + \"/consumer/create\",\r\n        {\r\n          active: true,\r\n          contactedBy: {\r\n            username: \"web\",\r\n            id: 1,\r\n            phone: \"\",\r\n            email: \"hola@prixelart.com\",\r\n          },\r\n          consumerType: \"Particular\",\r\n          firstname: props.valuesConsumerForm?.name,\r\n          lastname: props.valuesConsumerForm?.lastName,\r\n          username: props.valuesConsumerForm?.username,\r\n          ci: props.valuesConsumerForm?.ci,\r\n          phone: props.valuesConsumerForm?.phone,\r\n          email: props.valuesConsumerForm?.email,\r\n          address: props.valuesConsumerForm?.address,\r\n          billingAddress:\r\n            props.valuesConsumerForm?.billingAddress ||\r\n            props.valuesConsumerForm?.address,\r\n          shippingAddress:\r\n            props.valuesConsumerForm?.shippingAddress ||\r\n            props.valuesConsumerForm?.address,\r\n        }\r\n      );\r\n\r\n      const base_url = process.env.REACT_APP_BACKEND_URL + \"/order/create\";\r\n      let input = {\r\n        orderId: nanoid(6),\r\n        firstname: consumer.data.newConsumer.firstname,\r\n        lastname: consumer.data.newConsumer.lastname,\r\n        ci: consumer.data.newConsumer.ci,\r\n        requests: orderLines,\r\n        email: consumer.data.newConsumer.email,\r\n        phone: consumer.data.newConsumer.phone,\r\n        billingAddress: consumer.data.newConsumer.billingAddress,\r\n        shippingAddress: consumer.data.newConsumer.shippingAddress,\r\n        tax: getTotalPrice(props.buyState) * 0.16,\r\n        subtotal: getTotalPrice(props.buyState),\r\n        total:\r\n          getTotalPrice(props.buyState) + getTotalPrice(props.buyState) * 0.16,\r\n        createdOn: new Date(),\r\n        createdBy: consumer.data.newConsumer,\r\n        orderType: \"Particular\",\r\n        // consumerId: consumer.data.newConsumer._id,\r\n        status: \"Procesando\",\r\n\r\n        // orderData: orderHeader,\r\n        orderPaymentMethod: orderPaymentMethod,\r\n      };\r\n      const order = await axios.post(base_url, input).then(() => {\r\n        console.log(\"Orden generada correctamente. Por favor, revisa tu email\");\r\n      });\r\n      props.setOpen(true);\r\n      props.setMessage(\r\n        \"¡Gracias por tu compra! te redireccionaremos a Whatsapp para ser atendido por nuestro departamento de ventas.\"\r\n      );\r\n\r\n      closeOp();\r\n    } else {\r\n      props.setOpen(true);\r\n      props.setMessage(\"Por favor selecciona una forma de pago.\");\r\n    }\r\n  };\r\n\r\n  const closeOp = async () => {\r\n    props.setValuesConsumerForm(undefined);\r\n    localStorage.removeItem(\"buyState\");\r\n    props.setBuyState([localStorage.removeItem(\"buyState\")]);\r\n    history.push({ pathname: \"/\" });\r\n  };\r\n  return (\r\n    <>\r\n      <AppBar prixerUsername={prixerUsername} />\r\n      <Container component=\"main\" maxWidth=\"s\" className={classes.paper}>\r\n        <CssBaseline />\r\n        {props.buyState.length > 0 ? (\r\n          <Grid\r\n            container\r\n            spacing={2}\r\n            style={{ justifyContent: \"space-between\" }}\r\n          >\r\n            <CartReview\r\n              buyState={props.buyState}\r\n              changeQuantity={props.changeQuantity}\r\n              deleteItemInBuyState={props.deleteItemInBuyState}\r\n              deleteProductInItem={props.deleteProductInItem}\r\n              setSelectedArtToAssociate={props.setSelectedArtToAssociate}\r\n            />\r\n            <Grid item xs={12} sm={12} md={6} lg={5} xl={6}>\r\n              <Paper\r\n                style={{\r\n                  padding: \"10px 10px 0px 10px\",\r\n                  marginTop: \"2px\",\r\n                  // height: \"500px\",\r\n                  // display: \"flex\",\r\n                  width: \"100%\",\r\n                }}\r\n                elevation={3}\r\n              >\r\n                <Stepper activeStep={activeStep}>\r\n                  {steps.map((label, index) => {\r\n                    return (\r\n                      <Step key={label} {...props}>\r\n                        <StepLabel>{label}</StepLabel>\r\n                      </Step>\r\n                    );\r\n                  })}\r\n                </Stepper>\r\n                <div\r\n                  style={{\r\n                    paddingRight: \"10px\",\r\n                    marginLeft: \"13px\",\r\n                    paddingBottom: 10,\r\n                  }}\r\n                >\r\n                  {activeStep === 0 ? (\r\n                    <ConsumerForm\r\n                      setValues={props.setValuesConsumerForm}\r\n                      values={props.valuesConsumerForm}\r\n                    />\r\n                  ) : (\r\n                    <OrderForm\r\n                      valuesConsumer={props.valuesConsumerForm}\r\n                      setValuesConsumer={props.setValues}\r\n                      onCreateConsumer={props.onCreateConsumer}\r\n                      buyState={props.buyState}\r\n                      orderPaymentMethod={orderPaymentMethod}\r\n                      setOrderPaymentMethod={setOrderPaymentMethod}\r\n                    />\r\n                  )}\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    paddingBottom: 10,\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-evenly\",\r\n                  }}\r\n                >\r\n                  <Button\r\n                    disabled={activeStep === 0}\r\n                    onClick={handleBack}\r\n                    className={classes.button}\r\n                  >\r\n                    Anterior\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    disabled={\r\n                      !props.valuesConsumerForm ||\r\n                      !props.valuesConsumerForm.name ||\r\n                      !props.valuesConsumerForm.lastName ||\r\n                      !props.valuesConsumerForm.username ||\r\n                      !props.valuesConsumerForm.ci ||\r\n                      !props.valuesConsumerForm.phone ||\r\n                      !props.valuesConsumerForm.email ||\r\n                      !props.valuesConsumerForm.address\r\n                      // !orderPaymentMethod\r\n                      // !props.valuesConsumerForm.billingAddress\r\n                    }\r\n                    onClick={\r\n                      activeStep === steps.length - 1 ? createOrder : handleNext\r\n                    }\r\n                  >\r\n                    {activeStep === steps.length - 1 ? \"Ordenar\" : \"Siguiente\"}\r\n                  </Button>\r\n                </div>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n        ) : (\r\n          <div style={{ marginTop: 100 }}>\r\n            <Typography variant={\"h6\"} align={\"Center\"}>\r\n              Actualmente no tienes ningun producto dentro del carrito de\r\n              compra.\r\n            </Typography>\r\n          </div>\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","export default async function expire(valueKey, expiryKey) {\r\n    const itemStr = localStorage.getItem(valueKey);\r\n    const expiryStr = localStorage.getItem(expiryKey);\r\n\r\n\tif (!itemStr) {\r\n\t\treturn null;\r\n\t}\r\n\tconst item = JSON.parse(itemStr);\r\n\tconst expiry = JSON.parse(expiryStr);\r\n\tconst now = new Date();\r\n    if (now.getTime() > expiry) {\r\n\t\tlocalStorage.removeItem(valueKey)\r\n\t\treturn null\r\n\t}\r\n\treturn item\r\n}","//Llevar el Password a un componente propio.\r\n\r\nimport React from 'react';\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport validations from '../../utils/validations';\r\nimport Copyright from '../../sharedComponents/Copyright/copyright';\r\n\r\n//material-ui\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport clsx from 'clsx';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  snackbar: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      bottom: 90,\r\n    },\r\n    margin: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    withoutLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    textField: {\r\n      width: '25ch',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function PasswordChange() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [showNewPassword, setShowNewPassword] = useState(false);\r\n  const [currentPassword, setCurrentPassword] = useState('');\r\n  const [showCurrentPassword, setShowCurrentPassword] = useState(false);\r\n\r\n  //Error states.\r\n  const [currentPasswordError, setCurrentPasswordError] = useState();\r\n  const [newPasswordError, setNewPasswordError] = useState();\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n\r\n  const handleSubmit = (e)=> {\r\n    e.preventDefault();\r\n    if((!newPassword)||(!currentPassword)) {\r\n      setErrorMessage('Por favor completa todos los campos requeridos.');\r\n      setSnackBarError(true);\r\n    } else {\r\n    const base_url= process.env.REACT_APP_BACKEND_URL + \"/password-change\";\r\n    const data= {\r\n      'username': JSON.parse(localStorage.getItem('token')).username,\r\n      'currentPassword': currentPassword,\r\n      'newPassword': newPassword\r\n      };\r\n    axios.post(base_url,data)\r\n    .then(response =>{\r\n        if(response.data.info === 'error_current_password'){\r\n          setCurrentPasswordError(true);\r\n          setErrorMessage(response.data.message);\r\n          setSnackBarError(true);\r\n        } else if(response.data.info === 'error_new_password') {\r\n          setNewPasswordError(true);\r\n          setErrorMessage(response.data.message);\r\n          setSnackBarError(true);\r\n        } else {\r\n          setErrorMessage('Cambio de clave exitoso.');\r\n          setSnackBarError(true);\r\n          history.push({pathname:'/'+JSON.parse(localStorage.getItem('token')).username});\r\n        }\r\n    })\r\n    .catch(error =>{\r\n        console.log(error.response)\r\n    })\r\n  }\r\n   } \r\n\r\n//Current password\r\n   const handleCurrentPasswordChange = (e)=> {\r\n    if(validations.isAValidPassword(e.target.value)) {\r\n      setCurrentPassword(e.target.value); \r\n      setCurrentPasswordError(false);\r\n      setSnackBarError(false);\r\n    } else {\r\n      setCurrentPassword(e.target.value); \r\n      setCurrentPasswordError(true); \r\n      setErrorMessage('Disculpa, esta no puede ser tu contraseña actual. Debe tener entre 8 y 15 caracteres, incluyendo al menos: una minúscula, una mayúscula, un número y un caracter especial.');\r\n      setSnackBarError(true);\r\n    }\r\n   }\r\n\r\n    const handleClickShowCurrentPassword = () => {\r\n      setShowCurrentPassword(!showCurrentPassword);\r\n    };\r\n  \r\n    const handleMouseDownCurrentPassword = (event) => {\r\n      event.preventDefault();\r\n    };\r\n//END Current password\r\n\r\n//New password\r\nconst handleNewPasswordChange = (e)=> {\r\n    if(validations.isAValidPassword(e.target.value)) {\r\n      setNewPassword(e.target.value); \r\n      setNewPasswordError(false);\r\n      setSnackBarError(false);\r\n    } else {\r\n      setNewPassword(e.target.value); \r\n      setNewPasswordError(true); \r\n      setErrorMessage('Disculpa, tu contraseña nueva debe tener entre 8 y 15 caracteres, incluyendo al menos: una minúscula, una mayúscula, un número y un caracter especial.');\r\n      setSnackBarError(true);\r\n    }\r\n   }\r\n\r\n    const handleClickShowNewPassword = () => {\r\n      setShowNewPassword(!showNewPassword);\r\n    };\r\n  \r\n    const handleMouseDownNewPassword = (event) => {\r\n      event.preventDefault();\r\n    };\r\n//END New password\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Cambia tu contraseña\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n            <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n              <InputLabel htmlFor=\"current-password\">Contraseña actual</InputLabel>\r\n              <OutlinedInput\r\n                id=\"current-password\"\r\n                type={showCurrentPassword ? 'text' : 'password'}\r\n                value={currentPassword}\r\n                label=\"Contraseña actual\"\r\n                error={currentPasswordError}\r\n                onChange={handleCurrentPasswordChange}\r\n                endAdornment={\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"toggle password visibility\"\r\n                      onClick={handleClickShowCurrentPassword}\r\n                      onMouseDown={handleMouseDownCurrentPassword}\r\n                      edge=\"end\"\r\n                    >\r\n                      {showCurrentPassword ? <Visibility /> : <VisibilityOff />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                }\r\n                labelWidth={100}\r\n              />\r\n            </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n            <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n              <InputLabel htmlFor=\"new-password\">Contraseña nueva</InputLabel>\r\n              <OutlinedInput\r\n                id=\"new-password\"\r\n                type={showNewPassword ? 'text' : 'password'}\r\n                value={newPassword}\r\n                label=\"Contraseña nueva\"\r\n                error={newPasswordError}\r\n                onChange={handleNewPasswordChange}\r\n                endAdornment={\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"toggle password visibility\"\r\n                      onClick={handleClickShowNewPassword}\r\n                      onMouseDown={handleMouseDownNewPassword}\r\n                      edge=\"end\"\r\n                    >\r\n                      {showNewPassword ? <Visibility /> : <VisibilityOff />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                }\r\n                labelWidth={100}\r\n              />\r\n            </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            value=\"submit\"\r\n          >\r\n            Cambiar contraseña\r\n          </Button>\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n      <Snackbar\r\n          open={snackBarError}\r\n          autoHideDuration={6000}\r\n          message={errorMessage}\r\n          className={classes.snackbar}\r\n        />\r\n    </Container>\r\n  );\r\n}","//Llevar el Password a un componente propio.\r\n\r\nimport React from 'react';\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nimport Copyright from '../../sharedComponents/Copyright/copyright';\r\n\r\n//material-ui\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport clsx from 'clsx';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  snackbar: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      bottom: 90,\r\n    },\r\n    margin: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    withoutLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    textField: {\r\n      width: '25ch',\r\n    },\r\n  },\r\n}));\r\n\r\nfunction sleep(ms) {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nexport default function ForgotPassword() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState('');\r\n\r\n  //Error states.\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n\r\n  const handleSubmit = (e)=> {\r\n    e.preventDefault();\r\n    if(!email) {\r\n      setErrorMessage('Por favor indica tu correo electrónico registrado para reestablecer tu contraseña.');\r\n      setSnackBarError(true);\r\n    } else {\r\n    const base_url= process.env.REACT_APP_BACKEND_URL + \"/forgot-password\";\r\n    const data= {\r\n      'email': email,\r\n      };\r\n    axios.post(base_url,data)\r\n    .then(async response =>{\r\n        if(!response.data.success){\r\n        //   setCurrentPasswordError(true);\r\n          setErrorMessage(response.data.info);\r\n          setSnackBarError(true);\r\n        } else {\r\n          setErrorMessage('Hemos enviado un enlace a tu correo electrónico.');\r\n          setSnackBarError(true);\r\n          await sleep(3000);\r\n          history.push({pathname:'/'});\r\n        }\r\n    })\r\n    .catch(error =>{\r\n        console.log(error.response)\r\n    })\r\n  }\r\n   } \r\n\r\n\r\n   const handleEmailChange = (e)=> {\r\n     setEmail(e.target.value)\r\n   }\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Solicita el cambio de contraseña\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    // error={emailError}\r\n                    id=\"email\"\r\n                    label=\"Correo electrónico\"\r\n                    name=\"email\"\r\n                    autoComplete=\"email\"\r\n                    value={email}\r\n                    onChange={handleEmailChange}\r\n                />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            value=\"submit\"\r\n          >\r\n            Recuperar acceso\r\n          </Button>\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n      <Snackbar\r\n          open={snackBarError}\r\n          autoHideDuration={6000}\r\n          message={errorMessage}\r\n          className={classes.snackbar}\r\n        />\r\n    </Container>\r\n  );\r\n}","//Llevar el Password a un componente propio.\r\n\r\nimport React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport validations from '../../utils/validations';\r\nimport Copyright from '../../sharedComponents/Copyright/copyright';\r\n\r\n//material-ui\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport clsx from 'clsx';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  snackbar: {\r\n    [theme.breakpoints.down('xs')]: {\r\n      bottom: 90,\r\n    },\r\n    margin: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    withoutLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    textField: {\r\n      width: '25ch',\r\n    },\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nexport default function PasswordReset(props) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [showNewPassword, setShowNewPassword] = useState(false);\r\n  const token = props.match.params.token;\r\n  const [backdrop, setBackdrop] = useState(true);\r\n\r\n  //Error states.\r\n  const [newPasswordError, setNewPasswordError] = useState();\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const [snackBarError, setSnackBarError] = useState(false);\r\n\r\n//FALTA AGREGAR AQUI LA VALIDACION DE QUE EL LINK EXISTE.\r\n  useEffect(()=>{\r\n\r\n    if(!token) {\r\n        setErrorMessage('Token inválido o expirado. Por favor inténtalo de nuevo.');\r\n        setSnackBarError(true);\r\n    } else {\r\n        const base_url= process.env.REACT_APP_BACKEND_URL + \"/pw-token-check\";\r\n        const data= {\r\n          'token': token\r\n          };\r\n        axios.post(base_url,data)\r\n        .then(response =>{\r\n            if(!response.data.success){\r\n                setErrorMessage(response.data.info);\r\n                setSnackBarError(true);\r\n            } else {\r\n                setBackdrop(false);\r\n            }\r\n        })\r\n        .catch(error =>{\r\n            console.log(error.response)\r\n        })\r\n      }\r\n\r\n  });\r\n\r\n  const handleSubmit = (e)=> {\r\n    e.preventDefault();\r\n    if((!newPassword)) {\r\n      setErrorMessage('Por favor completa todos los campos requeridos.');\r\n      setSnackBarError(true);\r\n    } else {\r\n    const base_url= process.env.REACT_APP_BACKEND_URL + \"/reset-password\";\r\n    const data= {\r\n      'token': token,\r\n      'newPassword': newPassword\r\n      };\r\n    axios.post(base_url,data)\r\n    .then(response =>{\r\n        if(!response.data.success){\r\n          setNewPasswordError(true);\r\n          setErrorMessage(\"Por favor intentar nuevamente\");\r\n          setSnackBarError(true);\r\n        } else {\r\n          setErrorMessage(response.data.info);\r\n          setSnackBarError(true);\r\n          history.push({pathname:'/iniciar'});\r\n        }\r\n    })\r\n    .catch(error =>{\r\n        console.log(error.response)\r\n    })\r\n  }\r\n   } \r\n\r\n//New password\r\nconst handleNewPasswordChange = (e)=> {\r\n    if(validations.isAValidPassword(e.target.value)) {\r\n      setNewPassword(e.target.value); \r\n      setNewPasswordError(false);\r\n      setSnackBarError(false);\r\n    } else {\r\n      setNewPassword(e.target.value); \r\n      setNewPasswordError(true); \r\n      setErrorMessage('Disculpa, tu contraseña nueva debe tener entre 8 y 15 caracteres, incluyendo al menos: una minúscula, una mayúscula, un número y un caracter especial.');\r\n      setSnackBarError(true);\r\n    }\r\n   }\r\n\r\n    const handleClickShowNewPassword = () => {\r\n      setShowNewPassword(!showNewPassword);\r\n    };\r\n  \r\n    const handleMouseDownNewPassword = (event) => {\r\n      event.preventDefault();\r\n    };\r\n//END New password\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n    <Backdrop className={classes.backdrop} open={backdrop}>\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Cambia tu contraseña\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n            <FormControl className={clsx(classes.margin, classes.textField)} variant=\"outlined\" xs={12} fullWidth={true}>\r\n              <InputLabel htmlFor=\"new-password\">Contraseña nueva</InputLabel>\r\n              <OutlinedInput\r\n                id=\"new-password\"\r\n                type={showNewPassword ? 'text' : 'password'}\r\n                value={newPassword}\r\n                label=\"Contraseña nueva\"\r\n                error={newPasswordError}\r\n                onChange={handleNewPasswordChange}\r\n                endAdornment={\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"toggle password visibility\"\r\n                      onClick={handleClickShowNewPassword}\r\n                      onMouseDown={handleMouseDownNewPassword}\r\n                      edge=\"end\"\r\n                    >\r\n                      {showNewPassword ? <Visibility /> : <VisibilityOff />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                }\r\n                labelWidth={100}\r\n              />\r\n            </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            value=\"submit\"\r\n          >\r\n            Cambiar contraseña\r\n          </Button>\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n      <Snackbar\r\n          open={snackBarError}\r\n          autoHideDuration={6000}\r\n          message={errorMessage}\r\n          className={classes.snackbar}\r\n        />\r\n    </Container>\r\n  );\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport \"./App.css\";\r\nimport Login from \"./login/loginPage\";\r\nimport AdminLogin from \"./adminLogin/adminLoginPage\";\r\nimport AdminMain from \"./admin/adminMain/adminMain\";\r\nimport Register from \"./register/userRegistration\";\r\nimport PrixerRegistration from \"./register/prixerRegistration\";\r\nimport PrixerProfile from \"./prixerProfile/prixerProfile\";\r\nimport FullscreenPhoto from \"./prixerProfile/fullscreenPhoto/fullscreenPhoto\";\r\nimport Home from \"./home/home\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport Gallery from \"./gallery/gallery\";\r\nimport Products from \"./products/productsCatalog\";\r\nimport ShoppingPage from \"./shoppingCart/shoppingPage\";\r\nimport expire from \"./utils/expire\";\r\nimport PasswordChange from \"./prixerProfile/passwordChange/passwordChange\";\r\nimport ForgotPassword from \"./prixerProfile/passwordReset/forgotPassword\";\r\nimport ResetPassword from \"./prixerProfile/passwordReset/passwordReset\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\n\r\nfunction App() {\r\n  const [buyState, setBuyState] = useState(\r\n    localStorage.getItem(\"buyState\")\r\n      ? JSON.parse(localStorage.getItem(\"buyState\"))\r\n      : []\r\n  );\r\n  const [isOpenAssociateArt, setIsOpenAssociateArt] = useState(false);\r\n  const [isOpenAssociateProduct, setIsOpenAssociateProduct] = useState(false);\r\n  const [selectedArtToAssociate, setSelectedArtToAssociate] =\r\n    useState(undefined);\r\n  const [selectedProductToAssociate, setSelectedProductToAssociate] =\r\n    useState(undefined);\r\n  const [valuesConsumerForm, setValuesConsumerForm] = useState();\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  document.addEventListener(\"contextmenu\", (event) => {\r\n    event.preventDefault();\r\n  });\r\n\r\n  useEffect(() => {\r\n    setInterval(() => {\r\n      expire(\"token\", \"tokenExpire\");\r\n    }, 60000);\r\n  }, []);\r\n\r\n  function addItemToBuyState(input) {\r\n    const newState = [...buyState];\r\n    if (input.type === \"product\") {\r\n      newState.push({\r\n        art: undefined,\r\n        product: input.item,\r\n      });\r\n    } else {\r\n      newState.push({\r\n        art: input.item,\r\n        product: undefined,\r\n      });\r\n    }\r\n    setBuyState(newState);\r\n    setIsOpenAssociateArt(false);\r\n    setIsOpenAssociateProduct(false);\r\n    localStorage.setItem(\"buyState\", JSON.stringify(newState));\r\n    setOpen(true);\r\n    setMessage(\r\n      input.type === \"product\"\r\n        ? \"Producto agregado al carrito correctamente, selecciona un arte que desees asociar.\"\r\n        : \"Arte agregado al carrito correctamente, selecciona un producto que desees asociar.\"\r\n    );\r\n  }\r\n  function AssociateProduct(input) {\r\n    const newState = [...buyState];\r\n    if (input.type === \"product\") {\r\n      newState[input.index].product = input.item;\r\n      newState[input.index].quantity = 1;\r\n      setBuyState(newState);\r\n    } else {\r\n      newState[input.index].art = input.item;\r\n      newState[input.index].quantity = 1;\r\n      setBuyState(newState);\r\n    }\r\n    setBuyState(newState);\r\n    localStorage.setItem(\"buyState\", JSON.stringify(newState));\r\n    setOpen(true);\r\n    setMessage(\r\n      input.type === \"product\"\r\n        ? \"Producto asociado correctamente.\"\r\n        : \"Arte asociado correctamente.\"\r\n    );\r\n  }\r\n\r\n  function changeQuantity(input) {\r\n    const newState = [...buyState];\r\n    if (input.quantity) {\r\n      newState[input.index].quantity = input.quantity;\r\n      setBuyState(newState);\r\n    }\r\n    // newState.push({\r\n    //   art: input.art,\r\n    //   product: input.product,\r\n    //   quantity: input.quantity,\r\n    // });\r\n    setBuyState(newState);\r\n    localStorage.setItem(\"buyState\", JSON.stringify(newState));\r\n  }\r\n\r\n  function deleteItemInBuyState(input) {\r\n    const newState = [...buyState];\r\n    const filterState = newState.filter((buy, index) => index !== input.id);\r\n    setBuyState(filterState);\r\n    localStorage.setItem(\"buyState\", JSON.stringify(filterState));\r\n    setOpen(true);\r\n    setMessage(\"Item eliminado correctamente\");\r\n  }\r\n\r\n  function deleteProductInItem(input) {\r\n    const newState = [...buyState];\r\n    const item = newState.findIndex((buy, index) => index === input.id);\r\n    if (input.type === \"product\") {\r\n      newState[item].product = undefined;\r\n    } else {\r\n      newState[item].art = undefined;\r\n    }\r\n    const filterState = newState.filter(\r\n      (item) => item.art !== undefined || item.product !== undefined\r\n    );\r\n    setBuyState(filterState);\r\n    if (\r\n      newState[item].product == undefined &&\r\n      newState[item].art == undefined\r\n    ) {\r\n      const filter = newState.filter((buy, index) => index !== input.id);\r\n      localStorage.setItem(\"buyState\", JSON.stringify(filter));\r\n    } else {\r\n      localStorage.setItem(\"buyState\", JSON.stringify(buyState));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route path=\"/iniciar\">\r\n          <Login />\r\n        </Route>\r\n\r\n        {/* Admin Routes */}\r\n        <Route path=\"/inicio-admin-prix\">\r\n          <AdminLogin />\r\n        </Route>\r\n\r\n        <Route path=\"/admin/dashboard\">\r\n          <AdminMain />\r\n        </Route>\r\n\r\n        <Route path=\"/admin\">\r\n          <AdminMain />\r\n        </Route>\r\n\r\n        <Route path=\"/admin/user/create\">\r\n          <AdminMain />\r\n        </Route>\r\n\r\n        <Route path=\"/admin/users/read\">\r\n          <AdminMain />\r\n        </Route>\r\n\r\n        <Route exact path=\"/user/update/:userId\" component={AdminMain} />\r\n\r\n        <Route path=\"/admin/product/create\">\r\n          <AdminMain />\r\n        </Route>\r\n\r\n        <Route path=\"/admin/products/read\">\r\n          <AdminMain />\r\n        </Route>\r\n\r\n        <Route exact path=\"/product/update/:productId\" component={AdminMain} />\r\n\r\n        <Route\r\n          exact\r\n          path=\"/product/:productId/variant/create\"\r\n          component={AdminMain}\r\n        />\r\n\r\n        <Route\r\n          exact\r\n          path=\"/product/:productId/variants/read\"\r\n          component={AdminMain}\r\n        />\r\n\r\n        <Route path=\"/admin/consumer/create\">\r\n          <AdminMain />\r\n        </Route>\r\n\r\n        <Route path=\"/admin/consumers/read\">\r\n          <AdminMain />\r\n        </Route>\r\n\r\n        <Route\r\n          exact\r\n          path=\"/consumer/update/:consumerId\"\r\n          component={AdminMain}\r\n        />\r\n\r\n        {/* END Admin Routes */}\r\n        <Route path=\"/productos\">\r\n          <Products\r\n            buyState={buyState}\r\n            addItemToBuyState={addItemToBuyState}\r\n            isOpenAssociateArt={isOpenAssociateArt}\r\n            setIsOpenAssociateArt={setIsOpenAssociateArt}\r\n            setSelectedArtToAssociate={setSelectedArtToAssociate}\r\n            selectedArtToAssociate={selectedArtToAssociate}\r\n            AssociateProduct={AssociateProduct}\r\n          />\r\n        </Route>\r\n\r\n        <Route path=\"/galeria\">\r\n          <Gallery\r\n            buyState={buyState}\r\n            addItemToBuyState={addItemToBuyState}\r\n            isOpenAssociateProduct={isOpenAssociateProduct}\r\n            setIsOpenAssociateProduct={setIsOpenAssociateProduct}\r\n            setSelectedProductToAssociate={setSelectedProductToAssociate}\r\n            selectedProductToAssociate={selectedProductToAssociate}\r\n            AssociateProduct={AssociateProduct}\r\n          />\r\n        </Route>\r\n\r\n        <Route path=\"/shopping\">\r\n          <ShoppingPage\r\n            buyState={buyState}\r\n            setBuyState={setBuyState}\r\n            deleteItemInBuyState={deleteItemInBuyState}\r\n            deleteProductInItem={deleteProductInItem}\r\n            setSelectedArtToAssociate={setSelectedArtToAssociate}\r\n            changeQuantity={changeQuantity}\r\n            valuesConsumerForm={valuesConsumerForm}\r\n            setValuesConsumerForm={setValuesConsumerForm}\r\n            setOpen={setOpen}\r\n            setMessage={setMessage}\r\n            // onCreateConsumer={onCreateConsumer}\r\n            // isProcessed={isProcessed}\r\n            // step={step}\r\n          />\r\n        </Route>\r\n\r\n        <Route path=\"/registrar/prixer\">\r\n          <PrixerRegistration />\r\n        </Route>\r\n\r\n        <Route path=\"/registrar\">\r\n          <Register />\r\n        </Route>\r\n\r\n        <Route path=\"/cambio-contraseña\">\r\n          <PasswordChange />\r\n        </Route>\r\n\r\n        <Route path=\"/olvido-contraseña\">\r\n          <ForgotPassword />\r\n        </Route>\r\n\r\n        <Route exact path=\"/recuperar/:token\" component={ResetPassword} />\r\n\r\n        <Route exact path=\"/:username/art/:artId\" component={FullscreenPhoto} />\r\n\r\n        <Route exact path=\"/:username\" component={PrixerProfile} />\r\n\r\n        <Route path=\"/prixer-profile\">\r\n          <PrixerProfile />\r\n        </Route>\r\n\r\n        <Route path=\"/\">\r\n          <Home\r\n            deleteItemInBuyState={deleteItemInBuyState}\r\n            component={Home}\r\n            buyState={buyState}\r\n            addItemToBuyState={addItemToBuyState}\r\n            isOpenAssociateProduct={isOpenAssociateProduct}\r\n            setIsOpenAssociateProduct={setIsOpenAssociateProduct}\r\n            setSelectedProductToAssociate={setSelectedProductToAssociate}\r\n            selectedProductToAssociate={selectedProductToAssociate}\r\n            AssociateProduct={AssociateProduct}\r\n          />\r\n        </Route>\r\n        <Route component={Home} />\r\n      </Switch>\r\n      <Snackbar\r\n        open={open}\r\n        autoHideDuration={3000}\r\n        message={message}\r\n        onClose={() => setOpen(false)}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport theme from './theme';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport axios from 'axios';\r\naxios.defaults.withCredentials = true;\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <ThemeProvider theme={theme}>\r\n      {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\r\n      <CssBaseline />\r\n      <App />\r\n    </ThemeProvider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","export const setProductAtts = async (\r\n  attValue,\r\n  attributesArr,\r\n  iProd,\r\n  iAtt,\r\n  productsArr,\r\n  width,\r\n  height\r\n) => {\r\n  let att = productsArr;\r\n  if (att && att.length > 0 && att[iProd] && att[iProd].selection) {\r\n    att[iProd].selection[iAtt] = attValue;\r\n  }\r\n  const pAtt = await getEquation(att[iProd], iProd, att, width, height);\r\n  return { pAtt: pAtt, att: att };\r\n  // setTiles(pAtt.pAtt ? [...pAtt.pAtt] : [...pAtt.att]);\r\n};\r\n\r\nexport const getAttributes = (products) => {\r\n  let lol = products;\r\n  lol = products.map((p, i) => {\r\n    let att = [];\r\n    p.variants.map((v) => {\r\n      if (v.active) {\r\n        if (att.length == 0) {\r\n          att = [...new Set(v.attributes.flatMap((a) => a))];\r\n        } else {\r\n          att.push(...new Set(v.attributes.flatMap((a) => a)));\r\n        }\r\n      }\r\n    });\r\n    const result = [...new Set(att.flatMap(({ name }) => name))];\r\n    const res1 = [\r\n      ...new Set(\r\n        result.map((a) => {\r\n          return {\r\n            name: a,\r\n            value: [\r\n              ...new Set(\r\n                att.map((v) => {\r\n                  if (v.name == a && v.value) {\r\n                    return v.value;\r\n                  }\r\n                })\r\n              ),\r\n            ].filter((a) => a),\r\n          };\r\n        })\r\n      ),\r\n    ];\r\n    p.attributes = res1;\r\n    p.selection = [];\r\n    p.selection.length = p.attributes.length;\r\n\r\n    return p;\r\n  });\r\n  return lol;\r\n};\r\n\r\nexport const structureEquation = (equation, i, width, height) => {\r\n  let eq = \"\";\r\n  equation.split(/[\\s{}}]+/).map((n, j, arr) => {\r\n    if (n == \"width\") {\r\n      eq = eq.concat(width[i] || 0);\r\n    } else if (n == \"height\") {\r\n      eq = eq.concat(height[i] || 0);\r\n    } else {\r\n      eq = eq.concat(n);\r\n    }\r\n  });\r\n  return eq;\r\n};\r\n\r\nexport const getEquation = async (\r\n  product,\r\n  iProd,\r\n  productArr,\r\n  width,\r\n  height\r\n) => {\r\n  if (product.selection) {\r\n    const filteredVars = await product.variants.filter((v, i) => {\r\n      if (\r\n        v.attributes &&\r\n        v.attributes.length != 0 &&\r\n        v.attributes.length == product.selection.length\r\n      ) {\r\n        return v.attributes.every((a) => product.selection.includes(a.value));\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n\r\n    if (filteredVars.length != 0) {\r\n      if (\r\n        filteredVars[0].publicPrice.equation &&\r\n        filteredVars[0].prixerPrice.equation\r\n      ) {\r\n        productArr[iProd].needsEquation = true;\r\n        productArr[iProd].publicEquation = eval(\r\n          structureEquation(\r\n            filteredVars[0].publicPrice.equation,\r\n            iProd,\r\n            width,\r\n            height\r\n          ) || 0\r\n        );\r\n        productArr[iProd].prixerEquation = eval(\r\n          structureEquation(\r\n            filteredVars[0].prixerPrice.equation,\r\n            iProd,\r\n            width,\r\n            height\r\n          ) || 0\r\n        );\r\n      } else {\r\n        productArr[iProd].needsEquation = false;\r\n      }\r\n    } else {\r\n      productArr[iProd].needsEquation = false;\r\n    }\r\n  } else {\r\n    productArr[iProd].needsEquation = false;\r\n    productArr[iProd].publicEquation = \"\";\r\n    productArr[iProd].prixerEquation = \"\";\r\n  }\r\n\r\n  return productArr;\r\n};\r\n"],"sourceRoot":""}